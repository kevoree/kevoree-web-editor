{"version":3,"sources":["app/app.js","app/treeview/treeview.js","app/treeview/treeview.controller.js","app/treeview/tab-tags/tab-tags.directive.js","app/treeview/tab-params/tab-params.directive.js","app/treeview/tab-create/tab-create.directive.js","app/treeview/tab-actions/tab-actions.directive.js","app/treeview/filter-parser.factory.js","app/treeview/do-filter.filter.js","app/settings/settings.js","app/settings/settings.controller.js","app/navbar/navbar.controller.js","app/main/typedefs/typedefs.controller.js","app/main/main.js","app/main/main.controller.js","app/main/instance/network-modal.controller.js","app/main/instance/instance.controller.js","app/main/instance/group-modal.controller.js","app/main/editor/select-chan-modal.controller.js","app/main/editor/editor.controller.js","app/libraries/tdef-detail.component.js","app/libraries/libraries.js","app/libraries/libraries.controller.js","app/libraries/klist.component.js","app/libraries/dus-modal.controller.js","app/libraries/dus-installer.component.js","app/kevscript/kevscript.js","app/kevscript/kevscript.controller.js","app/components/util/util.factory.js","app/components/util/trust-html.filter.js","app/components/util/truncate.directive.js","app/components/util/save-file.factory.js","app/components/util/on-data.directive.js","app/components/util/naming-pattern.filter.js","app/components/util/kevoree/model-helper.factory.js","app/components/util/is-compatible.filter.js","app/components/util/hljs.directive.js","app/components/util/focus.directive.js","app/components/util/drop-target.directive.js","app/components/util/camelize.filter.js","app/components/util/alert.directive.js","app/components/services/storage.service.js","app/components/kevoree/ws.factory.js","app/components/kevoree/ui/ui-utils.factory.js","app/components/kevoree/ui/ui.factory.js","app/components/kevoree/ui/ui.constant.js","app/components/kevoree/ui/createNode.factory.js","app/components/kevoree/ui/createGroupWire.factory.js","app/components/kevoree/ui/createGroup.factory.js","app/components/kevoree/ui/createComponent.factory.js","app/components/kevoree/ui/createChannel.factory.js","app/components/kevoree/ui/createBinding.factory.js","app/components/kevoree/stringToNumber.directive.js","app/components/kevoree/registry.factory.js","app/components/kevoree/loading-overlay.directive.js","app/components/kevoree/kevscript.factory.js","app/components/kevoree/kevoree.factory.js","app/components/kevoree/instanceName.directive.js","app/components/kevoree/instance.factory.js","app/components/kevoree/editor.factory.js","app/components/kevoree/dictionary.directive.js","app/components/deploy-unit/list/dus-list.component.js","app/components/cm-kevscript/mode.js","app/components/cm-kevscript/lint.js","app/components/cm-kevscript/hint.js","app/app.constants.js","app/app.config.js"],"names":["angular","module","run","$rootScope","$stateParams","kEditor","kFactory","kRegistry","kWs","Notification","VERSION","dndLoad","filename","data","model","oldModel","getModel","loader","createJSONLoader","loadModelFromString","get","err","console","error","stack","title","message","setModel","delay","success","keys","obj","isObject","Object","jQuery","fadeOut","this","remove","host","port","path","url","config","$stateProvider","state","parent","views","content@","templateUrl","controller","onExit","removeModelUpdateListeners","$scope","$timeout","$filter","$uibModal","kModelHelper","kFilterParser","saveFile","hotkeys","transformComponentToTreeItem","instance","nbInstances","item","name","kevsName","eContainer","type","typeName","typeDefinition","version","tags","getTags","selected","isSelected","selectedItems","push","transformNodeToTreeItem","folded","isFolded","children","components","array","map","transformGroupToTreeItem","transformChannelToTreeItem","transformModelToTree","nodes","concat","groups","hubs","expandItemByPath","i","items","length","setFolded","findByPath","processModel","onKeyDown","evt","ctrlPressed","ctrlKey","onKeyUp","selectByType","clearSelected","forEach","setSelected","limit","showTags","filterExpr","filterComparator","treeReverse","query","unregister","addNewModelListener","document","addEventListener","loadMore","onClick","indexOf","splice","onExpand","collapse","expand","selectAll","child","selectNodes","selectGroups","selectChannels","selectComponents","selectByTag","clear","toggleTags","reverseSort","createItem","parentNode","clearFilter","filterError","filterTimeout","onFilterExprChanged","cancel","parseFilterExpr","parse","found","location","start","column","open","preventDefault","onFileLoaded","loading","warn","click","merge","compare","createModelCompare","applyOn","openFromNode","size","$uibModalInstance","action","rendered","then","focus","confirm","closeError","close","mergeFromNode","save","serializer","createJSONSerializer","modelStr","serialize","JSON","stringify","deleteAll","deleteInstances","removeAllPackages","removeAllNodes","removeAllGroups","removeAllHubs","removeAllMBindings","removeAllRepositories","deleteSelection","selection","getSelection","warning","delete","toggleShortcutHelp","toggleCheatSheet","bindTo","add","combo","description","callback","connectSync","body","Math","floor","random","endsWith","str","suffix","substr","$on","removeEventListener","directive","restrict","scope","KWE_TAG","processTags","tag","removeTagFromStr","split","unwatchItems","$watchCollection","addTag","trim","tagMeta","findMetaDataByID","createValue","value","addMetaData","join","validate","removeTag","newTags","kInstance","util","link","convertType","process","prepend","append","min","max","each","toggleEachFlag","started","nets","first","types","getFqn","prev","curr","initDictionaries","dictionary","dictionaryType","select","attr","datatype","val","findValuesByID","newAttr","optional","isTruish","defaultValue","networkInformation","net","values","applyToAllInstances","content","randomString","randomNumber","randomBoolean","allRandom","toggleEach","createTdefItem","tdef","instanceTypes","node","getNodeTypes","group","getGroupTypes","channel","getChannelTypes","component","getComponentTypes","selectedType","selectedInstanceType","availableNodes","filter","selectedNode","instancesCount","verifyName","createInstances","instances","namePattern","index","metatype","createContainerNode","createGroup","createChannel","createComponentInstance","tagsMeta","findNodesByID","findGroupsByID","findHubsByID","j","findComponentsByID","create","addNodes","addGroups","addHubs","addComponents","onTypeChange","areInstanceTypesValid","isValid","processData","selectedGroup","processTag","tagsCount","modelHandler","unwatchTags","$watch","openGroupModal","resolve","factory","peg$subclass","ctor","constructor","prototype","peg$SyntaxError","expected","Error","captureStackTrace","peg$parse","input","text","substring","peg$savedPos","peg$currPos","peg$buildException","peg$computeLocation","peg$computePosDetails","pos","p","ch","details","peg$posDetailsCache","line","seenCR","charAt","startPos","endPos","startPosDetails","endPosDetails","offset","end","peg$fail","peg$maxFailPos","peg$maxFailExpected","cleanupExpected","sort","a","b","buildMessage","stringEscape","s","hex","charCodeAt","toString","toUpperCase","replace","expectedDesc","foundDesc","expectedDescs","Array","slice","peg$parseQuery","s0","s1","s2","s3","s4","s5","s6","s7","peg$parseExpr","peg$FAILED","peg$parse_","peg$c0","peg$silentFails","peg$c1","peg$c2","peg$parseTerm","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","peg$parseFilter","peg$parseIs","peg$parseVersion","peg$parseBound","peg$parseTag","peg$parseName","peg$c12","peg$c13","peg$parseIdentifierOrRegex","peg$c14","peg$c11","peg$c16","peg$c17","peg$parseIdentifier","peg$c18","peg$c15","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c19","peg$c32","peg$c33","peg$c34","peg$c31","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c35","peg$parseRegularExpressionLiteral","peg$c41","peg$c43","test","peg$c44","peg$c45","peg$c42","peg$c47","peg$c48","peg$parseRegularExpressionBody","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c46","peg$parseRegularExpressionFirstChar","peg$parseRegularExpressionChar","peg$c57","peg$c58","peg$parseRegularExpressionNonTerminator","peg$parseRegularExpressionBackslashSequence","peg$parseRegularExpressionClass","peg$c59","peg$c60","peg$c61","peg$c62","peg$parseLineTerminator","peg$parseSourceCharacter","peg$c63","peg$c64","peg$parseRegularExpressionClassChar","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c73","peg$c74","peg$c72","peg$result","options","arguments","peg$startRuleFunctions","Query","peg$startRuleFunction","head","tail","e","id","op","expr","operator","target","pattern","flags","RegExp","startRule","SyntaxError","actual","atomicName","match","some","atomicIs","is","atomicTag","atomicVers","vers","and","filtered","or","alreadyFiltered","notAddedItems","toAdd","kScript","storage","registryUrl","getUrl","changeKevoreeRegistry","URL","setUrl","canChangeKevoreeRegistry","undefined","clearKevScriptCache","prefix","TinyConf","localStorage","key","startsWith","canClearKevScriptCache","find","$state","isCollapsed","ui","KWE_POSITION","packages","pkgsMap","pkg","genPkgName","tdefs","descMeta","descValue","platforms","meta","getTypeDefinitionType","pkgPath","pkgName","collapsed","tdefName","dragDraggable","animate","placeholder","onStart","onDrag","onStop","dragOptions","revert","helper","addClasses","scroll","appendTo","containment","cursor","cursorAt","top","right","hasPackages","setDropTarget","hasClass","container","getElementById","left","offsetLeft","offsetTop","dataset","innerHTML","typeDef","findBestVersion","mousePos","x","clientX","y","clientY","clearTimeout","timeout","hoveredNode","removeClass","setTimeout","getHoveredNode","nodeBg","addClass","isCompatible","bind","addInstance","preProcess","selectedNodes","getSelectedNodes","nodeElem","parseInt","addHosts","addModelUpdateListener","unregister2","typedefs@main","editor@main","instance@main","controllerAs","editor","onModelHandler","drawModel","synced","syncWS","cloner","createModelCloner","currentModel","clone","disconnectSync","parentScope","WebSocket","clipboard","copy","getSelectedPaths","elem","paste","fixOverlapping","deletions","deleteSelected","newVal","addNewVal","addValues","addNetworkInformation","canSave","processTypeDefinition","vm","versions","selectedVersion","dus","deployUnits","dicAttrs","fragDicAttrs","processDictionary","dic","dicType","isFragment","fragmentDependant","processSelection","processing","css","preName","mainCollapsed","dicCollapsed","netCollapsed","descCollapsed","fragCollapsed","changeName","form","$valid","changeVersion","fragmentDictionary","fragDic","hasFragmentDictionary","hasNetworkInformation","manageNetwork","stopPropagation","addNetwork","createNetworkInfo","isReadOnly","isVirtual","groupModalHolder","selectedHost","selectedPort","selectedPath","modelHasErrors","hosts","127.0.0.1","ports","9000","paths","/","changeHost","changePort","changePath","subNodes","findFragmentDictionaryByID","closeModelHasErrorsWarning","closeSuccess","ws","pushModel","pull","startPort","endPort","orderByFilter","chan","isAlreadyBound","chanInstance","getRefInParent","uiUtils","KWE_FOLDED","moveInstance","axis","delta","posMeta","pt","init","dropDroppable","onDrop","dropOptions","accept","getDropTarget","getPointInEditor","m","f","element","draggable","transform","localMatrix","dropTarget","initFragmentDictionaries","foldMeta","TdefDetailController","$q","$onChanges","changes","currentValue","ctrl","disabled","onVersionChanged","addDusToModel","onAddDusToModel","baseUrl","bindings","$inject","updateTdefs","tdefDetail","tdefDetailVersions","activeNs","namespaces","ns","active","getTdefsByNamespace","getTdefVersions","getTdefDus","namespace","getLatestsByNamespace","getAllByNamespaceAndName","all","du","getReleases","getLatests","results","releases","transformDUS","latests","selectNs","nsClicked","selectTdef","tdefClicked","changeTdefVersion","currentDus","result","mergeDUSInModel","findPackagesByID","createPackage","withName","addPackages","addTypeDefinitions","addDeployUnits","KListController","isDefined","props","selectable","onSelect","elems","DusModalController","DusInstallerController","addToModel","onAddToModel","saveToFile","event","kevscript","finally","openFromFile","ctxVars","lintWarnings","linting","typing","editorState","editorOptions","mode","theme","lineWrapping","lineNumbers","styleActiveLine","extraKeys","Shift-Enter","Ctrl-Space","cm","showHint","hint","CodeMirror","completeSingle","alignWithWord","Ctrl-S","Ctrl-O","gutters","lint","getAnnotations","async","editorLoaded","_editor","on","lintErrors","severity","signal","uploadKevscript","kevscriptUpload","reader","FileReader","onloadend","setValue","readAsBinaryString","files","trigger","closeMessage","isMergeable","clearCtxVars","addCtxVar","ctxVar","removeCtxVar","model2kevs","parseModel","possible","arrayUnique","$sce","trustAsHtml","TruncateController","expanded","isNumber","expandable","toggleText","reduce","modifiedContent","trustedHtml","toggle","template","ext","kevsAsBlob","Blob","downloadLink","createElement","download","navigator","userAgent","toLowerCase","href","createObjectURL","onclick","removeChild","style","display","appendChild","$parse","attrs","fn","onData","onload","onLoadEvt","$apply","$data","$name","readAsText","ignore","rInt","rStr","rIntMatch","exec","rIntVal","rStrMatch","rStrVal","KWE_SELECTED","genNewName","count","conflictInst","newName","walk","metaClassName","best","getPlatforms","platform","findFiltersByID","getNodeTreeHeight","heights","height","getNodeTreeHeights","getCompDepth","comp","depth","getNbInstances","getNbNodes","getNbGroups","getNbChannels","getNbComponents","getHighestNode","nodePlatforms","bound","hub","attributes","findAttributesByID","isValueValid","virtual","isChannelDistributed","binding","isAttributeInType","attrName","fqnToPath","fqn","pop","last","pkgFqnToPath","initClone","instancePosMeta","instancePos","that","cloneDictionary","subNode","clonedNode","createDictionary","withGenerated_KMF_ID","nodeName","hljs","highlightBlock","show","Boolean","DND_CLASS","dropHandler","dataTransfer","originalEvent","file","$event","overlay","hide","dragOverHandler","tid","dragLeaveHandler","off","_","c","$element","$attrs","loadEvent","fileread","$eval","onfileread","service","defaultVal","getItem","set","setItem","removeItem","len","cleanPath","answer","failed","onopen","send","onmessage","msg","onerror","onclose","sent","NODE_HEIGHT","NODE_WIDTH","COMP_HEIGHT","CHANNEL_RADIUS","GROUP_RADIUS","getNodeUIHeight","getCompUIHeight","provided","required","getHighestNodePath","getAbsoluteBBox","walkUp","parentBox","getBBox","bbox","isPointInsideElem","width","computeWireNodeAnchor","from","to","getHorizontalAlignment","getVerticalAlignment","alignment","computeBindingCoords","portElem","chanElem","chanM","compBox","portM","middle","updateSVGDefs","clipPath","defs","getElementsByTagName","createElementNS","grpCircle","setAttribute","chanCircle","nodeTreeHeights","nodeClip","nodeRect","compClip","compRect","uiCreateGroup","uiCreateGroupWire","uiCreateNode","uiCreateComponent","uiCreateBinding","uiCreateChannel","INVALID_RADIUS","overedInstancePath","draggedInstancePath","Snap","zpd","zoomThreshold","zoomScale","zpdEditor","mousedown","which","observer","MutationObserver","mutations","mutation","attributeName","matrix","observe","childList","characterData","dblclick","mina","ease","fill","textAnchor","createGroupWire","createNode","createComponent","createBinding","updateValidity","icon","circle","class","stroke","deleteInstance","highestNodePath","refreshNode","highestNode","redrawWire","redrawBindings","deleteGroupWire","groupPath","nodePath","deleteBinding","bindingPath","getSelected","readOnly","deleteChild","grp","removeGroups","removeSubNodes","removeUIElem","deleteNodes","deleteGroups","deleteChannels","deleteBindings","updateInstance","previousPath","data-path","relocate","compElem","fillOpacity","data-to","data-from","updatePosition","updateCompTypeDefinition","oldTypeDef","oldPortType","portType","findRequiredByID","portTypeRef","findProvidedByID","compUi","toggleFold","toggleChannel","uiChan","strokeDasharray","toggleBinding","uiBinding","togglePort","toggleComp","uiComp","toggleSubNodes","uiNode","treeHeight","computedWidth","clip-path","refreshComp","dy","asPX","PORT_X_PADDING","bg","getNodePathAtPoint","getEditorContainer","bannedPath","getHoveredChan","chans","isPointInsideBBox","getHoveredPort","hasErrors","order","plugin","Element","dragStart","insertBefore","nextSibling","handlers","handler","apply","local","dragMove","dx","dragStartX","dragStartY","changedTouches","firstDragMoveHandlers","dragEnd","args","removeData","drag","startPtDrag","endPtDrag","firstDragMove","cancelBubble","shiftKey","toggleClass","touchstart","constant","computedHeight","rect","strokeWidth","nameText","tdefText","removeHosts","redrawBinding","redrawChild","wire","updateWire","updateBindings","updateBindingCoords","computeData","grpElem","wireElem","grpMatrix","toBox","wireBg","toAnchor","d","getPointAtLength","cx","cy","strokeLineCap","strokeLineJoin","mouseover","mouseout","nodePlug","newTo","anchor","nTo","GROUP_PLUG_RADIUS","opacity","plug","r","plugPos","findSubNodesByID","grpM","nodeInstance","addSubNodes","output","hostHeight","providedDy","requiredDy","portPlug","portPos","portText","chanBg","createPort","addProvided","hoveredChan","createMBinding","addMBindings","hoveredPort","otherPortName","otherPortComp","otherPort","addRequired","binding2","data-name","removeComponents","mousemove","bindingElem","coords","path0","pt0","bindingBg","pt1","chanDx","chanDy","portDx","portDy","require","ngModel","$parsers","$formatters","parseFloat","KevoreeRegistryService","KEVOREE_REGISTRY_URL","protocol","hostname","cachedUrl","allNamespaces","when","KevoreeRegistryClient","getLatestTdefsByNamespace","transformTdef","getAllTdefsByNamespaceAndName","getDuReleases","transformDu","getDuLatests","inferType","getDescription","inferTypeFromJSON","getDescriptionFromJSON","desc","metaData","storedUrl","preSetModelHandler","postSetModelHandler","html","addPreSetModelHandler","addPostSetModelHandler","noop","logger","info","log","debug","setLevel","setTag","KevoreeKevscript","resolver","Resolvers","tagResolverFactory","modelResolverFactory","registryResolverFactory","KevoreeLibrary","DefaultKevoreeFactory","instanceType","$setValidity","createFragmentDictionary","addFragmentDictionary","modelReactor","trace","processRefreshRecursively","invokeModelUpdateListeners","elementAttributeName","etype","modeling","api","ActionType","object","REMOVE","source","previous_value","hasBinding","REMOVE_ALL","ADD","updateChildNode","childNode","SET","processPort","KevoreeEditor","createContainerRoot","root","modelUpdateListenersEnabled","modelUpdateListeners","newModelListeners","modelListener","elementChanged","KevoreeValidator","addModelTreeListener","invokeNewModelListeners","removeModelTreeListener","listener","strict","disableModelUpdateListeners","enableModelUpdateListeners","removeAllListeners","removeNewModelListeners","groupX","chanX","nodeX","mBindings","fragment","DusListController","defineMode","STATES","regex","token","stmt","instancePath","addStmt","next","setStmt","repoStmt","includeStmt","networkStmt","attachStmt","detachStmt","moveStmt","removeStmt","startStmt","stopStmt","pauseStmt","bindStmt","unbindStmt","typedef","matches","tdefversion","duversion","versionDecl","ctxvar","genctxvar","singlequote","doublequote","namelist","namelistInstancepath","instancepathInstancepath","instancepath","network","networkVal","lineComment","startState","stream","pending","pend","shift","rules","rule","onPop","backUp","copyState","findLine","lines","relativeToLine","tmp","tokens","registerHelper","updateLinting","warnings","nt","Pos","col","lintedModel","rootInstances","findRootInstance","getType","spaceHelper","doc","replaceSelection","HINT_TPL","querySelector","getCursor","getTokenAt","cur","string","list","ns0","ns1","localeCompare","typeText","bufferText","className","render","renderedTpl","Mustache","getAllByNamespace","tdef0","tdef1","item0","item1","rootInstance","$urlRouterProvider","hotkeysProvider","hljsServiceProvider","NotificationProvider","otherwise","abstract","navbar@","setOptions","tabReplace","startTop","replaceMessage","ttl","$templateCache","put"],"mappings":"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","file":"app/app-ba80c56567.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc overview\n * @name editorApp\n * @description\n * # editorApp\n *\n * Main module of the application.\n */\nangular\n\t.module('editorApp', [\n  'ngAnimate',\n  'ngTouch',\n  'ui.router',\n  'ui.bootstrap',\n  'ui.codemirror',\n  'ui-notification',\n  'cfp.hotkeys',\n  'ngDragDrop',\n  'hljs',\n  'infinite-scroll'\n])\n\t.run(function ($rootScope, $stateParams, kEditor, kFactory, kRegistry, kWs, Notification, VERSION) {\n  $rootScope.VERSION = VERSION;\n\n  $rootScope.dndLoad = function (filename, data) {\n    var oldModel = kEditor.getModel();\n    var loader = kFactory.createJSONLoader();\n    var model;\n    try {\n      model = loader.loadModelFromString(data).get(0);\n    } catch (err) {\n\t\t\t\tconsole.error('[app.dndLoad()] Error loading model file'); // eslint-disable-line\n\t\t\t\tconsole.error(err.stack); // eslint-disable-line\n      Notification.error({\n        title: 'Open from file (dnd)',\n        message: 'Unable to load a model from <strong>' + filename + '</strong>'\n      });\n      kEditor.setModel(oldModel);\n      return;\n    }\n\n    kEditor.setModel(model, function (err) {\n      if (err) {\n        Notification.error({\n          title: 'Open from file (dnd)',\n          message: 'Unable to load model from <strong>' + filename + '</strong><br/>' + err.message,\n          delay: 15000\n        });\n      } else {\n        Notification.success({\n          title: 'Open from file (dnd)',\n          message: 'Model loaded from <strong>' + filename + '</strong>'\n        });\n      }\n    });\n  };\n\n  $rootScope.keys = function (obj) {\n    if (angular.isObject(obj)) {\n      return Object.keys(obj);\n    }\n    return false;\n  };\n\n\t\t// fade out the loading container when bootstrap is done\n  jQuery('#bootstrap-container').fadeOut(function () {\n    this.remove();\n    if ($stateParams.host) {\n      kWs.getModel($stateParams.host, $stateParams.port || 9000, $stateParams.path || '', function (err, model, url) {\n        if (err) {\n          Notification.error({\n            title: 'Open from node',\n            message: 'Unable to load model from <strong>' + url + '</strong>'\n          });\n        } else {\n          kEditor.setModel(model);\n          Notification.success({\n            title: 'Open from node',\n            message: 'Model loaded from <strong>' + url + '</strong>'\n          });\n        }\n      });\n    }\n  });\n});\n","'use strict';\n\nangular.module('editorApp')\n\t.config(function ($stateProvider) {\n  $stateProvider\n\t\t\t.state('treeview', {\n  parent: 'app',\n  url: '/treeview',\n  views: {\n    'content@': {\n      templateUrl: 'app/treeview/treeview.html',\n      controller: 'TreeViewCtrl'\n    }\n  },\n  onExit: function (kEditor) {\n    kEditor.removeModelUpdateListeners('treeview');\n  }\n});\n});\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:TreeViewCtrl\n * @description\n * # TreeViewCtrl\n * Controller of the editorApp treeview page\n */\nangular.module('editorApp').controller('TreeViewCtrl', function($scope, $timeout, $filter, $uibModal, kEditor, kModelHelper, kFactory, kWs, kFilterParser, saveFile, hotkeys, Notification) {\n  function transformComponentToTreeItem(instance) {\n    $scope.nbInstances += 1;\n    var item = {\n      name: instance.name,\n      kevsName: instance.eContainer().name + '.' + instance.name,\n      type: 'component',\n      typeName: instance.typeDefinition.name,\n      version: instance.typeDefinition.version,\n      tags: kModelHelper.getTags(instance),\n      path: instance.path(),\n      selected: kModelHelper.isSelected(instance)\n    };\n    if (item.selected) {\n      $scope.selectedItems.push(item);\n    }\n    return item;\n  }\n\n  function transformNodeToTreeItem(instance) {\n    $scope.nbInstances += 1;\n    var item = {\n      name: instance.name,\n      type: 'node',\n      typeName: instance.typeDefinition.name,\n      version: instance.typeDefinition.version,\n      tags: kModelHelper.getTags(instance),\n      path: instance.path(),\n      folded: kModelHelper.isFolded(instance),\n      selected: kModelHelper.isSelected(instance),\n      children: instance.components.array.map(transformComponentToTreeItem)\n    };\n    if (item.selected) {\n      $scope.selectedItems.push(item);\n    }\n    return item;\n  }\n\n  function transformGroupToTreeItem(instance) {\n    $scope.nbInstances += 1;\n    var item = {\n      name: instance.name,\n      type: 'group',\n      typeName: instance.typeDefinition.name,\n      version: instance.typeDefinition.version,\n      tags: kModelHelper.getTags(instance),\n      path: instance.path(),\n      selected: kModelHelper.isSelected(instance)\n    };\n    if (item.selected) {\n      $scope.selectedItems.push(item);\n    }\n    return item;\n  }\n\n  function transformChannelToTreeItem(instance) {\n    $scope.nbInstances += 1;\n    var item = {\n      name: instance.name,\n      type: 'channel',\n      typeName: instance.typeDefinition.name,\n      version: instance.typeDefinition.version,\n      tags: kModelHelper.getTags(instance),\n      path: instance.path(),\n      selected: kModelHelper.isSelected(instance)\n    };\n    if (item.selected) {\n      $scope.selectedItems.push(item);\n    }\n    return item;\n  }\n\n  function transformModelToTree(model) {\n    return model.nodes.array.map(transformNodeToTreeItem).concat(model.groups.array.map(transformGroupToTreeItem)).concat(model.hubs.array.map(transformChannelToTreeItem));\n  }\n\n  function expandItemByPath(path) {\n    for (var i = 0; i < $scope.items.length; i++) {\n      if ($scope.items[i].path === path) {\n        if ($scope.items[i].folded) {\n          $scope.items[i].folded = false;\n          kModelHelper.setFolded(kEditor.getModel().findByPath($scope.items[i].path), false);\n        }\n        return;\n      }\n    }\n  }\n\n  function processModel() {\n    $scope.nbInstances = 0;\n    $scope.selectedItems = [];\n    $scope.items = transformModelToTree(kEditor.getModel());\n  }\n\n  $scope.items = [];\n  $scope.limit = 30;\n  $scope.nbInstances = 0;\n  $scope.showTags = true;\n  $scope.selectedItems = [];\n  $scope.filterExpr = '';\n  $scope.filterComparator = false;\n  $scope.treeReverse = false;\n  $scope.query = null;\n\n  var unregister = kEditor.addNewModelListener('treeview', processModel);\n  processModel();\n\n  var ctrlPressed = false;\n  function onKeyDown(evt) {\n    ctrlPressed = evt.ctrlKey;\n  }\n\n  function onKeyUp(evt) {\n    ctrlPressed = evt.ctrlKey;\n  }\n\n  document.addEventListener('keydown', onKeyDown);\n  document.addEventListener('keyup', onKeyUp);\n\n  $scope.loadMore = function() {\n    if ($scope.items.length > $scope.limit) {\n      $scope.limit += 10;\n    }\n  };\n\n  $scope.onClick = function(item) {\n    var selected = item.selected;\n    if (!ctrlPressed) {\n      if (selected && $scope.selectedItems.length > 1 && $scope.selectedItems.indexOf(item) !== -1) {\n        selected = !selected;\n      }\n      $scope.selectedItems.forEach(function(item) {\n        kModelHelper.setSelected(kEditor.getModel().findByPath(item.path), false);\n        item.selected = false;\n      });\n      $scope.selectedItems.length = 0;\n    }\n    kModelHelper.setSelected(kEditor.getModel().findByPath(item.path), !selected);\n    item.selected = !selected;\n    if (item.selected) {\n      $scope.selectedItems.push(item);\n    } else {\n      $scope.selectedItems.splice($scope.selectedItems.indexOf(item), 1);\n    }\n  };\n\n  $scope.onExpand = function(item) {\n    item.folded = !item.folded;\n    kModelHelper.setFolded(kEditor.getModel().findByPath(item.path), item.folded);\n  };\n\n  $scope.collapse = function() {\n    $scope.items.forEach(function(item) {\n      if (item.type === 'node') {\n        item.folded = true;\n        kModelHelper.setFolded(kEditor.getModel().findByPath(item.path), true);\n      }\n    });\n  };\n\n  $scope.expand = function() {\n    $scope.items.forEach(function(item) {\n      if (item.type === 'node') {\n        item.folded = false;\n        kModelHelper.setFolded(kEditor.getModel().findByPath(item.path), false);\n      }\n    });\n  };\n\n  $scope.selectAll = function() {\n    $scope.selectedItems.length = 0;\n    $scope.items.forEach(function(item) {\n      item.selected = true;\n      var instance = kEditor.getModel().findByPath(item.path);\n      kModelHelper.setSelected(instance, true);\n      $scope.selectedItems.push(item);\n      if (item.children) {\n        item.children.forEach(function(child) {\n          child.selected = true;\n          item.folded = false;\n          kModelHelper.setFolded(instance, false);\n          kModelHelper.setSelected(kEditor.getModel().findByPath(child.path), true);\n          $scope.selectedItems.push(child);\n        });\n      }\n    });\n  };\n\n  function selectByType(type) {\n    if (!ctrlPressed) {\n      $scope.clearSelected();\n    }\n\n    $scope.items.forEach(function(item) {\n      if (item.type === type) {\n        item.selected = true;\n        $scope.selectedItems.push(item);\n        kModelHelper.setSelected(kEditor.getModel().findByPath(item.path), true);\n      }\n    });\n  }\n\n  $scope.selectNodes = function() {\n    selectByType('node');\n  };\n\n  $scope.selectGroups = function() {\n    selectByType('group');\n  };\n\n  $scope.selectChannels = function() {\n    selectByType('channel');\n  };\n\n  $scope.selectComponents = function() {\n    if (!ctrlPressed) {\n      $scope.clearSelected();\n    }\n\n    $scope.items.forEach(function(item) {\n      if (item.type === 'node') {\n        if (item.children) {\n          item.children.forEach(function(child) {\n            item.folded = false;\n            child.selected = true;\n            kModelHelper.setFolded(kEditor.getModel().findByPath(item.path), false);\n            kModelHelper.setSelected(kEditor.getModel().findByPath(child.path), true);\n            $scope.selectedItems.push(child);\n          });\n        }\n      }\n    });\n  };\n\n  $scope.selectByTag = function(items) {\n    if (!ctrlPressed) {\n      $scope.clearSelected();\n    }\n\n    items.forEach(function(item) {\n      item.selected = true;\n      $scope.selectedItems.push(item);\n      var instance = kEditor.getModel().findByPath(item.path);\n      kModelHelper.setSelected(instance, true);\n      if (item.type === 'component') {\n        expandItemByPath(instance.eContainer().path());\n      }\n    });\n  };\n\n  $scope.clearSelected = function() {\n    $scope.selectedItems.forEach(function clear(item) {\n      item.selected = false;\n      kModelHelper.setSelected(kEditor.getModel().findByPath(item.path), false);\n      if (item.children) {\n        item.children.forEach(clear);\n      }\n    });\n    $scope.selectedItems.length = 0;\n  };\n\n  $scope.toggleTags = function() {\n    $scope.showTags = !$scope.showTags;\n  };\n\n  $scope.reverseSort = function() {\n    $scope.treeReverse = !$scope.treeReverse;\n  };\n\n  $scope.createItem = function(type, instance, parentNode) {\n    switch (type) {\n      case 'node':\n        $scope.items.push(transformNodeToTreeItem(instance));\n        break;\n\n      case 'group':\n        $scope.items.push(transformGroupToTreeItem(instance));\n        break;\n\n      case 'channel':\n        $scope.items.push(transformChannelToTreeItem(instance));\n        break;\n\n      case 'component':\n        for (var i = 0; i < $scope.items.length; i++) {\n          if ($scope.items[i].path === parentNode.path()) {\n            $scope.items[i].children.push(transformComponentToTreeItem(instance));\n            break;\n          }\n        }\n        break;\n    }\n  };\n\n  $scope.clearFilter = function() {\n    $scope.query = null;\n    $scope.filterExpr = '';\n    $scope.filterError = null;\n  };\n\n  var filterTimeout;\n  $scope.onFilterExprChanged = function() {\n    $timeout.cancel(filterTimeout);\n    filterTimeout = $timeout(function() {\n      $scope.parseFilterExpr();\n    }, 300);\n  };\n\n  $scope.parseFilterExpr = function() {\n    if ($scope.filterExpr.length === 0) {\n      $scope.query = null;\n      $scope.filterError = null;\n    } else {\n      try {\n        $scope.query = kFilterParser.parse($scope.filterExpr);\n        $scope.filterError = null;\n      } catch (err) {\n        $scope.query = null;\n        $scope.filterError = err.name + ': \"' + err.found + '\" at col.' + err.location.start.column;\n      }\n    }\n  };\n\n  $scope.open = function(evt) {\n    evt.preventDefault();\n\n    $scope.onFileLoaded = function(filename, data) {\n      $timeout(function() {\n        $scope.loading = true;\n        $timeout(function() {\n          var oldModel = kEditor.getModel();\n          try {\n            var loader = kFactory.createJSONLoader();\n            var model = loader.loadModelFromString(data).get(0);\n            kEditor.setModel(model);\n            Notification.success({\n              title: 'Open from file',\n              message: 'Model loaded from <strong>' + filename + '</strong>'\n            });\n          } catch (err) {\n\t\t\t\t\t\tconsole.warn('[treeview.controller.open()] Error loading model file'); // eslint-disable-line\n\t\t\t\t\t\tconsole.error(err.stack); // eslint-disable-line\n            Notification.error({\n              title: 'Open from file',\n              message: 'Unable to load a model from <strong>' + filename + '</strong>'\n            });\n            kEditor.setModel(oldModel);\n          } finally {\n            $scope.loading = false;\n          }\n        });\n      });\n    };\n    jQuery('input#file').click();\n  };\n\n  $scope.merge = function(evt) {\n    evt.preventDefault();\n    $scope.onFileLoaded = function mergeModel(filename, data) {\n      $timeout(function() {\n        $scope.loading = true;\n        $timeout(function() {\n          try {\n            var loader = kFactory.createJSONLoader();\n            var compare = kFactory.createModelCompare();\n            var model = loader.loadModelFromString(data).get(0);\n            compare.merge(model, kEditor.getModel()).applyOn(model);\n            kEditor.setModel(model);\n            Notification.success({\n              title: 'Merge from file',\n              message: 'Model merged with <strong>' + filename + '</strong>'\n            });\n          } catch (err) {\n\t\t\t\t\t\tconsole.warn('[treeview.controller.merge()] Error loading model file'); // eslint-disable-line\n\t\t\t\t\t\tconsole.error(err.stack); // eslint-disable-line\n            Notification.error({\n              title: 'Merge from file',\n              message: 'Unable to merge the model with <strong>' + filename + '</strong>'\n            });\n          } finally {\n            $scope.loading = false;\n          }\n        });\n      });\n    };\n    jQuery('input#file').click();\n  };\n\n  $scope.openFromNode = function(evt) {\n    evt.preventDefault();\n\n    $uibModal.open({\n      templateUrl: 'app/components/util/host-port-path.modal.html',\n      size: 'md',\n      controller: function($scope, $uibModalInstance) {\n        $scope.title = 'Open from node';\n        $scope.action = 'Open';\n        $scope.host = '127.0.0.1';\n        $scope.port = 9000;\n        $scope.path = '/';\n\n        $uibModalInstance.rendered.then(function() {\n          $timeout(function() {\n            jQuery('#host').focus();\n          }, 250);\n        });\n\n        $scope.confirm = function() {\n          $scope.closeError();\n\n          kWs.getModel($scope.host, $scope.port, $scope.path, function(err, model, url) {\n            if (err) {\n              $timeout(function() {\n                $scope.error = err.message;\n              });\n            } else {\n              kEditor.setModel(model);\n              Notification.success({\n                title: $scope.title,\n                message: 'Model loaded from <strong>' + url + '</strong>'\n              });\n              $uibModalInstance.close();\n            }\n          });\n        };\n\n        $scope.closeError = function() {\n          $scope.error = null;\n        };\n      }\n    });\n  };\n\n  $scope.mergeFromNode = function(evt) {\n    evt.preventDefault();\n\n    $uibModal.open({\n      templateUrl: 'app/components/util/host-port-path.modal.html',\n      size: 'md',\n      controller: function($scope, $uibModalInstance, kWs) {\n        $scope.title = 'Merge from node';\n        $scope.action = 'Merge';\n        $scope.host = '127.0.0.1';\n        $scope.port = 9000;\n        $scope.path = '/';\n\n        $uibModalInstance.rendered.then(function() {\n          $timeout(function() {\n            jQuery('#host').focus();\n          }, 250);\n        });\n\n        $scope.confirm = function() {\n          $scope.closeError();\n\n          kWs.getModel($scope.host, $scope.port, $scope.path, function(err, model, url) {\n            if (err) {\n              $timeout(function() {\n                $scope.error = err.message;\n              });\n            } else {\n              var compare = kFactory.createModelCompare();\n              compare.merge(model, kEditor.getModel()).applyOn(model);\n              kEditor.setModel(model);\n              Notification.success({\n                title: $scope.title,\n                message: 'Model merged with <strong>' + url + '</strong>'\n              });\n              $uibModalInstance.close();\n            }\n          });\n        };\n\n        $scope.closeError = function() {\n          $scope.error = null;\n        };\n      }\n    });\n  };\n\n  $scope.save = function(evt, filename) {\n    evt.preventDefault();\n    var serializer = kFactory.createJSONSerializer();\n\n    try {\n\t\t\t// serialize model\n      var modelStr = serializer.serialize(kEditor.getModel());\n\t\t\t// prettify model\n      modelStr = JSON.stringify(JSON.parse(modelStr), null, 4);\n\t\t\t// download model on client\n      saveFile.save(modelStr, filename, '.json', 'application/json');\n    } catch (err) {\n      Notification.error({title: 'Save', message: 'Unable to serialize model to JSON'});\n    }\n  };\n\n  $scope.deleteAll = function(evt) {\n    evt.preventDefault();\n    $scope.deleteInstances(evt);\n    kEditor.getModel().removeAllPackages();\n  };\n\n  $scope.deleteInstances = function(evt) {\n    evt.preventDefault();\n    var model = kEditor.getModel();\n    model.removeAllNodes();\n    model.removeAllGroups();\n    model.removeAllHubs();\n    model.removeAllMBindings();\n    model.removeAllRepositories();\n    processModel();\n  };\n\n  $scope.deleteSelection = function(evt) {\n    evt.preventDefault();\n    var selection = kModelHelper.getSelection(kEditor.getModel());\n    if (selection.length === 0) {\n      Notification.warning({title: 'Delete selection', message: 'Nothing selected'});\n    } else {\n      selection.forEach(function(instance) {\n        instance.delete();\n      });\n      processModel();\n    }\n  };\n\n  $scope.toggleShortcutHelp = function() {\n    hotkeys.toggleCheatSheet();\n  };\n\n  hotkeys.bindTo($scope).add({combo: 'ctrl+o', description: 'Open a model from a file', callback: $scope.open});\n\n  hotkeys.bindTo($scope).add({combo: 'ctrl+m', description: 'Merge a model from a file with current model in editor', callback: $scope.merge});\n\n  hotkeys.bindTo($scope).add({combo: 'ctrl+shift+o', description: 'Open a model from a node', callback: $scope.openFromNode});\n\n  hotkeys.bindTo($scope).add({combo: 'ctrl+shift+m', description: 'Merge a model from a node with current model in editor', callback: $scope.mergeFromNode});\n\n  hotkeys.bindTo($scope).add({combo: 'ctrl+shift+g', description: 'Connect to a Web Socket server and stay synced with it', callback: $scope.connectSync});\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+s',\n    description: 'Save the current model into a JSON file',\n    callback: function(evt) {\n      evt.preventDefault();\n      var saveFile = $scope.save;\n      $uibModal.open({\n        templateUrl: 'app/components/util/filename.modal.html',\n        size: 'sm',\n        controller: function($scope, $uibModalInstance) {\n          $scope.title = 'Save model';\n          $scope.body = 'Would you like to save your current model to a file?';\n          $scope.filename = 'model' + (Math.floor(Math.random() * (1000 - 100)) + 100);\n          $uibModalInstance.rendered.then(function() {\n            $timeout(function() {\n              jQuery('#filename').focus();\n            }, 250);\n          });\n\n          $scope.save = function() {\n            function endsWith(str, suffix) {\n              return str.indexOf(suffix, str.length - suffix.length) !== -1;\n            }\n            var suffix = '.json';\n            if (endsWith($scope.filename, suffix)) {\n              $scope.filename = $scope.filename.substr(0, $scope.filename.length - suffix.length);\n            }\n            saveFile(evt, $scope.filename);\n            $uibModalInstance.close();\n          };\n        }\n      });\n    }\n  });\n\n  hotkeys.bindTo($scope).add({combo: 'alt+shift+d', description: 'Delete everything in the current model', callback: $scope.deleteAll});\n\n  hotkeys.bindTo($scope).add({combo: 'alt+shift+i', description: 'Delete instances in the current model', callback: $scope.deleteInstances});\n\n  hotkeys.bindTo($scope).add({combo: 'del', description: 'Delete selected instances in the current model', callback: $scope.deleteSelection});\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+a',\n    description: 'Select all instances',\n    callback: function(evt) {\n      evt.preventDefault();\n      $scope.selectAll();\n    }\n  });\n\n  $scope.$on('$destroy', function() {\n    unregister();\n    document.removeEventListener('keydown', onKeyDown);\n    document.removeEventListener('keyup', onKeyUp);\n    $timeout.cancel(filterTimeout);\n  });\n});\n","'use strict';\n\nangular.module('editorApp')\n  .directive('tabTags', function () {\n    return {\n      restrict: 'E',\n      scope: true,\n      templateUrl: 'app/treeview/tab-tags/tab-tags.html',\n      controller: function ($scope, kEditor, kFactory, kModelHelper, KWE_TAG) {\n        $scope.tag = '';\n        $scope.tags = [];\n\n        function processTags() {\n          $scope.tags = [];\n\n          $scope.selectedItems.forEach(function (item) {\n            var instance = kEditor.getModel().findByPath(item.path);\n            kModelHelper.getTags(instance).forEach(function (tag) {\n              if ($scope.tags.indexOf(tag) === -1) {\n                $scope.tags.push(tag);\n              }\n            });\n          });\n        }\n\n        /**\n         * This does not mutate the given str\n         */\n        function removeTagFromStr(tag, str) {\n          var tags = str.split(',');\n          var i = tags.indexOf(tag);\n          if (i !== -1) {\n            tags.splice(i, 1);\n          }\n          return tags;\n        }\n\n        processTags();\n        var unwatchItems = $scope.$watchCollection('selectedItems', processTags);\n        $scope.$on('$destroy', unwatchItems);\n\n        $scope.addTag = function () {\n          if ($scope.tag.trim().length > 0 && $scope.tag.indexOf(',') === -1) {\n            $scope.tag = $scope.tag.trim();\n            $scope.selectedItems.forEach(function (item) {\n              var instance = kEditor.getModel().findByPath(item.path);\n              var tagMeta = instance.findMetaDataByID(KWE_TAG);\n              if (!tagMeta) {\n                tagMeta = kFactory.createValue();\n                tagMeta.name = KWE_TAG;\n                tagMeta.value = '';\n                instance.addMetaData(tagMeta);\n              }\n              var tags = kModelHelper.getTags(instance);\n              if (tags.indexOf($scope.tag) === -1) {\n                // add tag to instance in model\n                tags.push($scope.tag);\n                // add tag in view\n                item.tags.push($scope.tag);\n              }\n              if ($scope.tags.indexOf($scope.tag) === -1) {\n                // add tag in tag list in view\n                $scope.tags.push($scope.tag);\n              }\n              tagMeta.value = tags.join(',');\n            });\n            $scope.tag = '';\n          }\n        };\n\n        $scope.validate = function () {\n          if ($scope.tag.indexOf(',') !== -1) {\n            $scope.error = 'Character \",\" is not allowed in a tag';\n          } else {\n            $scope.error = null;\n          }\n        };\n\n        $scope.removeTag = function (tag) {\n          $scope.tags.splice($scope.tags.indexOf(tag), 1);\n          $scope.selectedItems.forEach(function (item) {\n            var instance = kEditor.getModel().findByPath(item.path);\n            var tagMeta = instance.findMetaDataByID(KWE_TAG);\n            if (tagMeta) {\n              var newTags = removeTagFromStr(tag, tagMeta.value);\n              tagMeta.value = newTags.join(',');\n              item.tags = newTags;\n            }\n          });\n        };\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp').directive('tabParams', function($timeout, kEditor, kModelHelper, kInstance, util) {\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'app/treeview/tab-params/tab-params.html',\n    link: function($scope) {\n      function convertType(type) {\n        switch (type) {\n          case 'LONG':\n          case 'DOUBLE':\n          case 'FLOAT':\n          case 'SHORT':\n          case 'INT':\n            return 'number';\n\n          case 'BOOLEAN':\n            return 'boolean';\n\n          default:\n            return 'text';\n        }\n      }\n\n      function process() {\n        $scope.message = null;\n        $scope.error = false;\n        $scope.length = {};\n        $scope.prepend = {};\n        $scope.append = {};\n        $scope.min = {};\n        $scope.max = {};\n        $scope.each = {};\n        $scope.toggleEachFlag = false;\n        $scope.state = {\n          started: null\n        };\n        $scope.nets = [];\n\n        var model = kEditor.getModel();\n        if ($scope.selectedItems.length > 1) {\n          var first = model.findByPath($scope.selectedItems[0].path);\n          $scope.types = [first.name + ': ' + kModelHelper.getFqn(first.typeDefinition)];\n          for (var i = 1; i < $scope.selectedItems.length; i++) {\n            var prev = model.findByPath($scope.selectedItems[i - 1].path),\n              curr = model.findByPath($scope.selectedItems[i].path);\n            if (kModelHelper.getFqn(prev.typeDefinition) !== kModelHelper.getFqn(curr.typeDefinition)) {\n              $scope.types.push(curr.name + ': ' + kModelHelper.getFqn(curr.typeDefinition));\n              $scope.error = true;\n              return;\n            }\n          }\n        }\n\n        $scope.selectedItems.forEach(function(item) {\n          var instance = kEditor.getModel().findByPath(item.path);\n          kInstance.initDictionaries(instance);\n        });\n\n        $scope.util = util;\n        $scope.instance = model.findByPath($scope.selectedItems[0].path);\n        if ($scope.selectedItems.length === 1) {\n          $scope.state.started = $scope.instance.started;\n        } else {\n          $scope.state.started = null;\n        }\n        $scope.type = $scope.instance.typeDefinition;\n        $scope.typeName = kModelHelper.getFqn($scope.type);\n        $scope.dictionary = [];\n        if ($scope.type.dictionaryType) {\n          $scope.dictionary = $scope.type.dictionaryType.select('attributes[fragmentDependant=false]').array.map(function(attr) {\n            var type = convertType(attr.datatype.name());\n            var value;\n            if ($scope.selectedItems.length === 1 && $scope.instance.dictionary) {\n              var val = $scope.instance.dictionary.findValuesByID(attr.name);\n              if (val) {\n                switch (type) {\n                  case 'number':\n                    value = +val.value;\n                    break;\n                  default:\n                    value = val.value;\n                    break;\n                }\n              }\n            }\n            var newAttr = {\n              name: attr.name,\n              optional: kModelHelper.isTruish(attr.optional),\n              defaultValue: attr.defaultValue,\n              type: type,\n              value: value\n            };\n            return newAttr;\n          });\n        }\n\n        if ($scope.instance.networkInformation) {\n          $scope.instance.networkInformation.array.forEach(function(net) {\n            $scope.nets.push({\n              name: net.name,\n              values: net.values.array.map(function(val) {\n                return {name: val.name, value: val.value};\n              })\n            });\n          });\n        }\n      }\n\n      process();\n      var unwatchItems = $scope.$watchCollection('selectedItems', process);\n      $scope.$on('$destroy', unwatchItems);\n\n      $scope.applyToAllInstances = function() {\n        try {\n          $scope.selectedItems.forEach(function(item) {\n            var instance = kEditor.getModel().findByPath(item.path);\n            instance.started = $scope.state.started;\n            $scope.dictionary.forEach(function(attr) {\n              var val = instance.dictionary.findValuesByID(attr.name);\n              if ($scope.each[attr.name]) {\n                $scope.random(attr);\n              }\n              val.value = attr.value;\n            });\n          });\n          $scope.dictionary.forEach(function(attr) {\n            attr.value = null;\n          });\n          process();\n          $scope.message = {\n            type: 'success',\n            content: 'Success'\n          };\n        } catch (err) {\n          $scope.message = {\n            type: 'danger',\n            content: 'Error (check console for more information)'\n          };\n\t\t\t\t\tconsole.error('[treeview.tab-params.applyToAllInstances()] Error'); // eslint-disable-line\n\t\t\t\t\tconsole.error(err.stack); // eslint-disable-line\n        }\n\n        $timeout(function() {\n          $scope.message = null;\n        }, 1500);\n      };\n\n      $scope.random = function(attr) {\n        switch (attr.type) {\n          case 'text':\n            attr.value = $scope.prepend[attr.name] + util.randomString($scope.length[attr.name]) + $scope.append[attr.name];\n            break;\n\n          case 'number':\n            attr.value = util.randomNumber($scope.min[attr.name], $scope.max[attr.name]);\n            break;\n\n          case 'boolean':\n            attr.value = util.randomBoolean() + '';\n            break;\n        }\n      };\n\n      $scope.allRandom = function() {\n        $scope.dictionary.forEach($scope.random);\n      };\n\n      $scope.toggleEach = function() {\n        $scope.toggleEachFlag = !$scope.toggleEachFlag;\n        Object.keys($scope.each).forEach(function(name) {\n          $scope.each[name] = $scope.toggleEachFlag;\n        });\n      };\n    }\n  };\n});\n","'use strict';\n\nangular.module('editorApp')\n  .directive('tabCreate', function ($timeout, $filter, kFactory, kEditor, kInstance, kModelHelper, util, KWE_TAG) {\n    return {\n      restrict: 'E',\n      scope: true,\n      templateUrl: 'app/treeview/tab-create/tab-create.html',\n      link: function ($scope) {\n        $scope.$on('$destroy', $scope.$watchCollection('selectedItems', function () {\n          $scope.verifyName();\n        }));\n\n        $scope.namePattern = '{metatype}{index}';\n        $scope.state = {\n          started: true\n        };\n        $scope.tags = '';\n\n        function createTdefItem(tdef) {\n          return { name: kModelHelper.getFqn(tdef), tdef: tdef };\n        }\n\n        $scope.verifyName = function () {\n          var i, name;\n          switch ($scope.selectedType) {\n            case 'node':\n              for (i = 0; i < $scope.instancesCount; i++) {\n                name = $filter('namingPattern')($scope.namePattern, { index: i, metatype: $scope.selectedType });\n                if (kEditor.getModel().findNodesByID(name)) {\n                  $scope.message = {\n                    type: 'danger',\n                    content: 'There is already a node named \"' + name + '\"'\n                  };\n                  return;\n                }\n              }\n              break;\n\n            case 'group':\n              for (i = 0; i < $scope.instancesCount; i++) {\n                name = $filter('namingPattern')($scope.namePattern, { index: i, metatype: $scope.selectedType });\n                if (kEditor.getModel().findGroupsByID(name)) {\n                  $scope.message = {\n                    type: 'danger',\n                    content: 'There is already a group named \"' + name + '\"'\n                  };\n                  return;\n                }\n              }\n              break;\n\n            case 'channel':\n              for (i = 0; i < $scope.instancesCount; i++) {\n                name = $filter('namingPattern')($scope.namePattern, { index: i, metatype: $scope.selectedType });\n                if (kEditor.getModel().findHubsByID(name)) {\n                  $scope.message = {\n                    type: 'danger',\n                    content: 'There is already a channel named \"' + name + '\"'\n                  };\n                  return;\n                }\n              }\n              break;\n\n            case 'component':\n              if ($scope.selectedItems.length === 0) {\n                $scope.message = {\n                  type: 'danger',\n                  content: 'You must select node instances in the tree view in order to add components'\n                };\n                return;\n              } else {\n                for (i = 0; i < $scope.instancesCount; i++) {\n                  name = $filter('namingPattern')($scope.namePattern, { index: i, metatype: $scope.selectedType });\n                  for (var j = 0; j < $scope.selectedItems.length; j++) {\n                    var node = kEditor.getModel().findNodesByID($scope.selectedItems[j].name);\n                    if (node) {\n                      if (node.findComponentsByID(name)) {\n                        $scope.message = {\n                          type: 'danger',\n                          content: 'There is already a component named \"' + name + '\" in node \"' + node.name + '\"'\n                        };\n                        return;\n                      }\n                    } else {\n                      $scope.message = {\n                        type: 'danger',\n                        content: '\"' + $scope.selectedItems[j].name + '\" is not a node instance'\n                      };\n                      return;\n                    }\n                  }\n                }\n              }\n              break;\n          }\n\n          $scope.message = null;\n        };\n\n        function process() {\n          var model = kEditor.getModel();\n          $scope.tags = '';\n          $scope.name = '';\n          $scope.types = ['node', 'group', 'channel', 'component'];\n          $scope.instanceTypes = {\n            node: kModelHelper.getNodeTypes(model).map(createTdefItem),\n            group: kModelHelper.getGroupTypes(model).map(createTdefItem),\n            channel: kModelHelper.getChannelTypes(model).map(createTdefItem),\n            component: kModelHelper.getComponentTypes(model).map(createTdefItem)\n          };\n          $scope.selectedType = $scope.types[0];\n          if ($scope.instanceTypes[$scope.selectedType].length > 0) {\n            $scope.selectedInstanceType = $scope.instanceTypes[$scope.selectedType][0];\n          }\n          $scope.availableNodes = $scope.items.filter(function (item) {\n            return item.type === 'node';\n          });\n          $scope.selectedNode = $scope.availableNodes[0];\n          $scope.instancesCount = 1;\n          $scope.verifyName();\n        }\n\n        process();\n        var unregister = kEditor.addNewModelListener('treeview', process);\n        var unwatchItems = $scope.$watchCollection('items', process);\n        $scope.$on('$destroy', function () {\n          unregister();\n          unwatchItems();\n        });\n\n        function createInstances() {\n          var instances = [];\n          for (var i = 0; i < $scope.instancesCount; i++) {\n            var name = $filter('namingPattern')($scope.namePattern, {\n              index: i,\n              metatype: $scope.selectedType\n            });\n            var instance;\n            switch ($scope.selectedType) {\n              case 'node':\n                instance = kFactory.createContainerNode();\n                break;\n              case 'group':\n                instance = kFactory.createGroup();\n                break;\n              case 'channel':\n                instance = kFactory.createChannel();\n                break;\n              case 'component':\n                instance = kFactory.createComponentInstance();\n                break;\n            }\n            instance.name = name;\n            instance.typeDefinition = $scope.selectedInstanceType.tdef;\n            instance.started = $scope.state.started;\n            kInstance.initDictionaries(instance);\n            var tags = $scope.tags.split(',')\n              .map(function (tag) { return tag.trim(); })\n              .filter(function (tag) { return tag.length > 0; })\n              .join(',');\n            var tagsMeta = kFactory.createValue();\n            tagsMeta.name = KWE_TAG;\n            tagsMeta.value = tags;\n            instance.addMetaData(tagsMeta);\n            instances.push(instance);\n          }\n          return instances;\n        }\n\n        $scope.create = function () {\n          var model = kEditor.getModel();\n          switch ($scope.selectedType) {\n            case 'node':\n              createInstances().forEach(function (instance) {\n                model.addNodes(instance);\n                $scope.createItem($scope.selectedType, instance);\n              });\n              break;\n            case 'group':\n              createInstances().forEach(function (instance) {\n                model.addGroups(instance);\n                $scope.createItem($scope.selectedType, instance);\n              });\n              break;\n            case 'channel':\n              createInstances().forEach(function (instance) {\n                model.addHubs(instance);\n                $scope.createItem($scope.selectedType, instance);\n              });\n              break;\n            case 'component':\n              $scope.selectedItems.forEach(function (item) {\n                // create component instances for the node\n                var node = model.findNodesByID(item.name);\n                createInstances().forEach(function (instance) {\n                  node.addComponents(instance);\n                  $scope.createItem($scope.selectedType, instance, node);\n                });\n              });\n              break;\n          }\n        };\n\n        $scope.onTypeChange = function () {\n          $scope.verifyName();\n        };\n\n        $scope.areInstanceTypesValid = function () {\n          if ($scope.selectedType === 'component') {\n            if ($scope.availableNodes.length > 0) {\n              return $scope.instanceTypes[$scope.selectedType].length > 0;\n            } else {\n              return false;\n            }\n          } else {\n            return $scope.instanceTypes[$scope.selectedType].length > 0;\n          }\n        };\n\n        $scope.isValid = function () {\n          if ($scope.selectedType === 'component') {\n            if (!$scope.selectedNode) {\n              return false;\n            }\n          }\n          return !$scope.message &&\n            $scope.namePattern.trim().length > 0 &&\n            $scope.selectedType.length > 0 &&\n            $scope.instancesCount > 0 &&\n            $scope.selectedInstanceType;\n        };\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n\t.directive('tabActions', function ($filter, $uibModal, kEditor) {\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'app/treeview/tab-actions/tab-actions.html',\n    link: function ($scope) {\n      function processData() {\n        var model = kEditor.getModel();\n        $scope.groups = model.groups.array;\n        $scope.selectedGroup = $filter('orderBy')($scope.groups, 'name')[0];\n      }\n\n      function processTags() {\n        $scope.tags = {};\n        $scope.items.forEach(function processTag(item) {\n          item.tags.forEach(function (tag) {\n            if (!$scope.tags[tag]) {\n              $scope.tags[tag] = [];\n            }\n            $scope.tags[tag].push(item);\n          });\n          if (item.children) {\n            item.children.forEach(processTag);\n          }\n        });\n        $scope.tagsCount = Object.keys($scope.tags).length;\n      }\n\n      function modelHandler() {\n        processData();\n        processTags();\n      }\n\n      modelHandler();\n      var unwatchItems = $scope.$watchCollection('items', modelHandler);\n      var unwatchTags = $scope.$watch('items', function () {\n        processTags();\n      }, true);\n      $scope.$on('$destroy', function () {\n        unwatchItems();\n        unwatchTags();\n      });\n\n      $scope.openGroupModal = function () {\n        $uibModal.open({\n          templateUrl: 'app/main/instance/group.modal.html',\n          size: 'md',\n          resolve: {\n            group: function () {\n              return $scope.selectedGroup;\n            }\n          },\n          controller: 'GroupModalCtrl'\n        });\n      };\n    }\n  };\n});\n","'use strict';\n/* jshint ignore:start */\nangular.module('editorApp').factory('kFilterParser', function() {\n\t/*\n     * Generated by PEG.js 0.9.0.\n     *\n     * http://pegjs.org/\n     */\n  function peg$subclass(child, parent) {\n    function ctor() {\n      this.constructor = child;\n    }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message = message;\n    this.expected = expected;\n    this.found = found;\n    this.location = location;\n    this.name = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1\n\t\t\t\t? arguments[1]\n\t\t\t\t: {},\n\n      peg$FAILED = {},\n\n      peg$startRuleFunctions = {\n        Query: peg$parseQuery\n      },\n      peg$startRuleFunction = peg$parseQuery,\n\n      peg$c0 = \"|\",\n      peg$c1 = {\n        type: \"literal\",\n        value: \"|\",\n        description: \"\\\"|\\\"\"\n      },\n      peg$c2 = function(head, tail) {\n        if (tail.length > 0) {\n          return {\n            type: 'or',\n            content: [head].concat(tail.map(function(e, i) {\n              return tail[i][3];\n            }))\n          };\n        }\n        return head;\n      },\n      peg$c3 = \"&\",\n      peg$c4 = {\n        type: \"literal\",\n        value: \"&\",\n        description: \"\\\"&\\\"\"\n      },\n      peg$c5 = function(head, tail) {\n        if (tail.length > 0) {\n          return {\n            type: 'and',\n            content: [head].concat(tail.map(function(e, i) {\n              return tail[i][3];\n            }))\n          };\n        }\n        return head;\n      },\n      peg$c6 = \"(\",\n      peg$c7 = {\n        type: \"literal\",\n        value: \"(\",\n        description: \"\\\"(\\\"\"\n      },\n      peg$c8 = \")\",\n      peg$c9 = {\n        type: \"literal\",\n        value: \")\",\n        description: \"\\\")\\\"\"\n      },\n      peg$c10 = function(query) {\n        return query;\n      },\n      peg$c11 = {\n        type: \"other\",\n        description: \"name:\"\n      },\n      peg$c12 = \"name:\",\n      peg$c13 = {\n        type: \"literal\",\n        value: \"name:\",\n        description: \"\\\"name:\\\"\"\n      },\n      peg$c14 = function(id) {\n        return {type: 'name', content: id};\n      },\n      peg$c15 = {\n        type: \"other\",\n        description: \"is:\"\n      },\n      peg$c16 = \"is:\",\n      peg$c17 = {\n        type: \"literal\",\n        value: \"is:\",\n        description: \"\\\"is:\\\"\"\n      },\n      peg$c18 = function(id) {\n        return {type: 'is', content: id};\n      },\n      peg$c19 = {\n        type: \"other\",\n        description: \"vers:\"\n      },\n      peg$c20 = \"vers:\",\n      peg$c21 = {\n        type: \"literal\",\n        value: \"vers:\",\n        description: \"\\\"vers:\\\"\"\n      },\n      peg$c22 = \">\",\n      peg$c23 = {\n        type: \"literal\",\n        value: \">\",\n        description: \"\\\">\\\"\"\n      },\n      peg$c24 = \"<\",\n      peg$c25 = {\n        type: \"literal\",\n        value: \"<\",\n        description: \"\\\"<\\\"\"\n      },\n      peg$c26 = \">=\",\n      peg$c27 = {\n        type: \"literal\",\n        value: \">=\",\n        description: \"\\\">=\\\"\"\n      },\n      peg$c28 = \"<=\",\n      peg$c29 = {\n        type: \"literal\",\n        value: \"<=\",\n        description: \"\\\"<=\\\"\"\n      },\n      peg$c30 = function(op, id) {\n        var expr = {\n          type: 'vers',\n          content: id\n        };\n        if (op === '>') {\n          expr.operator = 'gt';\n        }\n        if (op === '<') {\n          expr.operator = 'lt';\n        }\n        if (op === '>=') {\n          expr.operator = 'ge';\n        }\n        if (op === '<=') {\n          expr.operator = 'le';\n        }\n        return expr;\n      },\n      peg$c31 = {\n        type: \"other\",\n        description: \"tag:\"\n      },\n      peg$c32 = \"tag:\",\n      peg$c33 = {\n        type: \"literal\",\n        value: \"tag:\",\n        description: \"\\\"tag:\\\"\"\n      },\n      peg$c34 = function(id) {\n        return {type: 'tag', content: id};\n      },\n      peg$c35 = {\n        type: \"other\",\n        description: \"bound:\"\n      },\n      peg$c36 = \"bound:\",\n      peg$c37 = {\n        type: \"literal\",\n        value: \"bound:\",\n        description: \"\\\"bound:\\\"\"\n      },\n      peg$c38 = \":\",\n      peg$c39 = {\n        type: \"literal\",\n        value: \":\",\n        description: \"\\\":\\\"\"\n      },\n      peg$c40 = function(target, id) {\n        return {type: 'bound', target: target, content: id};\n      },\n      peg$c41 = {\n        type: \"other\",\n        description: \"identifier or regex\"\n      },\n      peg$c42 = {\n        type: \"other\",\n        description: \"identifier\"\n      },\n      peg$c43 = /^[a-zA-Z0-9.]/,\n      peg$c44 = {\n        type: \"class\",\n        value: \"[a-zA-Z0-9\\\\.]\",\n        description: \"[a-zA-Z0-9\\\\.]\"\n      },\n      peg$c45 = function() {\n        return text();\n      },\n      peg$c46 = {\n        type: \"other\",\n        description: \"regular expression\"\n      },\n      peg$c47 = \"/\",\n      peg$c48 = {\n        type: \"literal\",\n        value: \"/\",\n        description: \"\\\"/\\\"\"\n      },\n      peg$c49 = \"g\",\n      peg$c50 = {\n        type: \"literal\",\n        value: \"g\",\n        description: \"\\\"g\\\"\"\n      },\n      peg$c51 = \"m\",\n      peg$c52 = {\n        type: \"literal\",\n        value: \"m\",\n        description: \"\\\"m\\\"\"\n      },\n      peg$c53 = \"i\",\n      peg$c54 = {\n        type: \"literal\",\n        value: \"i\",\n        description: \"\\\"i\\\"\"\n      },\n      peg$c55 = \"\",\n      peg$c56 = function(pattern, flags) {\n        var value;\n\n        try {\n          value = new RegExp(pattern, flags);\n        } catch (e) {\n          error(e.message);\n        }\n\n        return {type: \"regex\", content: value};\n      },\n      peg$c57 = /^[*\\\\\\/[]/,\n      peg$c58 = {\n        type: \"class\",\n        value: \"[*\\\\\\\\/[]\",\n        description: \"[*\\\\\\\\/[]\"\n      },\n      peg$c59 = /^[\\\\\\/[]/,\n      peg$c60 = {\n        type: \"class\",\n        value: \"[\\\\\\\\/[]\",\n        description: \"[\\\\\\\\/[]\"\n      },\n      peg$c61 = \"\\\\\",\n      peg$c62 = {\n        type: \"literal\",\n        value: \"\\\\\",\n        description: \"\\\"\\\\\\\\\\\"\"\n      },\n      peg$c63 = \"[\",\n      peg$c64 = {\n        type: \"literal\",\n        value: \"[\",\n        description: \"\\\"[\\\"\"\n      },\n      peg$c65 = \"]\",\n      peg$c66 = {\n        type: \"literal\",\n        value: \"]\",\n        description: \"\\\"]\\\"\"\n      },\n      peg$c67 = /^[\\]\\\\]/,\n      peg$c68 = {\n        type: \"class\",\n        value: \"[\\\\]\\\\\\\\]\",\n        description: \"[\\\\]\\\\\\\\]\"\n      },\n      peg$c69 = /^[\\n\\r\\u2028\\u2029]/,\n      peg$c70 = {\n        type: \"class\",\n        value: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\",\n        description: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\"\n      },\n      peg$c71 = {\n        type: \"any\",\n        description: \"any character\"\n      },\n      peg$c72 = {\n        type: \"other\",\n        description: \"whitespace\"\n      },\n      peg$c73 = /^[ \\t]/,\n      peg$c74 = {\n        type: \"class\",\n        value: \"[ \\\\t]\",\n        description: \"[ \\\\t]\"\n      },\n\n      peg$currPos = 0,\n      peg$savedPos = 0,\n      peg$posDetailsCache = [\n        {\n          line: 1,\n          column: 1,\n          seenCR: false\n        }\n      ],\n      peg$maxFailPos = 0,\n      peg$maxFailExpected = [],\n      peg$silentFails = 0,\n\n      peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, input.substring(peg$savedPos, peg$currPos), peg$computeLocation(peg$savedPos, peg$currPos));\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n        p,\n        ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line: details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) {\n              details.line++;\n            }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line: startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line: endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) {\n        return;\n      }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) {\n            return ch.charCodeAt(0).toString(16).toUpperCase();\n          }\n\n          return s.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\x08/g, '\\\\b').replace(/\\t/g, '\\\\t').replace(/\\n/g, '\\\\n').replace(/\\f/g, '\\\\f').replace(/\\r/g, '\\\\r').replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) {\n            return '\\\\x0' + hex(ch);\n          }).replace(/[\\x10-\\x1F\\x80-\\xFF]/g, function(ch) {\n            return '\\\\x' + hex(ch);\n          }).replace(/[\\u0100-\\u0FFF]/g, function(ch) {\n            return '\\\\u0' + hex(ch);\n          }).replace(/[\\u1000-\\uFFFF]/g, function(ch) {\n            return '\\\\u' + hex(ch);\n          });\n        }\n\n        var expectedDescs = new Array(expected.length),\n          expectedDesc,\n          foundDesc,\n          i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n\t\t\t\t\t? expectedDescs.slice(0, -1).join(\", \") + \" or \" + expectedDescs[expected.length - 1]\n\t\t\t\t\t: expectedDescs[0];\n\n        foundDesc = found\n\t\t\t\t\t? \"\\\"\" + stringEscape(found) + \"\\\"\"\n\t\t\t\t\t: \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(message !== null\n\t\t\t\t? message\n\t\t\t\t: buildMessage(expected, found), expected, found, location);\n    }\n\n    function peg$parseQuery() {\n      var s0,\n        s1,\n        s2,\n        s3,\n        s4,\n        s5,\n        s6,\n        s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parseExpr();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 124) {\n            s5 = peg$c0;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c1);\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseExpr();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$currPos;\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 124) {\n              s5 = peg$c0;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c1);\n              }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseExpr();\n                if (s7 !== peg$FAILED) {\n                  s4 = [s4, s5, s6, s7];\n                  s3 = s4;\n                } else {\n                  peg$currPos = s3;\n                  s3 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c2(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseExpr() {\n      var s0,\n        s1,\n        s2,\n        s3,\n        s4,\n        s5,\n        s6,\n        s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parseTerm();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 38) {\n            s5 = peg$c3;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c4);\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseTerm();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$currPos;\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 38) {\n              s5 = peg$c3;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c4);\n              }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseTerm();\n                if (s7 !== peg$FAILED) {\n                  s4 = [s4, s5, s6, s7];\n                  s3 = s4;\n                } else {\n                  peg$currPos = s3;\n                  s3 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c5(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseTerm() {\n      var s0,\n        s1,\n        s2,\n        s3,\n        s4,\n        s5;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s1 = peg$c6;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c7);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseQuery();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s5 = peg$c8;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c9);\n                }\n              }\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c10(s3);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseFilter();\n      }\n\n      return s0;\n    }\n\n    function peg$parseFilter() {\n      var s0;\n\n      s0 = peg$parseIs();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseVersion();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseBound();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseTag();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseName();\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseName() {\n      var s0,\n        s1,\n        s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c12) {\n        s1 = peg$c12;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c13);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseIdentifierOrRegex();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c14(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c11);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseIs() {\n      var s0,\n        s1,\n        s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 3) === peg$c16) {\n        s1 = peg$c16;\n        peg$currPos += 3;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c17);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseIdentifier();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c18(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c15);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseVersion() {\n      var s0,\n        s1,\n        s2,\n        s3;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c20) {\n        s1 = peg$c20;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c21);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 62) {\n          s2 = peg$c22;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c23);\n          }\n        }\n        if (s2 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 60) {\n            s2 = peg$c24;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c25);\n            }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c26) {\n              s2 = peg$c26;\n              peg$currPos += 2;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c27);\n              }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.substr(peg$currPos, 2) === peg$c28) {\n                s2 = peg$c28;\n                peg$currPos += 2;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c29);\n                }\n              }\n            }\n          }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseIdentifierOrRegex();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c30(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c19);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseTag() {\n      var s0,\n        s1,\n        s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c32) {\n        s1 = peg$c32;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c33);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseIdentifierOrRegex();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c34(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c31);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseBound() {\n      var s0,\n        s1,\n        s2,\n        s3,\n        s4;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c36) {\n        s1 = peg$c36;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c37);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseIdentifier();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 58) {\n            s3 = peg$c38;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c39);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseIdentifierOrRegex();\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c40(s2, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c35);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseIdentifierOrRegex() {\n      var s0;\n\n      peg$silentFails++;\n      s0 = peg$parseIdentifier();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseRegularExpressionLiteral();\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c41);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseIdentifier() {\n      var s0,\n        s1,\n        s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c43.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c44);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c43.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c44);\n            }\n          }\n        }\n      } else {\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c45();\n      }\n      s0 = s1;\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c42);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionLiteral() {\n      var s0,\n        s1,\n        s2,\n        s3,\n        s4;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 47) {\n        s1 = peg$c47;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c48);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parseRegularExpressionBody();\n        if (s3 !== peg$FAILED) {\n          s2 = input.substring(s2, peg$currPos);\n        } else {\n          s2 = s3;\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 47) {\n            s3 = peg$c47;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c48);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 103) {\n              s4 = peg$c49;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c50);\n              }\n            }\n            if (s4 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 109) {\n                s4 = peg$c51;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c52);\n                }\n              }\n              if (s4 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 105) {\n                  s4 = peg$c53;\n                  peg$currPos++;\n                } else {\n                  s4 = peg$FAILED;\n                  if (peg$silentFails === 0) {\n                    peg$fail(peg$c54);\n                  }\n                }\n                if (s4 === peg$FAILED) {\n                  s4 = peg$c55;\n                }\n              }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c56(s2, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c46);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionBody() {\n      var s0,\n        s1,\n        s2,\n        s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parseRegularExpressionFirstChar();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseRegularExpressionChar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseRegularExpressionChar();\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionFirstChar() {\n      var s0,\n        s1,\n        s2;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      if (peg$c57.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c58);\n        }\n      }\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = void 0;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseRegularExpressionNonTerminator();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseRegularExpressionBackslashSequence();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseRegularExpressionClass();\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionChar() {\n      var s0,\n        s1,\n        s2;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      if (peg$c59.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c60);\n        }\n      }\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = void 0;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseRegularExpressionNonTerminator();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseRegularExpressionBackslashSequence();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseRegularExpressionClass();\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionBackslashSequence() {\n      var s0,\n        s1,\n        s2;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s1 = peg$c61;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c62);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseRegularExpressionNonTerminator();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionNonTerminator() {\n      var s0,\n        s1,\n        s2;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      s2 = peg$parseLineTerminator();\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = void 0;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseSourceCharacter();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionClass() {\n      var s0,\n        s1,\n        s2,\n        s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c63;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c64);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseRegularExpressionClassChar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseRegularExpressionClassChar();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c65;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c66);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseRegularExpressionClassChar() {\n      var s0,\n        s1,\n        s2;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      if (peg$c67.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c68);\n        }\n      }\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = void 0;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseRegularExpressionNonTerminator();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseRegularExpressionBackslashSequence();\n      }\n\n      return s0;\n    }\n\n    function peg$parseLineTerminator() {\n      var s0;\n\n      if (peg$c69.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c70);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseSourceCharacter() {\n      var s0;\n\n      if (input.length > peg$currPos) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c71);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0,\n        s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c73.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c74);\n        }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c73.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c74);\n          }\n        }\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c72);\n        }\n      }\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({type: \"end\", description: \"end of input\"});\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos < input.length\n\t\t\t\t? input.charAt(peg$maxFailPos)\n\t\t\t\t: null, peg$maxFailPos < input.length\n\t\t\t\t? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n\t\t\t\t: peg$computeLocation(peg$maxFailPos, peg$maxFailPos));\n    }\n  }\n\n  return {SyntaxError: peg$SyntaxError, parse: peg$parse};\n});\n/* jshint ignore:end */\n","'use strict';\n\nangular.module('editorApp')\n  .filter('doFilter', function () {\n    var query = function () {};\n\n    function test(expected, actual) {\n      if (actual.type && actual.type === 'regex') {\n        return actual.content.test(expected);\n      } else {\n        return expected === actual;\n      }\n    }\n\n    function atomicName(item, expr) {\n      var match = test(item.name, expr.content);\n      if (!match && item.children) {\n        return item.children.some(function (child) {\n          return test(child.name, expr.content);\n        });\n      }\n      return match;\n    }\n\n    function name(items, expr) {\n      return items.filter(function (item) {\n        return atomicName(item, expr);\n      });\n    }\n\n    function atomicIs(item, expr) {\n      var match;\n      switch (expr.content) {\n        case 'node':\n          match = item.type === 'node';\n          break;\n\n        case 'chan':\n        case 'channel':\n          match = item.type === 'channel';\n          break;\n\n        case 'comp':\n        case 'component':\n          match = item.type === 'component';\n          break;\n\n        case 'group':\n        case 'grp':\n          match = item.type === 'group';\n          break;\n\n        case 'selected':\n          match = item.selected;\n          break;\n\n        case 'folded':\n          match = item.folded;\n          break;\n\n        default:\n          match = false;\n          break;\n      }\n\n      if (!match && item.children) {\n        return item.children.some(function (child) {\n          return atomicIs(child, expr);\n        });\n      }\n      return match;\n    }\n\n    function is(items, expr) {\n      return items.filter(function (item) {\n        return atomicIs(item, expr);\n      });\n    }\n\n    function atomicTag(item, expr) {\n      var match = item.tags.some(function (tag) {\n        return test(tag, expr.content);\n      });\n\n      if (!match && item.children) {\n        return item.children.some(function (child) {\n          return atomicTag(child, expr);\n        });\n      }\n      return match;\n    }\n\n    function tag(items, expr) {\n      return items.filter(function (item) {\n        return atomicTag(item, expr);\n      });\n    }\n\n    function atomicVers(item, expr) {\n      var match = test(item.version, expr.content);\n\n      if (!match && item.children) {\n        return item.children.some(function (child) {\n          return atomicVers(child, expr);\n        });\n      }\n      return match;\n    }\n\n    function vers(items, expr) {\n      return items.filter(function (item) {\n        return atomicVers(item, expr);\n      });\n    }\n\n    function and(items, expr) {\n      var filtered = items;\n      expr.content.forEach(function (expr) {\n        filtered = query(filtered, expr);\n      });\n      return filtered;\n    }\n\n    function or(items, expr) {\n      var alreadyFiltered = [];\n      var filtered = [];\n      expr.content.forEach(function (expr) {\n        var notAddedItems = items.filter(function (item) {\n          return alreadyFiltered.indexOf(item.path) === -1;\n        });\n        var toAdd = query(notAddedItems, expr);\n        toAdd.forEach(function (item) {\n          if (alreadyFiltered.indexOf(item.path) === -1) {\n            alreadyFiltered.push(item.path);\n          }\n        });\n        filtered = filtered.concat(toAdd);\n      });\n      return filtered;\n    }\n\n    query = function (items, expr) {\n      if (items) {\n        if (expr) {\n          switch (expr.type) {\n            case 'name':\n              return name(items, expr);\n\n            case 'is':\n              return is(items, expr);\n\n            case 'tag':\n              return tag(items, expr);\n\n            case 'vers':\n              return vers(items, expr);\n\n            case 'and':\n              return and(items, expr);\n\n            case 'or':\n              return or(items, expr);\n\n            default:\n              return items;\n          }\n        } else {\n          return items;\n        }\n      }\n    };\n\n    return query;\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .config(function ($stateProvider) {\n    $stateProvider\n      .state('settings', {\n        parent: 'app',\n        url: '/settings',\n        views: {\n          'content@': {\n            templateUrl: 'app/settings/settings.html',\n            controller: 'SettingsCtrl'\n          }\n        }\n      });\n  });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:SettingsCtrl\n * @description\n * # SettingsCtrl\n * Controller of the editorApp options page\n */\nangular.module('editorApp')\n\t.controller('SettingsCtrl', function ($scope, kScript, kRegistry, storage, Notification) {\n  $scope.registryUrl = kRegistry.getUrl();\n\n  $scope.getUrl = function () {\n    return kRegistry.getUrl();\n  };\n\n  $scope.changeKevoreeRegistry = function () {\n    if ($scope.registryUrl !== kRegistry.getUrl().toString()) {\n      try {\n        var url = new URL($scope.registryUrl);\n        kRegistry.setUrl(url);\n        Notification.success({\n          title: 'Kevoree Registry',\n          message: 'URL successfully updated',\n          delay: 3000\n        });\n      } catch (err) {\n        Notification.error({\n          title: 'Kevoree Registry',\n          message: 'Invalid URL ' + $scope.registryUrl,\n          delay: 3000\n        });\n      }\n    }\n  };\n\n  $scope.canChangeKevoreeRegistry = function () {\n    return $scope.registryUrl !== undefined &&\n\t\t\t\t$scope.registryUrl !== null &&\n\t\t\t\t$scope.registryUrl !== kRegistry.getUrl().toString();\n  };\n\n  $scope.clearKevScriptCache = function () {\n    var prefix = TinyConf.get('cache.root');\n    Object.keys(localStorage).forEach(function (key) {\n      if (key.startsWith(prefix)) {\n        delete localStorage[key];\n      }\n    });\n  };\n\n  $scope.canClearKevScriptCache = function () {\n    var prefix = TinyConf.get('cache.root');\n    return Object.keys(localStorage).find(function (key) {\n      return key.startsWith(prefix);\n    });\n  };\n});\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:NavBarCtrl\n * @description\n * # NavBarCtrl\n * Controller of the editorApp navigation bar\n */\nangular.module('editorApp')\n  .controller('NavBarCtrl', function ($state) {\n    this.isCollapsed = true;\n    this.$state = $state;\n  });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:TypedefsCtrl\n * @description\n * # TypedefsCtrl\n * Controller of the editorApp TypeDefinition sidebar\n */\nangular.module('editorApp')\n    .controller('TypedefsCtrl', function($scope, kEditor, ui, kModelHelper, kFactory, kInstance, Notification, KWE_POSITION) {\n      $scope.packages = {};\n\n      $scope.dragDraggable = {\n        animate: true,\n        placeholder: 'keep',\n        onStart: 'onStart',\n        onDrag: 'onDrag',\n        onStop: 'onStop'\n      };\n\n      $scope.dragOptions = {\n        revert: 'invalid',\n        helper: 'clone',\n        addClasses: false,\n        scroll: false,\n        appendTo: '#tdef-drag-panel',\n        containment: '#tdef-drag-panel',\n        cursor: 'move',\n        cursorAt: {\n          top: -5,\n          right: -5\n        }\n      };\n\n      $scope.hasPackages = function() {\n        return Object.keys($scope.packages).length > 0;\n      };\n\n      $scope.onStart = function(evt, obj) {\n        ui.setDropTarget(null);\n\n        if (obj.helper.hasClass('tdef-item-component') || obj.helper.hasClass('tdef-item-node')) {\n          var container = document.getElementById('editor-container');\n          this.offset = {\n            left: container.offsetLeft,\n            top: container.offsetTop\n          };\n\n          var pkgPath = obj.helper[0].dataset.pkgPath;\n          var tdefName = obj.helper[0].innerHTML.trim();\n          var tdefs = kEditor.getModel().select(pkgPath + '/typeDefinitions[name=' + tdefName + ']');\n          this.typeDef = kModelHelper.findBestVersion(tdefs.array);\n        }\n      };\n\n      $scope.onDrag = function(evt, obj) {\n        ui.mousePos = {\n          x: evt.clientX,\n          y: evt.clientY\n        };\n\n        if (obj.helper.hasClass('tdef-item-component') || obj.helper.hasClass('tdef-item-node')) {\n          clearTimeout(this.timeout);\n          if (this.hoveredNode) {\n            this.hoveredNode.select('.bg').removeClass('hovered error');\n          }\n\n          this.timeout = setTimeout(function() {\n            this.hoveredNode = ui.getHoveredNode(\n                        ui.mousePos.x - this.offset.left,\n                        ui.mousePos.y - this.offset.top);\n            if (this.hoveredNode) {\n              var nodeBg = this.hoveredNode.select('.bg');\n              nodeBg.addClass('hovered');\n\n              if (!kModelHelper.isCompatible(this.typeDef, kEditor.getModel().findByPath(this.hoveredNode.attr('data-path')))) {\n                nodeBg.addClass('error');\n                ui.setDropTarget(null);\n              } else {\n                ui.setDropTarget(this.hoveredNode);\n              }\n            } else {\n              ui.setDropTarget(null);\n            }\n          }.bind(this), 100);\n        }\n      };\n\n      $scope.onStop = function(evt, obj) {\n        if (obj.helper.hasClass('tdef-item-component') || obj.helper.hasClass('tdef-item-node')) {\n          clearTimeout(this.timeout);\n          if (this.hoveredNode) {\n            if (this.hoveredNode.select('.bg').hasClass('error')) {\n              Notification.warning({\n                title: 'Add component',\n                message: 'Targeted node platform cannot run this TypeDefinition',\n                delay: 5000\n              });\n            }\n            this.hoveredNode.select('.bg').removeClass('hovered error');\n          } else {\n            if (obj.helper.hasClass('tdef-item-component')) {\n              Notification.warning({\n                title: 'Add component',\n                message: 'You have to drop components in nodes',\n                delay: 5000\n              });\n            }\n          }\n\n          delete this.typeDef;\n          delete this.timeout;\n          delete this.offset;\n          delete this.hoveredNode;\n        }\n      };\n\n      $scope.addInstance = function(tdef) {\n        var tdefs = kEditor.getModel().select(tdef.pkgPath + '/typeDefinitions[name=' + tdef.name + ']');\n        tdef = kModelHelper.findBestVersion(tdefs.array);\n        var type = kModelHelper.getTypeDefinitionType(tdef);\n\n        function preProcess(instance) {\n          instance.typeDefinition = tdef;\n          instance.started = true;\n          var pos = kFactory.createValue();\n          pos.name = KWE_POSITION;\n          pos.value = JSON.stringify({\n            x: 100,\n            y: 100\n          });\n          instance.addMetaData(pos);\n          kInstance.initDictionaries(instance);\n        }\n\n        var model = kEditor.getModel();\n        var selectedNodes = ui.getSelectedNodes();\n        var instance;\n        switch (type) {\n          case 'node':\n            if (selectedNodes.length > 0) {\n              selectedNodes.forEach(function(nodeElem) {\n                var node = model.findByPath(nodeElem.attr('data-path'));\n                if (node) {\n                  instance = kFactory.createContainerNode();\n                  instance.name = 'node' + parseInt(Math.random() * 1000);\n                  preProcess(instance);\n                  model.addNodes(instance);\n                  node.addHosts(instance);\n                }\n              });\n            } else {\n              instance = kFactory.createContainerNode();\n              instance.name = 'node' + parseInt(Math.random() * 1000);\n              preProcess(instance);\n              model.addNodes(instance);\n            }\n            break;\n\n          case 'group':\n            instance = kFactory.createGroup();\n            instance.name = 'group' + parseInt(Math.random() * 1000);\n            preProcess(instance);\n            model.addGroups(instance);\n            break;\n\n          case 'component':\n            if (selectedNodes.length > 0) {\n              selectedNodes.forEach(function(nodeElem) {\n                var node = model.findByPath(nodeElem.attr('data-path'));\n                if (node) {\n                  instance = kFactory.createComponentInstance();\n                  instance.name = 'comp' + parseInt(Math.random() * 1000);\n                  preProcess(instance);\n                  node.addComponents(instance);\n                }\n              });\n            } else {\n              Notification.warning({\n                title: 'Add component',\n                message: 'You have to select at least one node',\n                delay: 5000\n              });\n            }\n            break;\n\n          case 'channel':\n            instance = kFactory.createChannel();\n            instance.name = 'chan' + parseInt(Math.random() * 1000);\n            preProcess(instance);\n            model.addHubs(instance);\n            break;\n        }\n      };\n\n        /**\n         * Inflate $scope.packages with value from kEditor.getModel()\n         */\n      function processModel() {\n        $scope.packages = [];\n        var model = kEditor.getModel();\n\n        var pkgsMap = {};\n        model.select('**/typeDefinitions[*]')\n                .array.forEach(function(tdef) {\n                  var pkg = kModelHelper.genPkgName(tdef.eContainer());\n                  pkgsMap[pkg] = pkgsMap[pkg] || {};\n                  pkgsMap[pkg].tdefs = pkgsMap[pkg].tdefs || {};\n\n                  var descMeta = tdef.findMetaDataByID('description');\n                  var descValue = descMeta ? descMeta.value : '<em>- none -</em>';\n                  if (descValue.length >= 200) {\n                    descValue = descValue.substr(0, 200) + '...';\n                  }\n                  var platforms = {};\n                  tdef.select('deployUnits[name=*]/filters[name=platform]')\n                        .array.forEach(function (meta) {\n                          platforms[meta.value] = true;\n                        });\n                  pkgsMap[pkg].tdefs[tdef.name] = {\n                    name: tdef.name,\n                    type: kModelHelper.getTypeDefinitionType(tdef),\n                    pkgPath: tdef.eContainer().path(),\n                    platforms: Object.keys(platforms),\n                    description: descValue\n                  };\n                });\n\n        Object.keys(pkgsMap).forEach(function(pkgName) {\n          var pkg = {\n            name: pkgName,\n            collapsed: false,\n            tdefs: []\n          };\n          Object.keys(pkgsMap[pkgName].tdefs).forEach(function(tdefName) {\n            pkg.tdefs.push(pkgsMap[pkgName].tdefs[tdefName]);\n          });\n          $scope.packages.push(pkg);\n        });\n      }\n\n        // listen to model changes on the editor\n      var unregister = kEditor.addModelUpdateListener('tdefs', processModel, true);\n      var unregister2 = kEditor.addNewModelListener('tdefs', processModel);\n\n        // process model\n      processModel();\n\n      $scope.$on('$destroy', function() {\n        unregister();\n        unregister2();\n      });\n    });\n","'use strict';\n\nangular.module('editorApp')\n\t.config(function ($stateProvider) {\n  $stateProvider\n\t\t\t.state('main', {\n  parent: 'app',\n  url: '/',\n  views: {\n    'content@': {\n      templateUrl: 'app/main/main.html',\n      controller: 'MainCtrl'\n    },\n    'typedefs@main': {\n      templateUrl: 'app/main/typedefs/typedefs.html',\n      controller: 'TypedefsCtrl'\n    },\n    'editor@main': {\n      templateUrl: 'app/main/editor/editor.html',\n      controller: 'EditorCtrl'\n    },\n    'instance@main': {\n      templateUrl: 'app/main/instance/instance.html',\n      controller: 'InstanceCtrl',\n      controllerAs: 'vm'\n    }\n  },\n  onExit: function (ui) {\n    ui.editor = null;\n  }\n});\n});\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:MainCtrl\n * @description\n * # MainCtrl\n * Controller of the editorApp main content div\n */\nangular.module('editorApp')\n  .controller('MainCtrl', function ($scope, $timeout, $stateParams, $uibModal, kEditor, hotkeys, saveFile, ui, kModelHelper, kFactory, kWs, Notification) {\n    function onModelHandler() {\n      kEditor.drawModel();\n    }\n    var unregister = kEditor.addNewModelListener('main', onModelHandler);\n\n    $scope.synced = false;\n    var syncWS;\n\n    $scope.onFileLoaded = function () {};\n\n    $scope.open = function (evt) {\n      evt.preventDefault();\n\n      $scope.onFileLoaded = function (filename, data) {\n        var oldModel = kEditor.getModel();\n        var loader = kFactory.createJSONLoader();\n        var model;\n        try {\n          model = loader.loadModelFromString(data).get(0);\n        } catch (err) {\n          console.warn('[main.controller.open()] Error loading model file'); // eslint-disable-line\n          console.error(err.stack); // eslint-disable-line\n          Notification.error({\n            title: 'Open from file',\n            message: 'Unable to load a model from <strong>' + filename + '</strong>',\n            delay: 15000\n          });\n          kEditor.setModel(oldModel);\n          return;\n        }\n\n        kEditor.setModel(model, function (err) {\n          if (err) {\n            Notification.error({\n              title: 'Open from file',\n              message: 'Unable to open model <strong>' + filename + '</strong><br/>' + err.message,\n              delay: 15000\n            });\n          } else {\n            Notification.success({\n              title: 'Open from file',\n              message: 'Model loaded from <strong>' + filename + '</strong>'\n            });\n          }\n        });\n      };\n      jQuery('input#file').click();\n    };\n\n    $scope.merge = function (evt) {\n      evt.preventDefault();\n      $scope.onFileLoaded = function mergeModel(filename, data) {\n        var loader = kFactory.createJSONLoader();\n        var compare = kFactory.createModelCompare();\n        var cloner = kFactory.createModelCloner();\n        var model;\n        try {\n          model = loader.loadModelFromString(data).get(0);\n          var currentModel = cloner.clone(kEditor.getModel());\n          compare.merge(currentModel, model).applyOn(currentModel);\n        } catch (err) {\n          console.warn('[main.controller.merge()] Error loading model file'); // eslint-disable-line\n          console.error(err.stack); // eslint-disable-line\n          Notification.error({\n            title: 'Merge from file',\n            message: 'Unable to merge the model with <strong>' + filename + '</strong>',\n            delay: 15000\n          });\n          return;\n        }\n\n        kEditor.setModel(currentModel, function (err) {\n          if (err) {\n            Notification.error({\n              title: 'Merge from file',\n              message: 'Unable to merge model <strong>' + filename + '</strong><br/>' + err.message,\n              delay: 15000\n            });\n          } else {\n            Notification.success({\n              title: 'Merge from file',\n              message: 'Model merged with <strong>' + filename + '</strong>'\n            });\n          }\n        });\n      };\n      jQuery('input#file').click();\n    };\n\n    $scope.openFromNode = function (evt) {\n      evt.preventDefault();\n\n      $uibModal.open({\n        templateUrl: 'app/components/util/host-port-path.modal.html',\n        size: 'md',\n        controller: function ($scope, $uibModalInstance) {\n          $scope.title = 'Open from node';\n          $scope.action = 'Open';\n          $scope.host = '127.0.0.1';\n          $scope.port = 9000;\n          $scope.path = '/';\n\n          $uibModalInstance.rendered.then(function () {\n            $timeout(function () {\n              jQuery('#host').focus();\n            }, 250);\n          });\n\n          $scope.confirm = function () {\n            $scope.closeError();\n\n            kWs.getModel($scope.host, $scope.port, $scope.path, function (err, model, url) {\n              if (err) {\n                $timeout(function () {\n                  $scope.error = err.message;\n                });\n              } else {\n                $uibModalInstance.close();\n                kEditor.setModel(model, function (err) {\n                  if (err) {\n                    Notification.error({\n                      title: $scope.title,\n                      message: 'Unable to load model from <strong>' + url + '</strong><br/>' + err.message,\n                      delay: 15000\n                    });\n                  } else {\n                    Notification.success({\n                      title: $scope.title,\n                      message: 'Model loaded from <strong>' + url + '</strong>'\n                    });\n                  }\n                });\n              }\n            });\n          };\n\n          $scope.closeError = function () {\n            $scope.error = null;\n          };\n        }\n      });\n    };\n\n    $scope.mergeFromNode = function (evt) {\n      evt.preventDefault();\n\n      $uibModal.open({\n        templateUrl: 'app/components/util/host-port-path.modal.html',\n        size: 'md',\n        controller: function ($scope, $uibModalInstance, kWs) {\n          $scope.title = 'Merge from node';\n          $scope.action = 'Merge';\n          $scope.host = '127.0.0.1';\n          $scope.port = 9000;\n          $scope.path = '/';\n\n          $uibModalInstance.rendered.then(function () {\n            $timeout(function () {\n              jQuery('#host')\n                .focus();\n            }, 250);\n          });\n\n          $scope.confirm = function () {\n            $scope.closeError();\n\n            kWs.getModel($scope.host, $scope.port, $scope.path, function (err, model, url) {\n              if (err) {\n                $timeout(function () {\n                  $scope.error = err.message;\n                });\n              } else {\n                $uibModalInstance.close();\n                var compare = kFactory.createModelCompare();\n                var cloner = kFactory.createModelCloner();\n                var currentModel = cloner.clone(kEditor.getModel());\n                compare.merge(currentModel, model).applyOn(currentModel);\n                kEditor.setModel(currentModel, function (err) {\n                  if (err) {\n                    Notification.error({\n                      title: $scope.title,\n                      message: 'Unable to merge model from <strong>' + url + '</strong><br/>' + err.message,\n                      delay: 15000\n                    });\n                  } else {\n                    Notification.success({\n                      title: $scope.title,\n                      message: 'Model merged with <strong>' + url + '</strong>'\n                    });\n                  }\n                });\n              }\n            });\n          };\n\n          $scope.closeError = function () {\n            $scope.error = null;\n          };\n        }\n      });\n    };\n\n    $scope.disconnectSync = function () {\n      if (syncWS) {\n        syncWS.close();\n        $timeout(function () {\n          $scope.synced = false;\n        });\n      }\n    };\n\n    $scope.connectSync = function (evt) {\n      evt.preventDefault();\n      if (!$scope.synced) {\n        var parentScope = $scope;\n        $uibModal.open({\n          templateUrl: 'app/components/util/host-port-path.modal.html',\n          size: 'md',\n          controller: function ($scope, $uibModalInstance) {\n            $scope.title = 'Connect sync';\n            $scope.action = 'Sync';\n            $scope.host = '127.0.0.1';\n            $scope.port = 9000;\n            $scope.path = '/';\n\n            $uibModalInstance.rendered.then(function () {\n              $timeout(function () {\n                jQuery('#host').focus();\n              }, 250);\n            });\n\n            $scope.confirm = function () {\n              $scope.closeError();\n\n              if (!$scope.path) {\n                $scope.path = '';\n              } else {\n                if ($scope.path.length === 1 && $scope.path === '/') {\n                  $scope.path = '';\n                } else if ($scope.path.substr(0, 1) !== '/') {\n                  $scope.path = '/' + $scope.path;\n                }\n              }\n\n              syncWS = new WebSocket('ws://' + $scope.host + ':' + $scope.port + $scope.path);\n\n              syncWS.addEventListener('open', function () {\n                $timeout(function () {\n                  parentScope.url = $scope.host + (($scope.port === 80) ? '' : ':' + $scope.port) + $scope.path;\n                  parentScope.synced = true;\n                });\n                $uibModalInstance.close();\n                Notification.success({\n                  title: $scope.title,\n                  message: 'Connected to <strong>ws://' + $scope.host + ':' + $scope.port + $scope.path + '</strong>'\n                });\n              });\n\n              syncWS.addEventListener('message', function (evt) {\n                var data = evt.data;\n                if (data.substr(0, 'push/'.length) === 'push/') {\n                  data = data.substr('push/'.length);\n                }\n\n                var loader = kFactory.createJSONLoader();\n                try {\n                  var model = loader.loadModelFromString(data).get(0);\n                  kEditor.setModel(model, function (err) {\n                    if (err) {\n                      Notification.error({\n                        title: $scope.title,\n                        message: 'Unable to update synced model from <strong>ws://' + $scope.host + ':' + $scope.port + $scope.path + '</strong><br/>' + err.message,\n                        delay: 15000\n                      });\n                    } else {\n                      Notification.success({\n                        title: $scope.title,\n                        message: 'Model updated from sync with <strong>ws://' + $scope.host + ':' + $scope.port + $scope.path + '</strong>'\n                      });\n                    }\n                  });\n                } catch (err) {\n                  Notification.error({\n                    title: $scope.title,\n                    message: 'Error: unable to load received message as a Kevoree JSON model',\n                    delay: 15000\n                  });\n                }\n              });\n\n              syncWS.addEventListener('error', function () {\n                Notification.error({\n                  title: $scope.title,\n                  message: 'Error: unable to sync with <strong>ws://' + $scope.host + ':' + $scope.port + $scope.path + '</strong>',\n                  delay: 15000\n                });\n              });\n\n              syncWS.addEventListener('close', function () {\n                $timeout(function () {\n                  parentScope.synced = false;\n                });\n                Notification.warning({\n                  title: $scope.title,\n                  message: 'Connection with <strong>ws://' + $scope.host + ':' + $scope.port + $scope.path + '</strong> closed'\n                });\n              });\n            };\n\n            $scope.closeError = function () {\n              $scope.error = null;\n            };\n          }\n        });\n      } else {\n        Notification.warning({\n          title: 'Connect sync',\n          message: 'You are already synced'\n        });\n      }\n    };\n\n    $scope.save = function (evt, filename) {\n      evt.preventDefault();\n      var serializer = kFactory.createJSONSerializer();\n\n      try {\n        // serialize model\n        var modelStr = serializer.serialize(kEditor.getModel());\n        // prettify model\n        modelStr = JSON.stringify(JSON.parse(modelStr), null, 4);\n        // download model on client\n        saveFile.save(modelStr, filename, '.json', 'application/json');\n      } catch (err) {\n        Notification.error({\n          title: 'Save',\n          message: 'Unable to serialize model to JSON'\n        });\n      }\n    };\n\n    // copy/paste logic\n    var clipboard = [];\n    $scope.copy = function () {\n      clipboard = ui.getSelectedPaths()\n        .filter(function (elem) {\n          return typeof elem === 'string';\n        });\n    };\n    $scope.paste = function () {\n      clipboard.forEach(function (path) {\n        var model = kEditor.getModel();\n        var instance = model.findByPath(path);\n        if (instance) {\n          var clone = kModelHelper.clone(instance);\n          switch (kModelHelper.getTypeDefinitionType(instance.typeDefinition)) {\n            case 'node':\n              model.addNodes(clone);\n              if (instance.host) {\n                instance.host.addHosts(clone);\n              }\n              break;\n            case 'group':\n              model.addGroups(clone);\n              break;\n            case 'channel':\n              model.addHubs(clone);\n              break;\n            case 'component':\n              instance.eContainer()\n                .addComponents(clone);\n              break;\n          }\n        }\n      });\n      if (clipboard.length > 0) {\n        kEditor.drawModel();\n      }\n    };\n\n    $scope.fixOverlapping = function (evt) {\n      evt.preventDefault();\n      kEditor.fixOverlapping();\n    };\n\n    $scope.deleteAll = function (evt) {\n      evt.preventDefault();\n      $scope.deleteInstances(evt);\n      kEditor.getModel()\n        .removeAllPackages();\n    };\n\n    $scope.deleteInstances = function (evt) {\n      evt.preventDefault();\n      var model = kEditor.getModel();\n      model.removeAllNodes();\n      model.removeAllGroups();\n      model.removeAllHubs();\n      model.removeAllMBindings();\n      model.removeAllRepositories();\n    };\n\n    $scope.deleteSelection = function (evt) {\n      evt.preventDefault();\n      var deletions = ui.deleteSelected();\n      if (deletions === 0) {\n        Notification.warning({\n          title: 'Delete selected',\n          message: 'Nothing selected'\n        });\n      }\n    };\n\n    $scope.toggleShortcutHelp = function () {\n      hotkeys.toggleCheatSheet();\n    };\n\n    //$scope.undo = function (evt) {\n    //    evt.preventDefault();\n    //    console.log('undo');\n    //    Notification.warning({\n    //        title: 'Undo',\n    //        message: 'Not implemented yet',\n    //        delay: 3000\n    //    });\n    //};\n    //$scope.redo = function (evt) {\n    //    evt.preventDefault();\n    //    console.log('redo');\n    //    Notification.warning({\n    //        title: 'Redo',\n    //        message: 'Not implemented yet',\n    //        delay: 3000\n    //    });\n    //};\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+o',\n        description: 'Open a model from a file',\n        callback: $scope.open\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+m',\n        description: 'Merge a model from a file with current model in editor',\n        callback: $scope.merge\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+shift+o',\n        description: 'Open a model from a node',\n        callback: $scope.openFromNode\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+shift+m',\n        description: 'Merge a model from a node with current model in editor',\n        callback: $scope.mergeFromNode\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+shift+g',\n        description: 'Connect to a Web Socket server and stay synced with it',\n        callback: $scope.connectSync\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+s',\n        description: 'Save the current model into a JSON file',\n        callback: function (evt) {\n          evt.preventDefault();\n          var saveFile = $scope.save;\n          $uibModal\n            .open({\n              templateUrl: 'app/components/util/filename.modal.html',\n              size: 'sm',\n              controller: function ($scope, $uibModalInstance) {\n                $scope.title = 'Save model';\n                $scope.body = 'Would you like to save your current model to a file?';\n                $scope.filename = 'model' + (Math.floor(Math.random() * (1000 - 100)) + 100);\n                $uibModalInstance.rendered.then(function () {\n                  $timeout(function () {\n                    jQuery('#filename')\n                      .focus();\n                  }, 250);\n                });\n\n                $scope.save = function () {\n                  function endsWith(str, suffix) {\n                    return str.indexOf(suffix, str.length - suffix.length) !== -1;\n                  }\n                  var suffix = '.json';\n                  if (endsWith($scope.filename, suffix)) {\n                    $scope.filename = $scope.filename.substr(0, $scope.filename.length - suffix.length);\n                  }\n                  saveFile(evt, $scope.filename);\n                  $uibModalInstance.close();\n                };\n              }\n            });\n        }\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'alt+o',\n        description: 'Fix overlapping',\n        callback: $scope.fixOverlapping\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'alt+shift+d',\n        description: 'Delete everything in the current model',\n        callback: $scope.deleteAll\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'alt+shift+i',\n        description: 'Delete instances in the current model',\n        callback: $scope.deleteInstances\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'del',\n        description: 'Delete selected instances in the current model',\n        callback: $scope.deleteSelection\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+a',\n        description: 'Select all instances',\n        callback: function (evt) {\n          evt.preventDefault();\n          ui.selectAll();\n        }\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+c',\n        description: 'Copy the selected instance(s)',\n        callback: $scope.copy\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+v',\n        description: 'Paste the selected instance(s)',\n        callback: $scope.paste\n      });\n\n    //hotkeys.bindTo($scope).add({\n    //    combo: 'ctrl+z',\n    //    description: 'Undo the last modification',\n    //    callback: $scope.undo\n    //});\n    //\n    //hotkeys.bindTo($scope).add({\n    //    combo: 'ctrl+y',\n    //    description: 'Redo the last modification',\n    //    callback: $scope.redo\n    //});\n\n    $scope.$on('$destroy', function () {\n      unregister();\n    });\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .controller('InstanceNetworkModalCtrl', function ($scope, $uibModalInstance, $timeout, node, net, kFactory) {\n    $scope.node = node;\n    $scope.net = net;\n    $scope.newVal = {\n      name: null,\n      value: null\n    };\n\n    $scope.addNewVal = function () {\n      if ($scope.newVal.name && $scope.newVal.value) {\n        var val = kFactory.createValue();\n        val.name = $scope.newVal.name;\n        val.value = $scope.newVal.value;\n        $scope.net.addValues(val);\n        $scope.newVal.name = null;\n        $scope.newVal.value = null;\n        jQuery('input#newValName').focus();\n      }\n    };\n\n    $scope.add = function () {\n      node.addNetworkInformation($scope.net);\n      $uibModalInstance.close();\n    };\n\n    $scope.delete = function () {\n      $scope.net.delete();\n      $uibModalInstance.close();\n    };\n\n    $scope.canSave = function () {\n      return net.values.array.length > 0;\n    };\n  });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:InstanceCtrl\n * @description\n * # InstanceCtrl\n * Controller of the editorApp instance editor\n */\nangular.module('editorApp')\n  .controller('InstanceCtrl', function ($scope, $timeout, $uibModal, hotkeys, ui, kEditor, kFactory, kInstance, kModelHelper) {\n    var vm = this;\n\n    var timeout;\n    vm.instance = null;\n    vm.type = null;\n    vm.mainCollapsed = false;\n    vm.dicCollapsed = false;\n    vm.netCollapsed = false;\n    vm.descCollapsed = false;\n    vm.fragCollapsed = {};\n\n    /**\n     * Process vm.instance TypeDefinition in order to set default values on the dictionaries\n     **/\n    function processTypeDefinition() {\n      vm.versions = vm.instance.typeDefinition.eContainer()\n        .select('typeDefinitions[name=' + vm.instance.typeDefinition.name + ']').array\n        .map(function (tdef) {\n          return tdef.version;\n        });\n      vm.instance.selectedVersion = vm.instance.typeDefinition.version;\n      vm.dus = vm.instance.typeDefinition.deployUnits.array;\n      var descMeta = vm.instance.typeDefinition.findMetaDataByID('description');\n      if (descMeta) {\n        vm.description = descMeta.value;\n      } else {\n        vm.description = '<em>- none -</em>';\n      }\n      if (vm.instance.typeDefinition.dictionaryType) {\n        vm.dicAttrs = vm.instance.typeDefinition.dictionaryType\n          .select('attributes[fragmentDependant=false]').array;\n        vm.fragDicAttrs = vm.instance.typeDefinition.dictionaryType\n          .select('attributes[fragmentDependant=true]').array;\n      } else {\n        vm.dicAttrs = [];\n        vm.fragDicAttrs = [];\n      }\n\n      // create dictionary values if none set\n      kInstance.initDictionaries(vm.instance);\n    }\n\n    /**\n     * Clean dictionary from unwanted attributes (when a version change occurs, this will strip out\n     * values that depend on unknown attributes in the new version)\n     * @param dic\n     * @param dicType\n     * @param isFragment\n     */\n    function processDictionary(dic, dicType, isFragment) {\n      if (dicType) {\n        dic.values.array.forEach(function (val) {\n          var attr = dicType.select('attributes[name=' + val.name + ']').array[0];\n          if (attr) {\n            if (vm.isTruish(attr.fragmentDependant)) {\n              if (!isFragment) {\n                val.delete();\n              }\n            } else {\n              if (isFragment) {\n                val.delete();\n              }\n            }\n          } else {\n            val.delete();\n          }\n        });\n      }\n    }\n\n    vm.changeName = function (form, name) {\n      if (form.name.$valid) {\n        vm.instance.name = name;\n      }\n    };\n\n    vm.changeVersion = function (version) {\n      if (version) {\n        vm.instance.typeDefinition = vm.instance.typeDefinition.eContainer()\n          .select('**/typeDefinitions[name=' + vm.instance.typeDefinition.name + ',version=' + version + ']').array[0];\n        processDictionary(vm.instance.dictionary, vm.instance.typeDefinition.dictionaryType, false);\n        vm.instance.fragmentDictionary.array.forEach(function (fragDic) {\n          processDictionary(fragDic, vm.instance.typeDefinition.dictionaryType, true);\n        });\n        processTypeDefinition();\n      }\n    };\n\n    vm.hasFragmentDictionary = function () {\n      if (vm.instance && vm.instance.fragmentDictionary) {\n        return vm.instance.fragmentDictionary.size() > 0;\n      } else {\n        return false;\n      }\n    };\n\n    vm.hasNetworkInformation = function () {\n      return vm.instance && (typeof (vm.instance.networkInformation) !== 'undefined');\n    };\n\n    vm.manageNetwork = function (evt, net) {\n      evt.stopPropagation();\n      $uibModal.open({\n        templateUrl: 'app/main/instance/network.modal.html',\n        size: 'md',\n        resolve: {\n          node: function () {\n            return vm.instance;\n          },\n          net: function () {\n            return net;\n          }\n        },\n        controller: 'InstanceNetworkModalCtrl'\n      });\n    };\n\n    vm.addNetwork = function () {\n      var net = kFactory.createNetworkInfo();\n      net.name = 'net' + vm.instance.networkInformation.size();\n\n      $uibModal.open({\n        templateUrl: 'app/main/instance/network.modal.html',\n        size: 'md',\n        resolve: {\n          node: function () {\n            return vm.instance;\n          },\n          net: function () {\n            return net;\n          }\n        },\n        controller: 'InstanceNetworkModalCtrl'\n      });\n    };\n\n    vm.openGroupModal = function () {\n      $uibModal.open({\n        templateUrl: 'app/main/instance/group.modal.html',\n        size: 'md',\n        resolve: {\n          group: function () {\n            return vm.instance;\n          }\n        },\n        controller: 'GroupModalCtrl'\n      });\n    };\n\n    vm.isTruish = kModelHelper.isTruish;\n\n    vm.isReadOnly = function () {\n      // TODO put that code in kModelHelper\n      if (vm.instance) {\n        var val = vm.instance.findMetaDataByID('access_mode');\n        return val && val.value === 'read-only';\n      }\n      return false;\n    };\n\n    vm.isVirtual = function () {\n      return kModelHelper.isVirtual(vm.instance);\n    };\n\n    function processSelection() {\n      $timeout(function () {\n        // do the process in a timeout to be sure it gets $digested\n        vm.instance = null;\n        vm.type = null;\n        vm.versions = [];\n        vm.dus = null;\n        vm.description = '<em>- none -</em>';\n        vm.dicAttrs = [];\n        vm.fragDicAttrs = [];\n        vm.processing = true;\n\n        var selection = kModelHelper.getSelection(kEditor.getModel());\n        if (selection.length === 1) {\n          vm.instance = selection[0];\n          if (vm.instance) {\n            vm.instance.selectedVersion = vm.instance.typeDefinition.version;\n            jQuery('.ui-notification').css('right', '260px');\n            // using preName to prevent user from naming two instances with the same name\n            vm.instance.preName = vm.instance.name;\n            vm.type = kModelHelper.getTypeDefinitionType(vm.instance.typeDefinition);\n            processTypeDefinition();\n            vm.processing = false;\n          }\n        }\n      });\n    }\n\n    processSelection();\n    var unregister = kEditor.addModelUpdateListener('selected', processSelection, true);\n    var unregister2 = kEditor.addNewModelListener('selected', processSelection);\n\n    $scope.$on('$destroy', function () {\n      unregister();\n      unregister2();\n      $timeout.cancel(timeout);\n    });\n  });\n","'use strict';\n\nangular.module('editorApp')\n    .factory('groupModalHolder', function() {\n      return {\n        host: '127.0.0.1',\n        port: '9000',\n        path: '/'\n      };\n    })\n    .controller('GroupModalCtrl', function($scope, $uibModalInstance, $timeout, group, kEditor, kWs, groupModalHolder) {\n      $scope.type = 'push to';\n      $scope.action = 'push';\n      $scope.group = group;\n      $scope.selectedHost = groupModalHolder.host;\n      $scope.selectedPort = groupModalHolder.port;\n      $scope.selectedPath = groupModalHolder.path;\n      $scope.processing = false;\n      $scope.modelHasErrors = kEditor.modelHasErrors();\n\n      $scope.hosts = {\n        '127.0.0.1': 'default'\n      };\n\n      $scope.ports = {\n        '9000': 'default'\n      };\n\n      $scope.paths = {\n        '/': 'default'\n      };\n\n      $scope.changeHost = function() {\n        groupModalHolder.host = $scope.selectedHost;\n      };\n      $scope.changePort = function() {\n        groupModalHolder.port = $scope.selectedPort;\n      };\n      $scope.changePath = function() {\n        groupModalHolder.path = $scope.selectedPath;\n      };\n\n      if (group.dictionary) {\n        var host = group.dictionary.findValuesByID('host');\n        if (host && !$scope.hosts[host.value]) {\n          $scope.hosts[host.value] = group.name;\n        }\n\n        var port = group.dictionary.findValuesByID('port');\n        if (port && !$scope.ports[port.value]) {\n          $scope.ports[port.value] = group.name;\n        }\n\n        var path = group.dictionary.findValuesByID('path');\n        if (path && !$scope.paths[path.value]) {\n          $scope.paths[path.value] = group.name;\n        }\n      }\n\n      group.subNodes.array.forEach(function(node) {\n        var fragDic = group.findFragmentDictionaryByID(node.name);\n\n        if (fragDic) {\n          var port = fragDic.findValuesByID('port'),\n            path = fragDic.findValuesByID('path');\n\n          if (port && !$scope.ports[port.value]) {\n            $scope.ports[port.value] = node.name;\n          }\n\n          if (path && !$scope.paths[path.value]) {\n            $scope.paths[path.value] = node.name;\n          }\n        }\n\n        node.networkInformation.array.forEach(function(net) {\n          net.values.array.forEach(function(val) {\n            if (!$scope.hosts[val.value]) {\n              $scope.hosts[val.value] = node.name;\n            }\n          });\n        });\n      });\n\n      $scope.closeError = function() {\n        $scope.error = null;\n      };\n\n      $scope.closeModelHasErrorsWarning = function () {\n        $scope.modelHasErrors = null;\n      };\n\n      $scope.closeSuccess = function() {\n        $scope.success = null;\n      };\n\n      var ws;\n      $scope.push = function() {\n        $scope.action = 'pushed to';\n        $scope.error = null;\n        $scope.processing = true;\n        $timeout(function() {\n          ws = kWs.pushModel(\n              kEditor.getModel(),\n              $scope.selectedHost,\n              $scope.selectedPort,\n              $scope.selectedPath,\n              function(err) {\n                $timeout(function() {\n                  if (err) {\n                    $scope.processing = false;\n                    $scope.error = err.message;\n                  } else {\n                    $scope.processing = false;\n                    $scope.success = true;\n                  }\n                });\n              });\n        });\n      };\n\n      $scope.pull = function() {\n        $scope.action = 'pulled from';\n        $scope.error = null;\n        $scope.processing = true;\n        ws = kWs.getModel(\n            $scope.selectedHost,\n            $scope.selectedPort,\n            $scope.selectedPath,\n            function(err, model) {\n              $timeout(function() {\n                if (err) {\n                  $scope.processing = false;\n                  $scope.error = err.message;\n                } else {\n                  $scope.processing = false;\n                  $scope.success = true;\n                  kEditor.setModel(model);\n                }\n              });\n            });\n      };\n\n      $scope.close = function() {\n        if (ws) {\n          ws.close();\n        }\n        $uibModalInstance.close();\n      };\n    });\n","'use strict';\n\nangular.module('editorApp')\n    .controller('SelectChanModalCtrl', function ($scope, $uibModalInstance, startPort, endPort, orderByFilter, kInstance, kEditor, kFactory, kModelHelper, KWE_POSITION) {\n      var selected;\n      $scope.instances = orderByFilter(kEditor.getModel().hubs.array.filter(function (chan) {\n        chan.selected = false;\n        return !kModelHelper.isAlreadyBound(endPort, chan) &&\n                !kModelHelper.isAlreadyBound(startPort, chan) &&\n                kModelHelper.isCompatible(chan.typeDefinition, startPort.eContainer().eContainer()) &&\n                kModelHelper.isCompatible(chan.typeDefinition, endPort.eContainer().eContainer());\n      }), 'typeDefinition.name');\n      $scope.types = orderByFilter(kModelHelper.getChannelTypes(kEditor.getModel()).filter(function (type) {\n        type.selected = false;\n        return kModelHelper.isCompatible(type, startPort.eContainer().eContainer()) &&\n                kModelHelper.isCompatible(type, endPort.eContainer().eContainer());\n      }), 'name');\n\n      if ($scope.types.length > 0) {\n        $scope.types[0].selected = true;\n        selected = $scope.types[0];\n      }\n\n      $scope.isValid = function () {\n        for (var i=0; i < $scope.instances.length; i++) {\n          if ($scope.instances[i].selected) {\n            return true;\n          }\n        }\n\n        for (i=0; i < $scope.types.length; i++) {\n          if ($scope.types[i].selected) {\n            return true;\n          }\n        }\n\n        return false;\n      };\n\n      $scope.select = function (chan) {\n        if (!chan.selected) {\n          $scope.instances.forEach(function (elem) {\n            if (chan.path() !== elem.path() && elem.selected) {\n              elem.selected = false;\n            }\n          });\n          $scope.types.forEach(function (elem) {\n            if (chan.path() !== elem.path() && elem.selected) {\n              elem.selected = false;\n            }\n          });\n          chan.selected = !chan.selected;\n          selected = chan;\n        }\n      };\n\n      $scope.confirm = function () {\n        var chanInstance;\n        if (selected.getRefInParent() === 'typeDefinitions') {\n                // selected elem is a TypeDefinition => create an instance\n          chanInstance = kFactory.createChannel();\n          chanInstance.name = 'chan'+parseInt(Math.random()*1000);\n          chanInstance.typeDefinition = selected;\n          chanInstance.started = true;\n          var pos = kFactory.createValue();\n          pos.name = KWE_POSITION;\n          pos.value = JSON.stringify({ x: 100, y: 100 });\n          chanInstance.addMetaData(pos);\n          kInstance.initDictionaries(chanInstance);\n          kEditor.getModel().addHubs(chanInstance);\n        } else {\n          chanInstance = selected;\n        }\n        $uibModalInstance.close(chanInstance);\n      };\n    });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:EditorCtrl\n * @description\n * # EditorCtrl\n * Controller of the editorApp editor\n */\nangular.module('editorApp')\n\t.controller('EditorCtrl', function ($scope, kEditor, ui, uiUtils, kModelHelper, kFactory, kInstance, hotkeys, Notification, KWE_POSITION, KWE_FOLDED) {\n\t\t// init the UI kFactory\n  ui.init();\n\n\t\t// process model to create the instance UIs\n  kEditor.drawModel();\n\n  $scope.dropDroppable = {\n    onDrop: 'onDrop'\n  };\n  $scope.dropOptions = {\n    accept: function (obj) {\n      var accept = false;\n      var pkgPath = obj[0].dataset.pkgPath;\n      var tdefName = obj[0].innerHTML.trim();\n      var tdefs = kEditor.getModel().select(pkgPath + '/typeDefinitions[name=' + tdefName + ']');\n      var tdef = kModelHelper.findBestVersion(tdefs.array);\n      var type = kModelHelper.getTypeDefinitionType(tdef);\n\n      if (type === 'component') {\n        accept = ui.getDropTarget();\n      } else {\n        accept = true;\n      }\n\n\t\t\t\t// TODO improve to handle TypeDef checks\n      return accept;\n    }\n  };\n\n\t\t/**\n\t\t * Adds a new instance to the model based on the dropped TypeDefinition\n\t\t * @param evt\n\t\t * @param obj\n\t\t */\n  $scope.onDrop = function (evt, obj) {\n    var pkgPath = angular.element(obj.draggable).scope().tdef.pkgPath;\n    var tdefName = angular.element(obj.draggable).scope().tdef.name;\n    var tdefs = kEditor.getModel().select(pkgPath + '/typeDefinitions[name=' + tdefName + ']');\n    var tdef = kModelHelper.findBestVersion(tdefs.array);\n    var type = kModelHelper.getTypeDefinitionType(tdef);\n    var m = ui.editor.transform().localMatrix;\n\n    function preProcess(instance) {\n      instance.typeDefinition = tdef;\n      instance.started = true;\n      var pos = kFactory.createValue();\n      pos.name = KWE_POSITION;\n      var pt = uiUtils.getPointInEditor(ui.mousePos.x, ui.mousePos.y);\n      pos.value = JSON.stringify({\n        x: pt.x - m.e,\n        y: pt.y - m.f\n      });\n      instance.addMetaData(pos);\n      kInstance.initDictionaries(instance);\n    }\n\n    var model = kEditor.getModel();\n    var dropTarget = ui.getDropTarget();\n    var instance, node;\n    switch (type) {\n      case 'node':\n        instance = kFactory.createContainerNode();\n        instance.name = 'node' + parseInt(Math.random() * 1000);\n        preProcess(instance);\n        model.addNodes(instance);\n        if (dropTarget) {\n          node = model.findByPath(dropTarget.attr('data-path'));\n          if (node) {\n            node.addHosts(instance);\n          }\n        }\n        break;\n\n      case 'group':\n        instance = kFactory.createGroup();\n        instance.name = 'group' + parseInt(Math.random() * 1000);\n        preProcess(instance);\n        kInstance.initFragmentDictionaries(instance);\n        model.addGroups(instance);\n        break;\n\n      case 'component':\n        instance = kFactory.createComponentInstance();\n        instance.name = 'comp' + parseInt(Math.random() * 1000);\n        preProcess(instance);\n        if (dropTarget) {\n          node = model.findByPath(dropTarget.attr('data-path'));\n          if (node) {\n            node.addComponents(instance);\n          }\n        } else {\n          Notification.warning({\n            title: 'Add component',\n            message: 'You have to drop components in nodes',\n            delay: 5000\n          });\n        }\n        break;\n\n      case 'channel':\n        instance = kFactory.createChannel();\n        instance.name = 'chan' + parseInt(Math.random() * 1000);\n        preProcess(instance);\n        kInstance.initFragmentDictionaries(instance);\n        model.addHubs(instance);\n        break;\n    }\n\n    ui.setDropTarget(null);\n    return true;\n  };\n\n\t\t/**\n\t\t * Moves selected instances up, right, down, left\n\t\t * @param {String} axis \"up\", \"down\", \"right\", \"left\"\n\t\t * @param {Number} delta number of pixel to offset from current position\n\t\t */\n  function moveInstance(axis, delta) {\n    return function () {\n\t\t\t\t// ui.getSelected().forEach(function (elem) {\n\t\t\t\t//     switch (axis) {\n\t\t\t\t//         case 'up':\n\t\t\t\t//             elem.transform(elem.transform().local + 'T0,-' + delta);\n\t\t\t\t//             break;\n\t\t\t\t//\n\t\t\t\t//         case 'right':\n\t\t\t\t//             elem.transform(elem.transform().local + 'T'+delta+',0');\n\t\t\t\t//             break;\n\t\t\t\t//\n\t\t\t\t//         case 'down':\n\t\t\t\t//             elem.transform(elem.transform().local + 'T0,' + delta);\n\t\t\t\t//             break;\n\t\t\t\t//\n\t\t\t\t//         case 'left':\n\t\t\t\t//             elem.transform(elem.transform().local + 'T-'+delta+',0');\n\t\t\t\t//             break;\n\t\t\t\t//     }\n\t\t\t\t// });\n      var selected = ui.getSelectedPaths();\n      if (selected) {\n        selected.forEach(function (path) {\n          if (path) {\n            var elem = kEditor.getModel().findByPath(path);\n            if (elem && typeof elem.findMetaDataByID === 'function') {\n              var posMeta = elem.findMetaDataByID(KWE_POSITION);\n              if (posMeta) {\n                var pt = JSON.parse(posMeta.value);\n                switch (axis) {\n                  case 'up':\n                    pt.y -= delta;\n                    break;\n\n                  case 'right':\n                    pt.x += delta;\n                    break;\n\n                  case 'down':\n                    pt.y += delta;\n                    break;\n\n                  case 'left':\n                    pt.x -= delta;\n                    break;\n                }\n                posMeta.value = JSON.stringify(pt);\n              }\n            }\n          }\n        });\n      }\n    };\n  }\n\n  hotkeys.bindTo($scope).add({\n    combo: 'f',\n    description: 'Fold/Unfold selected node',\n    callback: function () {\n      var selected = ui.getSelectedPaths();\n      if (selected) {\n        selected.forEach(function (path) {\n          if (path) {\n            var elem = kEditor.getModel().findByPath(path);\n            if (kModelHelper.getTypeDefinitionType(elem.typeDefinition) === 'node') {\n              var foldMeta = elem.findMetaDataByID(KWE_FOLDED);\n              if (!foldMeta) {\n                foldMeta = kFactory.createValue();\n                foldMeta.name = KWE_FOLDED;\n                foldMeta.value = true;\n                elem.addMetaData(foldMeta);\n              } else {\n                var val = kModelHelper.isTruish(foldMeta.value);\n                foldMeta.value = !val;\n              }\n            }\n          }\n        });\n      }\n    }\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'up',\n    description: 'Move the selected instances 1 pixel up',\n    callback: moveInstance('up', 1)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+up',\n    description: 'Move the selected instances 15 pixel up',\n    callback: moveInstance('up', 15)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'right',\n    description: 'Move the selected instances 1 pixel right',\n    callback: moveInstance('right', 1)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+right',\n    description: 'Move the selected instances 15 pixel right',\n    callback: moveInstance('right', 15)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'down',\n    description: 'Move the selected instances 1 pixel down',\n    callback: moveInstance('down', 1)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+down',\n    description: 'Move the selected instances 15 pixel down',\n    callback: moveInstance('down', 15)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'left',\n    description: 'Move the selected instances 1 pixel left',\n    callback: moveInstance('left', 1)\n  });\n\n  hotkeys.bindTo($scope).add({\n    combo: 'ctrl+left',\n    description: 'Move the selected instances 15 pixel left',\n    callback: moveInstance('left', 15)\n  });\n});\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .component('tdefDetail', {\n      templateUrl: 'app/libraries/tdef-detail.html',\n      bindings: {\n        tdef: '<',\n        versions: '<',\n        disabled: '<',\n        onVersionChanged: '&',\n        onAddDusToModel: '&',\n      },\n      controller: TdefDetailController\n    });\n\n  TdefDetailController.$inject = ['$q', 'kRegistry'];\n\n  function TdefDetailController($q, kRegistry) {\n    var ctrl = this;\n\n    ctrl.versions = null;\n    ctrl.selectedVersion = null;\n    ctrl.baseUrl = kRegistry.getUrl();\n    ctrl.$onChanges = $onChanges;\n    ctrl.changeVersion = changeVersion;\n    ctrl.addDusToModel = addDusToModel;\n\n    function $onChanges(changes) {\n      if (changes.versions && changes.versions.currentValue) {\n        ctrl.selectedVersion = ctrl.versions.find(function (tdef) {\n          return ctrl.tdef.version === tdef.version;\n        });\n      }\n    }\n\n    function changeVersion() {\n      if (!ctrl.disabled) {\n        ctrl.onVersionChanged({ tdef: ctrl.selectedVersion });\n      }\n    }\n\n    function addDusToModel(dus) {\n      if (!ctrl.disabled) {\n        ctrl.onAddDusToModel({ dus: dus });\n      }\n    }\n  }\n})();\n","'use strict';\n\nangular.module('editorApp')\n  .config(function ($stateProvider) {\n    $stateProvider\n      .state('libraries', {\n        parent: 'app',\n        url: '/libs',\n        views: {\n          'content@': {\n            templateUrl: 'app/libraries/libraries.html',\n            controller: 'LibrariesCtrl',\n            controllerAs: 'vm'\n          }\n        }\n      });\n  });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:LibrariesCtrl\n * @description\n * # LibrariesCtrl\n * Controller of the editorApp registry libraries page\n */\nangular.module('editorApp')\n  .controller('LibrariesCtrl', function ($q, $uibModal, kRegistry, kEditor, kFactory, Notification) {\n    var vm = this;\n    vm.namespaces = [];\n    vm.tdefs = [];\n    vm.selectNs = selectNs;\n    vm.selectTdef = selectTdef;\n    vm.tdefDetail = null;\n    vm.changeTdefVersion = changeTdefVersion;\n    vm.addDusToModel = addDusToModel;\n\n    // initial process: retrieve all namespaces from registry\n    kRegistry.namespace.all()\n      .then(function (namespaces) {\n        vm.namespaces = namespaces.map(function (ns) {\n          if (ns.name === 'kevoree') {\n            ns.active = true;\n          } else {\n            ns.active = false;\n          }\n          return ns;\n        });\n      })\n      .then(updateTdefs);\n\n    function updateTdefs() {\n      vm.tdefs = null;\n      vm.tdefDetail = null;\n      vm.tdefDetailVersions = null;\n      var activeNs = vm.namespaces.find(function (ns) {\n        return ns.active;\n      });\n      if (activeNs) {\n        return getTdefsByNamespace(activeNs)\n          .then(function () {\n            return getTdefVersions(vm.tdefDetail);\n          })\n          .then(function () {\n            return getTdefDus(vm.tdefDetail);\n          });\n      } else {\n        return null;\n      }\n    }\n\n    function getTdefsByNamespace(namespace) {\n      return kRegistry.tdef.getLatestsByNamespace(namespace.name)\n        .then(function (tdefs) {\n          vm.tdefs = tdefs.map(function (tdef, i) {\n            if (i === 0) {\n              tdef.active = true;\n              vm.tdefDetail = tdef;\n            } else {\n              tdef.active = false;\n            }\n            return tdef;\n          });\n        });\n    }\n\n    function getTdefVersions(tdef) {\n      if (tdef) {\n        return kRegistry.tdef.getAllByNamespaceAndName(tdef.namespace, tdef.name)\n          .then(function (tdefs) {\n            vm.tdefDetailVersions = tdefs;\n          });\n      } else {\n        return null;\n      }\n    }\n\n    function getTdefDus(tdef) {\n      if (tdef) {\n        return $q.all([\n          kRegistry.du.getReleases(tdef.namespace, tdef.name, tdef.version),\n          kRegistry.du.getLatests(tdef.namespace, tdef.name, tdef.version)\n        ]).then(function (results) {\n          vm.tdefDetail.releases = transformDUS(results[0]);\n          vm.tdefDetail.latests = transformDUS(results[1]);\n        });\n      } else {\n        return null;\n      }\n    }\n\n    function selectNs(nsClicked) {\n      vm.disabled = true;\n      vm.namespaces.forEach(function (ns) {\n        if (ns.name === nsClicked.name) {\n          ns.active = !ns.active;\n        } else {\n          ns.active = false;\n        }\n      });\n      updateTdefs()\n        .then(function () {\n          vm.disabled = false;\n        });\n    }\n\n    function selectTdef(tdefClicked) {\n      vm.disabled = true;\n      vm.tdefDetail = null;\n      vm.tdefDetailVersions = null;\n      vm.tdefs.forEach(function (tdef) {\n        if (tdef.name === tdefClicked.name) {\n          tdef.active = !tdef.active;\n        } else {\n          tdef.active = false;\n        }\n      });\n      vm.tdefDetail = vm.tdefs.find(function (tdef) {\n        return tdef.active;\n      });\n      changeTdefVersion(vm.tdefDetail)\n        .then(function () {\n          vm.disabled = false;\n        });\n    }\n\n    function transformDUS(dus) {\n      dus.sort(function (a, b) {\n        if (a.name < b.name) {\n          return -1;\n        }\n        if (a.name > b.name) {\n          return 1;\n        }\n        return 0;\n      });\n      return dus.map(function (du) {\n        du.active = false;\n        return du;\n      });\n    }\n\n    function changeTdefVersion(tdef) {\n      if (tdef) {\n        vm.tdefDetail = tdef;\n        return getTdefVersions(tdef)\n          .then(function () {\n            return getTdefDus(tdef);\n          });\n      } else {\n        return $q.resolve();\n      }\n    }\n\n    function addDusToModel(dus) {\n      var model = kEditor.getModel();\n      var tdef = model.select('/packages['+vm.tdefDetail.namespace+']/typeDefinitions[name='+vm.tdefDetail.name+',version='+vm.tdefDetail.version+']').array[0];\n      if (tdef) {\n        $uibModal.open({\n          templateUrl: 'app/libraries/dus.modal.html',\n          size: 'md',\n          resolve: {\n            tdef: function () {\n              return vm.tdefDetail;\n            },\n            currentDus: function () {\n              return tdef.deployUnits.array;\n            },\n            dus: function () {\n              return dus;\n            }\n          },\n          controller: 'DusModalController as vm'\n        }).result.then(function () {\n          // delete the previous deployUnits of the typeDef\n          tdef.deployUnits.array = [];\n          mergeDUSInModel(tdef, dus);\n          Notification.success({\n            title: 'Add to model',\n            message: 'DeployUnits successfully added to <strong>'+tdef.eContainer().name+'.'+tdef.name+'/'+tdef.version+'</strong>'\n          });\n        });\n      } else {\n        // no trace of typeDef in current model\n        var pkg = model.findPackagesByID(vm.tdefDetail.namespace);\n        if (!pkg) {\n          // namespace is not in model yet: add it\n          pkg = kFactory.createPackage().withName(vm.tdefDetail.namespace);\n          model.addPackages(pkg);\n        }\n        pkg.addTypeDefinitions(vm.tdefDetail.model);\n        tdef = model.select('/packages['+vm.tdefDetail.namespace+']/typeDefinitions[name='+vm.tdefDetail.name+',version='+vm.tdefDetail.version+']').array[0];\n        mergeDUSInModel(tdef, dus);\n        Notification.success({\n          title: 'Add to model',\n          message: '<strong>'+tdef.eContainer().name+'.'+tdef.name+'/'+tdef.version+'</strong> successfully added to model'\n        });\n      }\n    }\n\n    function mergeDUSInModel(tdef, dus) {\n      dus.forEach(function (du) {\n        if (!du.error) {\n          // add DeployUnits to package\n          tdef.eContainer().addDeployUnits(du.model);\n          // add DeployUnits to typedef\n          tdef.addDeployUnits(du.model);\n        }\n      });\n    }\n  });\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .component('klist', {\n      templateUrl: 'app/libraries/klist.html',\n      bindings: {\n        parent: '@', // @ for string constant\n        title: '@',\n        placeholder: '@',\n        props: '<', // < for one-way binding\n        elems: '<', // = for two-way binding\n        onSelect: '&', // & for output func\n        disabled: '<'\n      },\n      controller: KListController,\n    });\n\n  function KListController() {\n    var ctrl = this;\n\n    if (!angular.isDefined(ctrl.props))      { ctrl.props = []; }\n    if (!angular.isDefined(ctrl.selectable)) { ctrl.selectable = true; }\n\n    ctrl.select = function (elem) {\n      if (!ctrl.disabled) {\n        ctrl.onSelect({ elem: elem });\n      }\n    };\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .controller('DusModalController', DusModalController);\n\n  DusModalController.$inject = ['tdef', 'currentDus', 'dus'];\n\n  function DusModalController(tdef, currentDus, dus) {\n    var vm = this;\n\n    vm.tdef = tdef;\n    vm.dus = dus;\n    vm.currentDus = currentDus;\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .component('dusInstaller', {\n      templateUrl: 'app/libraries/dus-installer.html',\n      bindings: {\n        tag: '@',\n        dus: '<',\n        disabled: '<',\n        onAddToModel: '&'\n      },\n      controller: DusInstallerController,\n    });\n\n  DusInstallerController.$inject = [];\n\n  function DusInstallerController() {\n    var ctrl = this;\n\n    ctrl.addToModel = addToModel;\n\n    function addToModel() {\n      if (!ctrl.disabled) {\n        ctrl.onAddToModel({ dus: ctrl.dus });\n      }\n    }\n  }\n})();\n","'use strict';\n\nangular.module('editorApp')\n  .config(function ($stateProvider) {\n    $stateProvider\n      .state('kevscript', {\n        parent: 'app',\n        url: '/kevscript',\n        views: {\n          'content@': {\n            templateUrl: 'app/kevscript/kevscript.html',\n            controller: 'KevScriptCtrl'\n          }\n        }\n      });\n  });\n","'use strict';\n\n/**\n * @ngdoc function\n * @name editorApp.controller:KevScriptCtrl\n * @description\n * # KevScriptCtrl\n * Controller of the editorApp kevscript editor page\n */\nangular.module('editorApp')\n  .controller('KevScriptCtrl', function ($rootScope, $scope, $uibModal, $timeout, $state, hotkeys, kEditor, kScript, saveFile, storage, Notification) {\n    var editor = null;\n\n    function saveToFile(event) {\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      $uibModal\n        .open({\n          templateUrl: 'app/components/util/filename.modal.html',\n          size: 'sm',\n          scope: $scope,\n          controller: function ($scope, $uibModalInstance) {\n            $scope.title = 'Save Kevscript';\n            $scope.body = 'Would you like to save your current KevScript to a file?';\n            $scope.filename = 'script' + (Math.floor(Math.random() * (1000 - 100)) + 100);\n\n            $scope.save = function () {\n              function endsWith(str, suffix) {\n                return str.indexOf(suffix, str.length - suffix.length) !== -1;\n              }\n              var suffix = '.kevs';\n              if (endsWith($scope.filename, suffix)) {\n                $scope.filename = $scope.filename.substr(0, $scope.filename.length - '.kevs'.length);\n              }\n              saveFile.save($scope.kevscript, $scope.filename, suffix, 'kevscript');\n              $uibModalInstance.close();\n            };\n          }\n        })\n        .result.finally(function () {\n          if (editor) {\n            editor.focus();\n          }\n        });\n    }\n\n    function openFromFile(event) {\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      jQuery('input#kevscript-upload').click();\n    }\n\n    $scope.kevscript = '';\n    $scope.processing = false;\n    $scope.message = null;\n    $scope.ctxVars = {};\n    $scope.error = null;\n    $scope.lintWarnings = [];\n    $scope.linting = false;\n    $scope.typing = false;\n    $scope.editorState = 'idle';\n    $scope.editorOptions = {\n      mode: 'kevscript',\n      theme: 'kevscript',\n      lineWrapping: true,\n      lineNumbers: true,\n      styleActiveLine: true,\n      extraKeys: {\n        'Shift-Enter': function () {\n          $scope.merge();\n        },\n        'Ctrl-Space': function (cm) {\n          cm.showHint({ hint: CodeMirror.hint.kevscript, completeSingle: false, alignWithWord: false });\n        },\n        'Ctrl-S': saveToFile,\n        'Ctrl-O': openFromFile\n      },\n      gutters: ['CodeMirror-lint-markers'],\n      lint: {\n        getAnnotations: CodeMirror.lint.kevscript($scope.ctxVars),\n        async: true\n      }\n    };\n\n    $scope.dndLoad = function (filename, data) {\n      if (filename.endsWith('.kevs')) {\n        $scope.kevscript = data;\n      } else {\n        $scope.kevscript = '';\n        $rootScope.dndLoad(filename, data);\n      }\n    };\n\n    $scope.editorLoaded = function (_editor) {\n      editor = _editor;\n      CodeMirror.hint.kevscript.async = true;\n      editor.on('beforeChange', function () {\n        $timeout(function () {\n          $scope.editorState = 'typing';\n          $scope.error = null;\n          $scope.lintWarnings = [];\n        });\n      });\n      editor.on('lintStart', function () {\n        $timeout(function () {\n          $scope.editorState = 'linting';\n        });\n      });\n      editor.on('lintDone', function (error, lintErrors, model) {\n        $timeout(function () {\n          $scope.editorState = 'idle';\n          $scope.model = model;\n          $scope.error = error || lintErrors.filter(function (err) {\n            return err.severity === 'error';\n          })[0];\n          $scope.lintWarnings = lintErrors\n            .filter(function (error) {\n              return error.severity === 'warning';\n            });\n          $scope.linting = false;\n        });\n      });\n      editor.focus();\n      CodeMirror.signal(editor, 'change', editor);\n    };\n\n    $scope.uploadKevscript = function () {\n      var kevscriptUpload = jQuery('#kevscript-upload');\n      kevscriptUpload.on('change', function (event) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          $scope.kevscript = editor.setValue(reader.result);\n        };\n        reader.readAsBinaryString(event.target.files[0]);\n      });\n      kevscriptUpload.trigger('click');\n    };\n\n    $scope.closeMessage = function () {\n      $scope.message = null;\n    };\n\n    $scope.isMergeable = function () {\n      return $scope.editorState === 'idle' &&\n        !$scope.processing &&\n        !$scope.error &&\n        $scope.kevscript.trim().length > 0;\n    };\n\n    $scope.clearCtxVars = function () {\n      Object.keys($scope.ctxVars).forEach(function (key) {\n        delete $scope.ctxVars[key];\n      });\n      CodeMirror.signal(editor, 'change', editor);\n    };\n\n    $scope.addCtxVar = function (ctxVar) {\n      if (ctxVar.key && ctxVar.value) {\n        $scope.ctxVars[ctxVar.key] = ctxVar.value;\n        ctxVar.key = '';\n        ctxVar.value = '';\n        CodeMirror.signal(editor, 'change', editor);\n      }\n    };\n\n    $scope.onFileLoaded = function (filename, data) {\n      $scope.kevscript = data;\n    };\n\n    $scope.removeCtxVar = function (key) {\n      delete $scope.ctxVars[key];\n      CodeMirror.signal(editor, 'change', editor);\n    };\n\n    $scope.merge = function () {\n      if (!$scope.processing) {\n        $scope.processing = true;\n        $timeout(function () {\n          kEditor.setModel($scope.model, function (err) {\n            $scope.processing = false;\n            if (err) {\n              $scope.error = err;\n            } else {\n              editor.setValue('');\n              Notification.success({\n                title: 'KevScript',\n                message: 'Successfully merged'\n              });\n            }\n          });\n        });\n      }\n    };\n\n    $scope.model2kevs = function () {\n      try {\n        var modelStr = kScript.parseModel(kEditor.getModel());\n        editor.setValue(modelStr);\n      } catch (err) {\n        console.warn('[kevscript.controller.model2kevs()] Error creating Kevscript from model'); // eslint-disable-line\n        console.error(err.stack); // eslint-disable-line\n        Notification.error({\n          title: 'KevScript parser',\n          message: 'Unable to convert current model to KevScript',\n          delay: 5000\n        });\n      }\n    };\n\n    $scope.save = saveToFile;\n    $scope.open = openFromFile;\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+o',\n        description: 'Open a KevScript from a file',\n        callback: $scope.open\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'ctrl+s',\n        description: 'Save current KevScript to a file',\n        callback: $scope.save\n      });\n\n    hotkeys.bindTo($scope)\n      .add({\n        combo: 'shift+enter',\n        description: 'Merges current KevScript to model',\n        callback: function () {\n          if ($scope.isMergeable()) {\n            $scope.merge();\n          }\n        }\n      });\n\n    $scope.toggleShortcutHelp = function () {\n      hotkeys.toggleCheatSheet();\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n    .factory('util', function () {\n        /**\n         *\n         * @param val\n         * @returns {boolean}\n         */\n      function isTruish(val) {\n        return (val === 'true' || val > 0 || val === true);\n      }\n\n        /**\n         * @param {number} length optional\n         * @returns {string}\n         */\n      function randomString(length) {\n        length = length || 5;\n        var text = '';\n        var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n        for (var i=0; i < length; i++) {\n          text += possible.charAt(Math.floor(Math.random() * possible.length));\n        }\n\n        return text;\n      }\n\n        /**\n         * @param {number} min val optional (default: 0)\n         * @param {number} max val optional (default: 65535)\n         * @returns {number}\n         */\n      function randomNumber(min, max) {\n        if (typeof min !== 'number') { min = 0; }\n        if (typeof max !== 'number') { max = 65535; }\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n      }\n\n        /**\n         * @returns {boolean}\n         */\n      function randomBoolean() {\n        return Math.random() < 0.5;\n      }\n\n        /**\n         * @param {array}\n         * @returns {array} unique (using \"===\" check) items array\n         */\n      function arrayUnique(array) {\n        var a = array.concat();\n        for (var i=0; i<a.length; ++i) {\n          for (var j=i+1; j<a.length; ++j) {\n            if (a[i] === a[j]) {\n              a.splice(j--, 1);\n            }\n          }\n        }\n        return a;\n      }\n\n      return {\n        isTruish: isTruish,\n        randomString: randomString,\n        randomNumber: randomNumber,\n        randomBoolean: randomBoolean,\n        arrayUnique: arrayUnique\n      };\n    });\n","'use strict';\n\nangular.module('editorApp')\n    .filter('trustHtml', function ($sce) {\n      return function (text) {\n        return $sce.trustAsHtml(text);\n      };\n    });\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .component('truncate', {\n      template: '<p class=\"text-justify\" ng-bind-html=\"$ctrl.trustedHtml\"></p><a ng-if=\"$ctrl.expandable\" href ng-click=\"$ctrl.toggle()\">{{ $ctrl.toggleText }}</a>',\n      bindings: {\n        content: '<',\n        length: '<'\n      },\n      controller: TruncateController\n    });\n\n  TruncateController.$inject = ['$sce'];\n\n  function TruncateController($sce) {\n    var ctrl = this;\n\n    ctrl.expanded = false;\n    ctrl.expandable = false;\n    ctrl.toggleText = 'Read more';\n    ctrl.$onChanges = $onChanges;\n    ctrl.toggle = toggle;\n    ctrl.expand = expand;\n    ctrl.reduce = reduce;\n\n    function $onChanges(changes) {\n      if (changes.content.currentValue) {\n        ctrl.expanded = true;\n        if (!angular.isNumber(ctrl.length)) {\n          ctrl.length = 200;\n        }\n        ctrl.expandable = ctrl.content.length > ctrl.length;\n        ctrl.toggleText = 'Reduce';\n        reduce();\n      }\n    }\n\n    function reduce() {\n      var modifiedContent = ctrl.content.substr(0, ctrl.length);\n      if (ctrl.expandable) {\n        modifiedContent += '...';\n      }\n      ctrl.expanded = false;\n      ctrl.toggleText = 'Read more';\n      ctrl.trustedHtml = $sce.trustAsHtml(modifiedContent);\n    }\n\n    function expand() {\n      ctrl.expanded = true;\n      ctrl.toggleText = 'Reduce';\n      ctrl.trustedHtml = $sce.trustAsHtml(ctrl.content);\n    }\n\n    function toggle() {\n      if (ctrl.expanded) {\n        reduce();\n      } else {\n        expand();\n      }\n    }\n  }\n})();\n","'use strict';\n\nangular.module('editorApp')\n    .factory('saveFile', function () {\n      return {\n            /**\n             *\n             * @param data data to put into file\n             * @param filename file name without extension (null will use current time in milliseconds)\n             * @param ext file extension starting with a dot (ie. \".json\")\n             * @param type file mimetype (if none given: \"text/plain\")\n             */\n        save: function (data, filename, ext, type) {\n          filename = filename || 'model'+(Math.floor(Math.random() * (1000 - 100)) + 100);\n          ext = ext || '.txt';\n          type = type || 'text/plain';\n\n          var kevsAsBlob = new Blob([data], { type: type });\n\n          var downloadLink = document.createElement('a');\n          downloadLink.download = filename + ext;\n          downloadLink.innerHTML = 'Download File';\n          if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n                    // Chrome allows the link to be clicked\n                    // without actually adding it to the DOM.\n            downloadLink.href = URL.createObjectURL(kevsAsBlob);\n          } else {\n                    // Firefox requires the link to be added to the DOM\n                    // before it can be clicked.\n            downloadLink.href = URL.createObjectURL(kevsAsBlob);\n            downloadLink.onclick = function (e) {\n              document.body.removeChild(e.target);\n            };\n            downloadLink.style.display = 'none';\n            document.body.appendChild(downloadLink);\n          }\n\n          downloadLink.click();\n        }\n      };\n    });\n","'use strict';\n\nangular.module('editorApp').directive('onData', function($parse) {\n  return {\n    restrict: 'A',\n    scope: false,\n    link: function(scope, element, attrs) {\n      var fn = $parse(attrs.onData);\n\n      element.on('change', function(evt) {\n        var reader = new FileReader();\n\n        reader.onload = function(onLoadEvt) {\n          scope.$apply(function() {\n            fn(scope, {\n              $data: onLoadEvt.target.result,\n              $name: evt.target.files[0].name\n            });\n          });\n        };\n\n        try {\n          reader.readAsText(evt.target.files[0]);\n        } catch (ignore) { /* noop */ }\n      });\n\n      element.on('click', function() {\n        this.value = null;\n      });\n    }\n  };\n});\n","'use strict';\n\nangular.module('editorApp')\n  .filter('namingPattern', function (util) {\n    var rInt = new RegExp('\\\\{randomInt(:(\\\\d+):(\\\\d+))?\\\\}', 'g'),\n      rStr = new RegExp('\\\\{randomStr(:(\\\\d+))?\\\\}', 'g');\n\n    return function (text, map) {\n      if (typeof text === 'string') {\n        if (typeof map === 'object') {\n          Object.keys(map).forEach(function (key) {\n            text = text.replace(new RegExp('\\{'+key+'\\}', 'g'), map[key]);\n          });\n        }\n\n        var rIntMatch = rInt.exec(text);\n        var rIntVal = util.randomNumber();\n        if (rIntMatch && rIntMatch[2] && rIntMatch[3]) {\n          rIntVal = util.randomNumber(parseInt(rIntMatch[2]), parseInt(rIntMatch[3]));\n        }\n        var rStrMatch = rStr.exec(text);\n        var rStrVal = util.randomString();\n        if (rStrMatch && rStrMatch[2]) {\n          rStrVal = util.randomString(parseInt(rStrMatch[2]));\n        }\n        return text.replace(rInt, rIntVal)\n                   .replace(rStr, rStrVal);\n      } else {\n        throw new Error('namingPattern filter must be applied on string only.');\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('kModelHelper', function (kFactory, KWE_POSITION, KWE_TAG, KWE_SELECTED, KWE_FOLDED) {\n    function genNewName(instance, type, count) {\n      if (typeof count === 'undefined') {\n        count = 0;\n      }\n      var newName = instance.name + '_' + count;\n      var conflictInst;\n      switch (type) {\n        case 'node':\n          conflictInst = instance.eContainer().findNodesByID(newName);\n          if (conflictInst) {\n            newName = genNewName(instance, type, ++count);\n          }\n          break;\n\n        case 'group':\n          conflictInst = instance.eContainer().findGroupsByID(newName);\n          if (conflictInst) {\n            newName = genNewName(instance, type, ++count);\n          }\n          break;\n\n        case 'channel':\n          conflictInst = instance.eContainer().findHubsByID(newName);\n          if (conflictInst) {\n            newName = genNewName(instance, type, ++count);\n          }\n          break;\n\n        case 'component':\n          conflictInst = instance.eContainer().findComponentsByID(newName);\n          if (conflictInst) {\n            newName = genNewName(instance, type, ++count);\n          }\n          break;\n      }\n      return newName;\n    }\n\n    return {\n      /**\n       *\n       * @param pkg\n       * @returns {*}\n       */\n      genPkgName: function (pkg) {\n        var name = pkg.name;\n\n        function walk(elem) {\n          if (elem.eContainer()) {\n            name = elem.name + '.' + name;\n            walk(elem.eContainer());\n          }\n        }\n        walk(pkg.eContainer());\n        return name;\n      },\n\n      getFqn: function (tdef) {\n        var pkg = this.genPkgName(tdef.eContainer());\n        if (pkg === 'org.kevoree.library') {\n          pkg = '';\n        } else {\n          pkg += '.';\n        }\n        return pkg + tdef.name + '/' + tdef.version;\n      },\n\n      /**\n       *\n       * @param tdef\n       * @returns {*}\n       */\n      getTypeDefinitionType: function (tdef) {\n        if (tdef) {\n          switch (tdef.metaClassName()) {\n            case 'org.kevoree.NodeType':\n              return 'node';\n\n            case 'org.kevoree.GroupType':\n              return 'group';\n\n            case 'org.kevoree.ComponentType':\n              return 'component';\n\n            case 'org.kevoree.ChannelType':\n              return 'channel';\n          }\n        }\n        return null;\n      },\n\n      /**\n       *\n       * @param tdefs\n       * @returns {*}\n       */\n      findBestVersion: function (tdefs) {\n        var best = tdefs[0];\n        for (var i=1; i < tdefs.length; i++) {\n          if (parseInt(best.version, 10) <= parseInt(tdefs[i].version, 10)) {\n            best = tdefs[i];\n          }\n        }\n        return best;\n      },\n\n      /**\n       *\n       * @param tdef\n       * @returns {Array}\n       */\n      getPlatforms: function (tdef) {\n        var platforms = [];\n\n        if (tdef) {\n          tdef.deployUnits.array.forEach(function (du) {\n            var platform = du.findFiltersByID('platform');\n            if (platform && platforms.indexOf(platform.value) === -1) {\n              platforms.push(platform.value);\n            }\n          });\n        }\n\n        return platforms;\n      },\n\n      /**\n       * Returns the list of KWE_TAG from the instance if any\n       * @param instance\n       * @returns {array}\n       */\n      getTags: function (instance) {\n        var tags = [];\n        var meta = instance.findMetaDataByID(KWE_TAG);\n        if (meta && meta.value.length > 0) {\n          tags = meta.value.split(',');\n        }\n        return tags;\n      },\n\n      /**\n       *\n       * @param node\n       * @returns {number}\n       */\n      getNodeTreeHeight: function getNodeTreeHeight(node) {\n        if (node.hosts.size() === 0) {\n          return 0;\n        }\n\n        var heights = node.hosts.array.map(getNodeTreeHeight);\n        var max = 0;\n        heights.forEach(function (height) {\n          if (height > max) {\n            max = height;\n          }\n        });\n        return max + 1;\n      },\n\n      /**\n       * Returns all the node types of the given model\n       */\n      getNodeTypes: function (model) {\n        return model.select('**/typeDefinitions[*]').array.filter(function (tdef) {\n          return tdef.metaClassName() === 'org.kevoree.NodeType';\n        });\n      },\n\n      /**\n       * Returns all the group types of the given model\n       */\n      getGroupTypes: function (model) {\n        return model.select('**/typeDefinitions[*]').array.filter(function (tdef) {\n          return tdef.metaClassName() === 'org.kevoree.GroupType';\n        });\n      },\n\n      /**\n       * Returns all the component types of the given model\n       */\n      getComponentTypes: function (model) {\n        return model.select('**/typeDefinitions[*]').array.filter(function (tdef) {\n          return tdef.metaClassName() === 'org.kevoree.ComponentType';\n        });\n      },\n\n      /**\n       * Returns all the channel types of the given model\n       */\n      getChannelTypes: function (model) {\n        return model.select('**/typeDefinitions[*]').array.filter(function (tdef) {\n          return tdef.metaClassName() === 'org.kevoree.ChannelType';\n        });\n      },\n\n      /**\n       *\n       * @param nodes\n       * @returns {Array}\n       */\n      getNodeTreeHeights: function (nodes) {\n        var heights = [];\n        nodes.forEach(function (node) {\n          var height = this.getNodeTreeHeight(node);\n          if (heights.indexOf(height) === -1) {\n            heights.push(height);\n          }\n        }.bind(this));\n        return heights;\n      },\n\n      /**\n       *\n       * @param comp\n       * @returns {number}\n       */\n      getCompDepth: function (comp) {\n        var depth = 0;\n\n        function walk(node) {\n          if (node.host) {\n            depth += 1;\n            walk(node.host);\n          }\n        }\n        walk(comp.eContainer());\n\n        return depth;\n      },\n\n      getNbInstances: function (model) {\n        return this.getNbNodes(model) +\n          this.getNbGroups(model) +\n          this.getNbChannels(model) +\n          this.getNbComponents(model);\n      },\n\n      getNbNodes: function (model) {\n        return model.nodes.array.length;\n      },\n\n      getNbGroups: function (model) {\n        return model.groups.array.length;\n      },\n\n      getNbChannels: function (model) {\n        return model.hubs.array.length;\n      },\n\n      getNbComponents: function (model) {\n        var count = 0;\n        model.nodes.array.forEach(function (node) {\n          count += node.components.array.length;\n        });\n        return count;\n      },\n\n      /**\n       * Returns the highest node instance containing this component or node\n       * @param instance ContainerNode\n       */\n      getHighestNode: function (instance) {\n        switch (instance.getRefInParent()) {\n          case 'components':\n            return this.getHighestNode(instance.eContainer());\n\n          case 'hosts':\n            return this.getHighestNode(instance.host);\n\n          case 'nodes':\n            if (instance.host) {\n              return this.getHighestNode(instance.host);\n            } else {\n              return instance;\n            }\n        }\n      },\n\n      /**\n       * Checks if tdefSrc is compatible with this node instance\n       * @param tdef\n       * @param node\n       */\n      isCompatible: function (tdef, node) {\n        if (tdef && node) {\n          if (tdef.select('metaData[name=virtual]').array.length > 0) {\n            // tdef is virtual, so it is compatible\n            return true;\n\n          } else {\n            var nodePlatforms = [];\n            node.typeDefinition.deployUnits.array\n              .forEach(function (du) {\n                var filter = du.findFiltersByID('platform');\n                if (filter) {\n                  nodePlatforms.push(filter.value);\n                }\n              });\n\n            for (var i = 0; i < nodePlatforms.length; i++) {\n              if (tdef.select('deployUnits[name=*]/filters[name=platform,value=' + nodePlatforms[i] + ']').array.length > 0) {\n                return true;\n              }\n            }\n          }\n        }\n        return false;\n      },\n\n      /**\n       * Tells whether or not a binding is already made between this port and chan\n       * @param port\n       * @param chan\n       * @returns {boolean}\n       */\n      isAlreadyBound: function (port, chan) {\n        var bound = false;\n        if (port) {\n          for (var i = 0; i < port.bindings.array.length; i++) {\n            if (port.bindings.array[i].hub && (port.bindings.array[i].hub.path() === chan.path())) {\n              return true;\n            }\n          }\n        }\n        return bound;\n      },\n\n      /**\n       * Returns true if the given value is truish (means that it is close to say \"true\")\n       * @param val\n       * @returns {boolean}\n       */\n      isTruish: function (val) {\n        return (val === true || val === 'true' || val > 0);\n      },\n\n      /**\n       * Returns true if the given instance dictionaries are valid\n       * @param instance\n       * @returns {boolean}\n       */\n      isValid: function (instance) {\n        if (instance.typeDefinition &&\n          instance.typeDefinition.dictionaryType &&\n          instance.typeDefinition.dictionaryType.attributes.array.length > 0) {\n          if (instance.dictionary &&\n            instance.dictionary.values.array.length > 0) {\n            for (var i = 0; i < instance.dictionary.values.array.length; i++) {\n              var val = instance.dictionary.values.array[i];\n              var attr = instance.typeDefinition.dictionaryType.findAttributesByID(val.name);\n              if (!this.isValueValid(val, attr)) {\n                return false;\n              }\n            }\n          } else {\n            for (var j = 0; j < instance.typeDefinition.dictionaryType.attributes.array.length; j++) {\n              if (!this.isTruish(instance.typeDefinition.dictionaryType.attributes.array[j].optional)) {\n                return false;\n              }\n            }\n          }\n        }\n\n        return true;\n      },\n\n      /**\n       *\n       *\n       */\n      isValueValid: function (val, attr) {\n        if (!this.isTruish(attr.optional)) {\n          if (typeof val.value === 'undefined' || val.value === null || val.value.length === 0) {\n            return false;\n          }\n        }\n        return true;\n      },\n\n      isVirtual: function (elem) {\n        if (elem) {\n          if (elem.metaClassName() === 'org.kevoree.ComponentInstance' ||\n              elem.metaClassName() === 'org.kevoree.ContainerNode' ||\n              elem.metaClassName() === 'org.kevoree.Group' ||\n              elem.metaClassName() === 'org.kevoree.Channel') {\n            return this.isVirtual(elem.typeDefinition);\n          } else if (elem.metaClassName() === 'org.kevoree.ComponentType' ||\n              elem.metaClassName() === 'org.kevoree.NodeType' ||\n              elem.metaClassName() === 'org.kevoree.GroupType' ||\n              elem.metaClassName() === 'org.kevoree.ChannelType') {\n            var virtual = elem.findMetaDataByID('virtual');\n            return virtual !== null;\n          } else if (elem.metaClassName() === 'org.kevoree.MBinding') {\n            if (elem.hub) {\n              return this.isVirtual(elem.hub.typeDefinition);\n            }\n          }\n        }\n        return false;\n      },\n\n      /**\n       * @param channel instance\n       * @returns false if channel is only fragmented on one node\n       */\n      isChannelDistributed: function (channel) {\n        var nodes = {};\n\n        channel.bindings.array.forEach(function (binding) {\n          if (binding.port && binding.port.eContainer()) {\n            var comp = binding.port.eContainer();\n            var node = this.getHighestNode(comp);\n            nodes[node.path()] = true;\n          }\n        }.bind(this));\n\n        return Object.keys(nodes).length > 1;\n      },\n\n      isSelected: function (instance) {\n        if (instance && instance.findMetaDataByID) {\n          var meta = instance.findMetaDataByID(KWE_SELECTED);\n          if (meta) {\n            return this.isTruish(meta.value);\n          }\n        }\n        return false;\n      },\n\n      isFolded: function (instance) {\n        if (instance && instance.findMetaDataByID) {\n          var meta = instance.findMetaDataByID(KWE_FOLDED);\n          if (meta) {\n            return this.isTruish(meta.value);\n          }\n        }\n        return false;\n      },\n\n      setSelected: function (instance, selected) {\n        if (instance && instance.findMetaDataByID) {\n          var meta = instance.findMetaDataByID(KWE_SELECTED);\n          if (!meta) {\n            meta = kFactory.createValue();\n            meta.name = KWE_SELECTED;\n            instance.addMetaData(meta);\n          }\n          meta.value = selected;\n        }\n      },\n\n      setFolded: function (instance, folded) {\n        if (instance) {\n          var meta = instance.findMetaDataByID(KWE_FOLDED);\n          if (!meta) {\n            meta = kFactory.createValue();\n            meta.name = KWE_FOLDED;\n            instance.addMetaData(meta);\n          }\n          meta.value = folded;\n        }\n      },\n\n      isAttributeInType: function (instance, attrName, isFragment) {\n        if (instance.typeDefinition.dictionaryType) {\n          var attr = instance.typeDefinition.dictionaryType.findAttributesByID(attrName);\n          return attr && (attr.fragmentDependant === isFragment);\n        }\n        return false;\n      },\n\n      getSelection: function (model) {\n        return model.select('**/metaData[name=' + KWE_SELECTED + ',value=true]').array.map(function (meta) {\n          return meta.eContainer();\n        });\n      },\n\n      /**\n       *\n       * @param fqn\n       * @returns {string}\n       */\n      fqnToPath: function (fqn) {\n        // check for version\n        fqn = fqn.split('/');\n        var vers;\n        if (fqn.length === 2) {\n          vers = fqn.pop();\n        }\n\n        fqn = fqn[0].split('.');\n        var last = fqn.pop();\n        if (fqn.length === 0) {\n          fqn = 'packages[name=' + last;\n        } else {\n          fqn = 'packages[' + fqn.join(']/packages[') + ']/*[name=' + last;\n        }\n\n        if (vers) {\n          fqn += ',version=' + vers;\n        }\n\n        fqn += ']';\n\n        return fqn;\n      },\n\n      /**\n       *\n       * @param fqn\n       * @returns {string}\n       */\n      pkgFqnToPath: function (fqn) {\n        fqn = fqn.split('.');\n        var last = fqn.pop();\n        if (fqn.length === 0) {\n          return 'packages[' + last + ']';\n        } else {\n          return 'packages[' + fqn.join(']/packages[') + ']/packages[' + last + ']';\n        }\n      },\n\n      /**\n       *\n       * @param instance the instance to clone\n       */\n      clone: function (instance) {\n        var that = this;\n\n        function initClone(clone) {\n          clone.started = instance.started;\n          var instancePosMeta = instance.findMetaDataByID(KWE_POSITION);\n          if (instancePosMeta) {\n            var instancePos = JSON.parse(instancePosMeta.value);\n            var pos = kFactory.createValue();\n            pos.name = KWE_POSITION;\n            pos.value = JSON.stringify({\n              x: instancePos.x + 50,\n              y: instancePos.y + 50\n            });\n            clone.addMetaData(pos);\n          }\n\n          clone.dictionary = that.cloneDictionary(instance.dictionary);\n        }\n\n        var clone;\n        switch (this.getTypeDefinitionType(instance.typeDefinition)) {\n          case 'node':\n            clone = kFactory.createContainerNode();\n            initClone(clone);\n            clone.typeDefinition = instance.eContainer().findByPath(instance.typeDefinition.path());\n            clone.name = genNewName(instance, 'node');\n            instance.components.array.forEach(function (comp) {\n              clone.addComponents(that.clone(comp));\n            });\n            instance.hosts.array.forEach(function (subNode) {\n              var clonedNode = that.clone(subNode);\n              instance.eContainer().addNodes(clonedNode);\n              clone.addHosts(clonedNode);\n            });\n            break;\n\n          case 'group':\n            clone = kFactory.createGroup();\n            initClone(clone);\n            clone.typeDefinition = instance.eContainer().findByPath(instance.typeDefinition.path());\n            clone.name = genNewName(instance, 'group');\n            break;\n\n          case 'channel':\n            clone = kFactory.createChannel();\n            initClone(clone);\n            clone.typeDefinition = instance.eContainer().findByPath(instance.typeDefinition.path());\n            clone.name = genNewName(instance, 'channel');\n            break;\n\n          case 'component':\n            clone = kFactory.createComponentInstance();\n            initClone(clone);\n            clone.typeDefinition = instance.eContainer().eContainer().findByPath(instance.typeDefinition.path());\n            clone.name = genNewName(instance, 'component');\n            break;\n        }\n\n        return clone;\n      },\n\n      /**\n       * @param dic a dictionary\n       */\n      cloneDictionary: function (dic) {\n        var clone = kFactory.createDictionary().withGenerated_KMF_ID('0.0');\n        if (dic) {\n          dic.values.array.forEach(function (val) {\n            var newVal = kFactory.createValue();\n            newVal.name = val.name;\n            newVal.value = val.value;\n            clone.addValues(newVal);\n          });\n        }\n        return clone;\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n\t.filter('isCompatible', function (kModelHelper, kEditor) {\n  return function (items, type, nodeName) {\n    if (type === 'component') {\n      return items.filter(function (item) {\n        if (item && item.tdef && nodeName) {\n          var isCompatible = kModelHelper.isCompatible(item.tdef, kEditor.getModel().findNodesByID(nodeName));\n          return isCompatible;\n        } else {\n          return false;\n        }\n      });\n    } else {\n      return items;\n    }\n  };\n});\n","'use strict';\n\nangular.module('editorApp')\n  .directive('hljs', function () {\n    return {\n      restrict: 'AE',\n      scope: { content: '=' },\n      link: function(scope, element) {\n        // element.addClass('hljs');\n        // element[0].innerHTML = scope.content;\n        hljs.highlightBlock(element[0]);\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .directive('focus', function ($timeout) {\n    return {\n      restrict: 'A',\n      link: function (scope, elem, attrs) {\n        scope.$watch(attrs.focus, function (value) {\n          var delay, show;\n          if (angular.isNumber(value)) {\n            delay = value;\n            show = true;\n          } else {\n            delay = 0;\n            show = Boolean(value);\n          }\n          if (show) {\n            $timeout(function () {\n              elem[0].focus();\n              if (typeof elem[0].select === 'function') {\n                elem[0].select();\n              }\n            }, delay);\n          }\n        });\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .directive('dropTarget', function ($parse) {\n    var DND_CLASS = 'dnd-overlay';\n\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function (scope, element, attrs) {\n        var tid;\n        var fn = $parse(attrs.dropTarget);\n        var elem = jQuery(element[0]);\n        var overlay = jQuery('<div class=\"'+DND_CLASS+'\" style=\"display: none;\"><p class=\"center-message\">Drop to load the model</p></div>');\n\n        elem.append(overlay);\n\n        elem.on('dragleave', dragLeaveHandler);\n        elem.on('dragover', dragOverHandler);\n        elem.on('drop', dropHandler);\n\n        scope.$on('$destroy', function() {\n          elem.off('dragleave', dragLeaveHandler);\n          elem.off('dragover', dragOverHandler);\n          elem.off('drop', dropHandler);\n        });\n\n        function dropHandler(event) {\n          var dataTransfer = event.originalEvent.dataTransfer;\n          if (dataTransfer) {\n            if (dataTransfer.files.length) {\n              var file = dataTransfer.files[0];\n              var reader = new FileReader();\n\n              reader.onloadend = function (event) {\n                scope.$apply(function () {\n                  fn(scope, {\n                    $event: event,\n                    $data: event.target.result,\n                    $name: file.name\n                  });\n                });\n              };\n\n              reader.readAsText(file);\n            }\n          }\n\n          event.stopPropagation();\n          event.preventDefault();\n          overlay.hide();\n        }\n\n        function dragOverHandler(event) {\n          clearTimeout(tid);\n          event.stopPropagation();\n          event.preventDefault();\n          overlay.show();\n        }\n\n        function dragLeaveHandler(event) {\n          tid = setTimeout(function () {\n            event.stopPropagation();\n            overlay.hide();\n          }, 200);\n        }\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .filter('camelize', function () {\n    return function (text) {\n      if (typeof text === 'string') {\n        return text.replace(/(?:^|[-_])(\\w)/g, function (_, c) {\n          return c ? c.toUpperCase () : '';\n        });\n      } else {\n        throw new Error('Camelize filter must be used on string only');\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .directive('fileread', [function () {\n    return {\n      controller: function ($scope, $element, $attrs) {\n        $element.bind('change', function (event) {\n          var reader = new FileReader();\n          reader.onload = function (loadEvent) {\n            $scope.fileread = loadEvent.target.result;\n            $scope.$eval($attrs.onfileread);\n          };\n          reader.readAsBinaryString(event.target.files[0]);\n        });\n      }\n    };\n  }]);\n","'use strict';\n\nangular.module('editorApp')\n\t.service('storage', function () {\n  return {\n    get: function (key, defaultVal) {\n      var val = localStorage.getItem(key);\n      if (val) {\n        return JSON.parse(val).val;\n      } else {\n        return defaultVal;\n      }\n    },\n    set: function (key, val) {\n      localStorage.setItem(key, JSON.stringify({\n        val: val\n      }));\n    },\n    remove: function (key) {\n      localStorage.removeItem(key);\n    },\n    clear: function () {\n      localStorage.clear();\n    },\n    keys: function () {\n      var keys = [];\n      for (var i = 0, len = localStorage.length; i < len; ++i) {\n        keys.push(localStorage.key(i));\n      }\n      return keys;\n    }\n  };\n});\n","'use strict';\n\nangular.module('editorApp').service('kWs', function (kFactory) {\n  function cleanPath(path) {\n    if (!path) {\n      path = '/';\n    } else {\n      if (path.substr(0, 1) !== '/') {\n        path = '/' + path;\n      }\n    }\n    return path;\n  }\n\n  return {\n\n    /**\n     *\n     * @param host\n     * @param port\n     * @param path\n     * @param callback\n     * @returns {WebSocket}\n     */\n    getModel: function (host, port, path, callback) {\n      var answer = false,\n        failed = false,\n        ws = null,\n        timeout = setTimeout(function () {\n          answer = true;\n          failed = true;\n          try {\n            ws.close();\n          } catch (err) { /* ignore */ }\n          var err = new Error('Connection with ws://' + host + ':' + port + path + ' timed out');\n          callback(err, null, 'ws://' + host + ':' + port + path);\n        }, 5000);\n      path = cleanPath(path);\n\n      try {\n        ws = new WebSocket('ws://' + host + ':' + port + path);\n\n        ws.onopen = function () {\n          clearTimeout(timeout);\n          ws.send('pull');\n        };\n\n        ws.onmessage = function (msg) {\n          try {\n            var loader = kFactory.createJSONLoader();\n            var model = loader.loadModelFromString(msg.data).get(0);\n            answer = true;\n            ws.close();\n            setTimeout(function () {\n              // prevent try/catch to catch an error in callback\n              callback(null, model, 'ws://' + host + ':' + port + path);\n            });\n          } catch (err) {\n            clearTimeout(timeout);\n            console.warn('[ws.factory.getModel()] Error parsing model from message:'); // eslint-disable-line\n            console.warn('[ws.factory.getModel()] msg.data=' + msg.data); // eslint-disable-line\n            answer = true;\n            ws.close();\n            callback(new Error('Unable to load received model from ws://' + host + ':' + port + path), null, 'ws://' + host + ':' + port + path);\n          }\n        };\n\n        ws.onerror = function (err) {\n          failed = true;\n          err = new Error('Unable to connect to ws://' + host + ':' + port + path);\n          clearTimeout(timeout);\n          callback(err, null, 'ws://' + host + ':' + port + path);\n        };\n\n        ws.onclose = function () {\n          if (!answer && !failed) {\n            clearTimeout(timeout);\n            var err = new Error('Connection with ws://' + host + ':' + port + path + ' closed');\n            callback(err, null, 'ws://' + host + ':' + port + path);\n          }\n        };\n      } catch (err) {\n        clearTimeout(timeout);\n        callback(new Error('Unable to load received model from ws://' + host + ':' + port + path), null, 'ws://' + host + ':' + port + path);\n      }\n\n      return ws;\n    },\n\n    /**\n     *\n     * @param model\n     * @param host\n     * @param port\n     * @param path\n     * @param callback\n     * @returns {WebSocket|null}\n     */\n    pushModel: function (model, host, port, path, callback) {\n      var modelStr,\n        sent = false,\n        failed = false,\n        ws = null,\n        timeout = setTimeout(function () {\n          sent = true;\n          failed = true;\n          try {\n            ws.close();\n          } catch (err) { /* ignore */ }\n          var err = new Error('Connection with ws://' + host + ':' + port + path + ' timed out');\n          callback(err, null, 'ws://' + host + ':' + port + path);\n        }, 5000);\n\n      try {\n        var serializer = kFactory.createJSONSerializer();\n        modelStr = serializer.serialize(model);\n      } catch (err) {\n        var error = new Error('Unable to serialize current model');\n        callback(error);\n        return null;\n      }\n\n      if (modelStr) {\n        path = cleanPath(path);\n\n        ws = new WebSocket('ws://' + host + ':' + port + path);\n\n        ws.onopen = function () {\n          clearTimeout(timeout);\n          ws.send('push/' + modelStr);\n          sent = true;\n          ws.close();\n          callback();\n        };\n\n        ws.onerror = function (err) {\n          failed = true;\n          err = new Error('Unable to connect to ws://' + host + ':' + port + path);\n          clearTimeout(timeout);\n          callback(err);\n        };\n\n        ws.onclose = function () {\n          if (!sent && !failed) {\n            clearTimeout(timeout);\n            var err = new Error('Connection with ws://' + host + ':' + port + path + ' closed');\n            callback(err, null, 'ws://' + host + ':' + port + path);\n          }\n        };\n      }\n\n      return ws;\n    }\n  };\n});\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiUtils', function (kModelHelper, NODE_HEIGHT, NODE_WIDTH, COMP_HEIGHT, CHANNEL_RADIUS, GROUP_RADIUS) {\n    /**\n     *\n     * @param node\n     * @returns {number}\n     */\n    function getNodeUIHeight(node) {\n      var height = NODE_HEIGHT; // minimum node height\n\n      node.components.array.forEach(function (comp) {\n        height += getCompUIHeight(comp) + 10;\n      });\n\n      node.hosts.array.forEach(function (child) {\n        height += getNodeUIHeight(child) + 10;\n      });\n\n      return height;\n    }\n\n    function getCompUIHeight(comp) {\n      if (comp.typeDefinition.provided.size() === 0 && comp.typeDefinition.required.size() === 0) {\n        return COMP_HEIGHT;\n      } else if (comp.typeDefinition.provided.size() > comp.typeDefinition.required.size()) {\n        return COMP_HEIGHT * comp.typeDefinition.provided.size();\n      } else {\n        return COMP_HEIGHT * comp.typeDefinition.required.size();\n      }\n    }\n\n    /**\n     * Returns the highest node path regarding the given SVG element (supposed to be a .node or a .comp)\n     * @param elem\n     */\n    function getHighestNodePath(elem) {\n      if (elem.parent().hasClass('instance')) {\n        return getHighestNodePath(elem.parent());\n      } else {\n        return elem.attr('data-path');\n      }\n    }\n\n    function getAbsoluteBBox(elem) {\n      var bbox = elem.getBBox();\n\n      function walkUp(elem) {\n        if (elem.parent() && elem.parent().hasClass('instance')) {\n          var parentBox = elem.parent().getBBox();\n          bbox.x += parentBox.x;\n          bbox.y += parentBox.y;\n          walkUp(elem.parent());\n        }\n      }\n      walkUp(elem);\n      return bbox;\n    }\n\n    /**\n     *\n     * @param elem\n     * @param x\n     * @param y\n     * @param m transform matrix (translations & zoom of the editor panel)\n     */\n    function isPointInsideElem(elem, x, y, m) {\n      var bbox = getAbsoluteBBox(elem);\n      bbox.x = (bbox.x * m.a) + m.e;\n      bbox.y = (bbox.y * m.a) + m.f;\n      bbox.width *= m.a;\n      bbox.height *= m.a;\n      return x >= bbox.x &&\n        x <= bbox.x + bbox.width &&\n        y >= bbox.y &&\n        y <= bbox.y + bbox.height;\n    }\n\n    /**\n     * @param x\n     * @param y\n     * @returns { x, y } points within the editor context (equivalent to Chrome's offsetX offsetY)\n     */\n    function getPointInEditor(x, y) {\n      var offset = jQuery('svg#editor').offset();\n      return { x: x - offset.left, y: y - offset.top };\n    }\n\n    function computeWireNodeAnchor(from, to, width, height) {\n      function getHorizontalAlignment() {\n        if (from.x >= to.x + width / 3 && from.x <= to.x + (width / 3) * 2) {\n          return 'middle';\n\n\n        } else if (from.x > to.x + (width / 3) * 2) {\n          return 'right';\n\n        } else {\n          return 'left';\n        }\n      }\n\n      function getVerticalAlignment() {\n        if (from.y >= to.y + height / 3 && from.y <= to.y + (height / 3) * 2) {\n          return 'middle';\n\n        } else if (from.y > to.y + (height / 3) * 2) {\n          return 'bottom';\n\n        } else {\n          return 'top';\n        }\n      }\n\n      var alignment = getVerticalAlignment() + '-' + getHorizontalAlignment();\n      switch (alignment) {\n        default:\n        case 'top-left':\n          return {\n            x: to.x + 2,\n            y: to.y + 2\n          };\n\n        case 'top-middle':\n          return {\n            x: to.x + width / 2,\n            y: to.y\n          };\n\n        case 'top-right':\n          return {\n            x: to.x + width - 2,\n            y: to.y + 2\n          };\n\n        case 'middle-left':\n          return {\n            x: to.x,\n            y: to.y + height / 2\n          };\n\n        case 'middle-right':\n          return {\n            x: to.x + width,\n            y: to.y + height / 2\n          };\n\n        case 'bottom-left':\n          return {\n            x: to.x + 2,\n            y: to.y + height - 2\n          };\n\n        case 'bottom-middle':\n          return {\n            x: to.x + width / 2,\n            y: to.y + height\n          };\n\n        case 'bottom-right':\n          return {\n            x: to.x + width - 2,\n            y: to.y + height - 2\n          };\n      }\n    }\n\n    function computeBindingCoords(portElem, chanElem) {\n      var chanM = chanElem.transform().localMatrix,\n        chan = {\n          x: chanM.e,\n          y: chanM.f\n        },\n        compBox = getAbsoluteBBox(portElem.parent()),\n        portM = portElem.transform().localMatrix,\n        port = {\n          x: compBox.x + portM.e + 2,\n          y: compBox.y + portM.f + COMP_HEIGHT - 5\n        },\n        middle = {\n          x: 0,\n          y: 0\n        };\n\n      if (port.x > chan.x) {\n        middle.x = chan.x + (port.x - chan.x) / 2;\n      } else {\n        middle.x = port.x + (chan.x - port.x) / 2;\n      }\n\n      middle.y = ((port.y >= chan.y) ? port.y : chan.y) + 20;\n\n      return {\n        chan: chan,\n        port: port,\n        middle: middle\n      };\n    }\n\n    /**\n     *\n     * @param model\n     */\n    function updateSVGDefs(model) {\n      var editor = document.getElementById('editor');\n      if (editor) {\n        var defs = editor.getElementsByTagName('defs')[0];\n        var clipPath;\n        if (!document.getElementById('group-clip')) {\n          clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n          clipPath.id = 'group-clip';\n          var grpCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n          grpCircle.setAttribute('cx', 0 + '');\n          grpCircle.setAttribute('cy', 0 + '');\n          grpCircle.setAttribute('r', (GROUP_RADIUS - 4) + '');\n          clipPath.appendChild(grpCircle);\n          defs.appendChild(clipPath);\n        }\n\n        if (!document.getElementById('chan-clip')) {\n          clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n          clipPath.id = 'chan-clip';\n          var chanCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n          chanCircle.setAttribute('cx', 0 + '');\n          chanCircle.setAttribute('cy', 0 + '');\n          chanCircle.setAttribute('r', (CHANNEL_RADIUS - 4) + '');\n          clipPath.appendChild(chanCircle);\n          defs.appendChild(clipPath);\n        }\n\n        var nodeTreeHeights = kModelHelper.getNodeTreeHeights(model.nodes.array);\n        nodeTreeHeights.forEach(function (height) {\n          if (!document.getElementById('node-clip-' + height)) {\n            var nodeClip = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n            nodeClip.id = 'node-clip-' + height;\n            var nodeRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n            nodeRect.setAttribute('width', (NODE_WIDTH + (20 * height) - 5) + '');\n            nodeRect.setAttribute('height', '100%');\n            nodeRect.setAttribute('x', 2 + '');\n            nodeRect.setAttribute('y', 0 + '');\n            nodeClip.appendChild(nodeRect);\n            defs.appendChild(nodeClip);\n          }\n\n          if (!document.getElementById('comp-clip-' + height)) {\n            var compClip = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n            compClip.id = 'comp-clip-' + height;\n            var compRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n            compRect.setAttribute('width', (NODE_WIDTH + (20 * height) - 60) + '');\n            compRect.setAttribute('height', '100%');\n            compRect.setAttribute('x', 20 + '');\n            compRect.setAttribute('y', 0 + '');\n            compClip.appendChild(compRect);\n            defs.appendChild(compClip);\n          }\n        });\n      }\n    }\n\n    return {\n      getAbsoluteBBox: getAbsoluteBBox,\n      getNodeUIHeight: getNodeUIHeight,\n      getCompUIHeight: getCompUIHeight,\n      getHighestNodePath: getHighestNodePath,\n      isPointInsideElem: isPointInsideElem,\n      computeWireNodeAnchor: computeWireNodeAnchor,\n      computeBindingCoords: computeBindingCoords,\n      updateSVGDefs: updateSVGDefs,\n      getPointInEditor: getPointInEditor\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('ui', function (util, uiUtils, uiCreateGroup, uiCreateGroupWire, uiCreateNode, uiCreateComponent, uiCreateBinding, uiCreateChannel, kModelHelper, kFactory, Notification, KWE_POSITION, NODE_WIDTH, NODE_HEIGHT, INVALID_RADIUS, GROUP_RADIUS, CHANNEL_RADIUS) {\n\n    var ui = {\n      /**\n       * Current editor model\n       */\n      model: null,\n\n      /**\n       * Overed instance (node)\n       */\n      overedInstancePath: null,\n\n      /**\n       * Dragged instance path\n       */\n      draggedInstancePath: null,\n\n      /**\n       * Mouse position holder\n       */\n      mousePos: {\n        x: 0,\n        y: 0\n      },\n\n      /**\n       * Must be called before any other methods\n       */\n      init: function () {\n        var editor = new Snap('svg#editor');\n        editor.zpd({\n          zoomThreshold: [0.2, 1],\n          zoomScale: 0.05\n        });\n        var zpdEditor = this.editor = editor.select('#snapsvg-zpd-' + editor.id);\n        zpdEditor.addClass('zpd');\n        editor.mousedown(function (evt) {\n          if (evt.which === 1) {\n            // remove all selected state\n            editor.selectAll('.selected')\n              .forEach(function (elem) {\n                elem.removeClass('selected');\n                var path = elem.parent().attr('data-path');\n                if (path && path.length > 0) {\n                  var instance = ui.model.findByPath(path);\n                  kModelHelper.setSelected(instance, false);\n                }\n              });\n          }\n        });\n        uiUtils.updateSVGDefs(this.model);\n\n        // create an observer instance\n        var observer = new MutationObserver(function (mutations) {\n          mutations.forEach(function (mutation) {\n            if (mutation.attributeName === 'transform') {\n              var matrix = zpdEditor.transform()\n                .localMatrix;\n              editor\n                .select('#coord-text')\n                .attr({\n                  text: '(' + parseInt(matrix.e, 10) + ', ' + parseInt(matrix.f, 10) + ') ' + parseInt(matrix.a * 100, 10) + '%'\n                });\n            }\n          });\n        });\n\n        // pass in the target node, as well as the observer options\n        observer.observe(zpdEditor.node, {\n          attributes: true,\n          childList: false,\n          characterData: false\n        });\n\n        editor.dblclick(function () {\n          zpdEditor.animate({\n            transform: 's1,t0,0'\n          }, 400, mina.ease);\n        });\n\n        editor\n          .text('100%', '100%', '(0, 0) 100%')\n          .attr({\n            id: 'coord-text',\n            fill: '#000',\n            textAnchor: 'end'\n          })\n          .transform('t-5,-5');\n      },\n\n      createGroup: function (instance) {\n        uiCreateGroup(this, instance);\n      },\n\n      createGroupWire: function (group, node) {\n        uiCreateGroupWire(this, group, node);\n      },\n\n      createNode: function (instance) {\n        uiCreateNode(this, instance);\n      },\n\n      createComponent: function (instance) {\n        return uiCreateComponent(this, instance);\n      },\n\n      createBinding: function (instance) {\n        uiCreateBinding(this, instance);\n      },\n\n      createChannel: function (instance) {\n        uiCreateChannel(this, instance);\n      },\n\n      updateValidity: function (instance) {\n        if (this.editor) {\n          var elem = this.editor.select('.instance[data-path=\"' + instance.path() + '\"]');\n          var icon = this.editor.select('.instance[data-path=\"' + instance.path() + '\"] > .invalid-icon');\n          if (kModelHelper.isValid(instance)) {\n            if (icon) {\n              icon.remove();\n            }\n          } else {\n            if (icon) {\n              icon.remove();\n            }\n            icon = this.editor\n              .circle(0, 0, INVALID_RADIUS)\n              .attr({\n                'class': 'invalid-icon',\n                fill: 'red',\n                stroke: 'black',\n                title: 'Invalid dictionary attributes'\n              });\n            var matrix = icon.transform()\n              .localMatrix;\n            switch (kModelHelper.getTypeDefinitionType(instance.typeDefinition)) {\n              case 'node':\n                matrix.e = elem.getBBox()\n                  .width - (INVALID_RADIUS * 2);\n                matrix.f = INVALID_RADIUS * 2;\n                break;\n\n              case 'group':\n                matrix.f = -GROUP_RADIUS + (INVALID_RADIUS * 2);\n                break;\n\n              case 'channel':\n                matrix.f = -CHANNEL_RADIUS + (INVALID_RADIUS * 2);\n                break;\n\n              case 'component':\n                matrix.e = elem.getBBox()\n                  .width;\n                break;\n            }\n            icon.transform(matrix);\n            elem.append(icon);\n          }\n        }\n      },\n\n      deleteInstance: function (parent, path) {\n        var elem = this.editor.select('.instance[data-path=\"' + path + '\"]');\n        if (elem) {\n          if (elem.hasClass('comp') || elem.hasClass('node')) {\n            var highestNodePath = uiUtils.getHighestNodePath(elem);\n            if (ui.draggedInstancePath === path) {\n              // append it to the editor\n              this.editor.append(elem);\n            } else {\n              this.editor.selectAll('.group-wire[data-to=\"' + path + '\"]')\n                .remove();\n              elem.remove();\n            }\n\n            ui.refreshNode(highestNodePath);\n\n            // refresh all group-wire from this whole node\n            var highestNode = ui.model.findByPath(highestNodePath);\n            if (highestNode) {\n              highestNode.groups.array.forEach(function (group) {\n                ui.createGroupWire(group, highestNode);\n              });\n              highestNode.hosts.array.forEach(function redrawWire(child) {\n                child.groups.array.forEach(function (group) {\n                  ui.createGroupWire(group, child);\n                });\n                child.hosts.array.forEach(redrawWire);\n              });\n\n              // redraw parent bindings\n              highestNode.components.array.forEach(function (comp) {\n                comp.provided.array.forEach(function (port) {\n                  port.bindings.array.forEach(function (binding) {\n                    ui.createBinding(binding);\n                  });\n                });\n                comp.required.array.forEach(function (port) {\n                  port.bindings.array.forEach(function (binding) {\n                    ui.createBinding(binding);\n                  });\n                });\n              });\n\n              // redraw sibling bindings\n              highestNode.hosts.array.forEach(function redrawBindings(child) {\n                child.components.array.forEach(function (comp) {\n                  comp.provided.array.forEach(function (port) {\n                    port.bindings.array.forEach(function (binding) {\n                      ui.createBinding(binding);\n                    });\n                  });\n                  comp.required.array.forEach(function (port) {\n                    port.bindings.array.forEach(function (binding) {\n                      ui.createBinding(binding);\n                    });\n                  });\n                });\n                child.hosts.array.forEach(redrawBindings);\n              });\n            }\n          } else {\n            elem.remove();\n          }\n        }\n      },\n\n      deleteGroupWire: function (groupPath, nodePath) {\n        var elem = this.editor.select('.group-wire[data-from=\"' + groupPath + '\"][data-to=\"' + nodePath + '\"]');\n        if (elem) {\n          elem.remove();\n        }\n      },\n\n      deleteBinding: function (bindingPath) {\n        var elem = this.editor.select('.binding[data-path=\"' + bindingPath + '\"]');\n        if (elem) {\n          elem.remove();\n        }\n      },\n\n      deleteSelected: function () {\n        var selected = this.getSelected();\n        selected.forEach(function (elem) {\n          var path = elem.attr('data-path');\n          if (path) {\n            var instance = ui.model.findByPath(path);\n            if (instance) {\n              var readOnly = false;\n              if (typeof instance.findMetaDataByID === 'function') {\n                var val = instance.findMetaDataByID('access_mode');\n                readOnly = (val && val.value === 'read-only');\n              }\n              if (readOnly) {\n                Notification.warning({\n                  title: 'Delete instance',\n                  message: 'Cannot delete read-only instance \"' + instance.name + '\"',\n                  delay: 3000\n                });\n              } else {\n                if (instance.hosts) {\n                  // also remove child nodes recursively\n                  instance.hosts.array.forEach(function deleteChild(node) {\n                    node.hosts.array.forEach(deleteChild);\n                    node.delete();\n                  });\n                }\n                instance.delete();\n              }\n            }\n          } else {\n            if (elem.hasClass('group-wire')) {\n              var grp = ui.model.findByPath(elem.attr('data-from')),\n                node = ui.model.findByPath(elem.attr('data-to'));\n              if (node && grp) {\n                node.removeGroups(grp);\n                grp.removeSubNodes(node);\n              }\n            } else {\n              // TODO for component ports wire\n            }\n          }\n        });\n        return selected.length;\n      },\n\n      removeUIElem: function (path) {\n        var elem = this.editor.select('.instance[data-path=\"' + path + '\"]');\n        if (elem) {\n          elem.remove();\n        }\n      },\n\n      deleteNodes: function () {\n        this.editor.selectAll('.node')\n          .remove();\n        this.editor.selectAll('.group-wire')\n          .remove();\n      },\n\n      deleteGroups: function () {\n        this.editor.selectAll('.group')\n          .remove();\n        this.editor.selectAll('.group-wire')\n          .remove();\n      },\n\n      deleteChannels: function () {\n        this.editor.selectAll('.chan')\n          .remove();\n      },\n\n      deleteBindings: function () {\n        this.editor.selectAll('.binding')\n          .remove();\n      },\n\n      updateInstance: function (previousPath, instance) {\n        var elem = this.editor.select('.instance[data-path=\"' + previousPath + '\"]');\n        if (elem) {\n          // update data-path and name\n          elem.attr({\n            'data-path': instance.path()\n          });\n          var name = elem.select('text.name');\n          if (name) {\n            name.attr({\n              text: instance.name\n            });\n          }\n\n          // update location only if not a child of someone\n          if (!elem.parent()\n            .hasClass('node')) {\n            elem.relocate(instance);\n          }\n\n          // update children data-path if any\n          if (instance.components || instance.hosts) {\n            instance.components.array.forEach(function (comp) {\n              var compElem = elem.select('.instance[data-path=\"' + previousPath + '/components[' + comp.name + ']\"]');\n              if (compElem) {\n                compElem.attr({\n                  'data-path': comp.path()\n                    .replace(previousPath, instance.path())\n                });\n              }\n            });\n          }\n\n          // update started state\n          if (elem.hasClass('comp')) {\n            elem.select('.bg')\n              .attr({\n                fillOpacity: util.isTruish(instance.started) ? 1 : 0.65\n              });\n          } else {\n            if (name) {\n              name.attr({\n                fill: util.isTruish(instance.started) ? '#fff' : '#000'\n              });\n            }\n          }\n\n          // update group-wire if it is a node\n          if (elem.hasClass('node')) {\n            this.editor\n              .selectAll('.group-wire[data-to=\"' + previousPath + '\"]')\n              .attr({\n                'data-to': instance.path()\n              });\n          }\n\n          if (elem.hasClass('group')) {\n            this.editor\n              .selectAll('.group-wire[data-from=\"' + previousPath + '\"]')\n              .attr({\n                'data-from': instance.path()\n              });\n          }\n        }\n      },\n\n      updatePosition: function (instance) {\n        var elem = this.editor.select('.instance[data-path=\"' + instance.path() + '\"]');\n        if (elem) {\n          if (!elem.parent()\n            .hasClass('node')) {\n            elem.relocate(instance);\n          }\n        }\n      },\n\n      updateCompTypeDefinition: function (comp, oldTypeDef) {\n        oldTypeDef.required.array.forEach(function (oldPortType) {\n          var found = false;\n          comp.typeDefinition.required.array.forEach(function (portType) {\n            if (portType.name === oldPortType.name) {\n              found = true;\n              // port still exists in new typeDef\n              var port = comp.findRequiredByID(portType.name);\n              if (port) {\n                port.portTypeRef = portType;\n              }\n            }\n          });\n          if (!found) {\n            var port = comp.findRequiredByID(oldPortType.name);\n            if (port) {\n              port.bindings.array.forEach(function (binding) {\n                binding.delete();\n              });\n              port.delete();\n            }\n          }\n        });\n\n        oldTypeDef.provided.array.forEach(function (oldPortType) {\n          var found = false;\n          comp.typeDefinition.provided.array.forEach(function (portType) {\n            if (portType.name === oldPortType.name) {\n              found = true;\n              // port still exists in new typeDef\n              var port = comp.findProvidedByID(oldPortType.name);\n              if (port) {\n                port.portTypeRef = portType;\n              }\n            }\n          });\n          if (!found) {\n            var port = comp.findProvidedByID(oldPortType.name);\n            if (port) {\n              port.bindings.array.forEach(function (binding) {\n                binding.delete();\n              });\n              port.delete();\n            }\n          }\n        });\n\n        // recreate the new component\n        var compUi = ui.createComponent(comp);\n        compUi.select('.bg')\n          .addClass('selected');\n        this.refreshNode(comp.eContainer()\n          .path());\n      },\n\n      toggleFold: function (node, isFolded) {\n        function toggleChannel(chan) {\n          var uiChan = ui.editor.select('.chan[data-path=\"' + chan.path() + '\"]');\n          if (uiChan) {\n            if (kModelHelper.isChannelDistributed(chan)) {\n              if (isFolded) {\n                uiChan.attr({\n                  strokeDasharray: '5 3'\n                });\n              } else {\n                uiChan.attr({\n                  strokeDasharray: ''\n                });\n              }\n            } else {\n              if (isFolded) {\n                uiChan.addClass('hide');\n              } else {\n                uiChan.removeClass('hide');\n              }\n            }\n          }\n        }\n\n        function toggleBinding(binding) {\n          if (binding.hub) {\n            toggleChannel(binding.hub);\n          }\n\n          var uiBinding = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n          if (uiBinding) {\n            if (isFolded) {\n              uiBinding.addClass('hide');\n            } else {\n              uiBinding.removeClass('hide');\n            }\n          }\n        }\n\n        function togglePort(port) {\n          port.bindings.array.forEach(toggleBinding);\n        }\n\n        function toggleComp(comp) {\n          comp.provided.array.forEach(togglePort);\n          comp.required.array.forEach(togglePort);\n\n          var uiComp = ui.editor.select('.comp[data-path=\"' + comp.path() + '\"]');\n          if (uiComp) {\n            if (isFolded) {\n              uiComp.addClass('hide');\n            } else {\n              uiComp.removeClass('hide');\n            }\n          }\n        }\n\n        function toggleSubNodes(node) {\n          node.components.array.forEach(toggleComp);\n          node.hosts.array.forEach(toggleSubNodes);\n\n          var uiNode = ui.editor.select('.node[data-path=\"' + node.path() + '\"]');\n          if (uiNode) {\n            if (isFolded) {\n              uiNode.addClass('hide');\n            } else {\n              uiNode.removeClass('hide');\n            }\n          }\n        }\n\n        node.components.array.forEach(toggleComp);\n        node.hosts.array.forEach(toggleSubNodes);\n\n        var uiNode = ui.editor.select('.node[data-path=\"' + node.path() + '\"]');\n        if (uiNode) {\n          if (isFolded) {\n            uiNode.select('.bg')\n              .attr({\n                height: NODE_HEIGHT,\n                strokeDasharray: '5 3'\n              });\n          } else {\n            uiNode.select('.bg')\n              .attr({\n                height: uiUtils.getNodeUIHeight(node),\n                strokeDasharray: ''\n              });\n          }\n        }\n      },\n\n      /**\n       * Refresh a node's UI (and it's children too)\n       * @param path\n       */\n      refreshNode: function (path) {\n        var instance = ui.model.findByPath(path);\n        if (instance) {\n          var node = ui.editor.select('.node[data-path=\"' + path + '\"]');\n          var treeHeight = kModelHelper.getNodeTreeHeight(instance);\n          var computedWidth = NODE_WIDTH + (20 * treeHeight);\n          if (instance.host) {\n            computedWidth = NODE_WIDTH + (20 * (kModelHelper.getNodeTreeHeight(instance.host) - 1));\n          }\n\n          node.relocate(instance);\n\n          node.select('.bg')\n            .attr({\n              width: computedWidth,\n              height: uiUtils.getNodeUIHeight(instance)\n            });\n\n          ui.editor\n            .selectAll('.node[data-path=\"' + path + '\"] > text')\n            .attr({\n              x: computedWidth / 2,\n              'clip-path': 'url(#node-clip-' + treeHeight + ')'\n            });\n\n          instance.components.array.forEach(function (comp) {\n            ui.refreshComp(comp.path());\n          });\n\n          instance.hosts.array.forEach(function (host) {\n            ui.refreshNode(host.path());\n          });\n\n          // apply dx,dy transformation of level-1 children\n          var children = ui.editor.selectAll('.node[data-path=\"' + instance.path() + '\"] > .instance')\n            .items;\n          var dy = NODE_HEIGHT;\n          children.forEach(function (child) {\n            child.transform('t' + ((computedWidth - child.select('.bg')\n              .asPX('width')) / 2) + ',' + dy);\n            dy += child.select('.bg')\n              .asPX('height') + 10;\n          });\n\n          instance.components.array.forEach(function (comp) {\n            comp.provided.array.forEach(function (port) {\n              port.bindings.array.forEach(function (binding) {\n                ui.createBinding(binding);\n              });\n            });\n            comp.required.array.forEach(function (port) {\n              port.bindings.array.forEach(function (binding) {\n                ui.createBinding(binding);\n              });\n            });\n          });\n\n          this.updateValidity(instance);\n        }\n      },\n\n      /**\n       *\n       * @param path\n       */\n      refreshComp: function (path) {\n        var instance = ui.model.findByPath(path);\n        if (instance) {\n          var comp = ui.editor.select('.comp[data-path=\"' + path + '\"]');\n          var host = ui.editor.select('.node[data-path=\"' + instance.eContainer()\n            .path() + '\"]');\n          var treeHeight = kModelHelper.getNodeTreeHeight(instance.eContainer());\n          var computedWidth = host.select('.bg')\n            .asPX('width') - 20;\n\n          if (comp && host) {\n            comp.select('.bg')\n              .attr({\n                width: computedWidth\n              });\n            ui.editor\n              .selectAll('.comp[data-path=\"' + path + '\"] > text')\n              .attr({\n                x: computedWidth / 2,\n                'clip-path': 'url(#comp-clip-' + treeHeight + ')'\n              });\n\n            var PORT_X_PADDING = 3;\n            instance.typeDefinition.required.array.forEach(function (portType) {\n              var port = comp.select('.required[data-name=\"' + portType.name + '\"]');\n              port.transform('t' + (computedWidth - PORT_X_PADDING) + ',' + port.transform()\n                .localMatrix.f);\n            });\n\n            this.updateValidity(instance);\n          }\n        } else {\n          this.createComponent(instance);\n        }\n      },\n\n      getSelected: function () {\n        return this.editor\n          .selectAll('.selected')\n          .items\n          .map(function (elem) {\n            // all selected element are in groups so we need to return the parent\n            return elem.parent();\n          });\n      },\n\n      getSelectedPaths: function () {\n        return this.getSelected()\n          .map(function (elem) {\n            return elem.attr('data-path');\n          });\n      },\n\n      getSelectedNodes: function () {\n        return this.editor\n          .selectAll('.node > .selected')\n          .items\n          .map(function (bg) {\n            return bg.parent();\n          });\n      },\n\n      getNodePathAtPoint: function (x, y) {\n        var container = this.getEditorContainer();\n        var node = ui.getHoveredNode(x - container.offsetLeft, y - container.offsetTop);\n        if (node) {\n          return node.attr('data-path');\n        } else {\n          return null;\n        }\n      },\n\n      getEditorContainer: function () {\n        return document.getElementById('editor-container');\n      },\n\n      selectAll: function () {\n        this.editor.selectAll('.bg')\n          .items.forEach(function (elem) {\n            elem.addClass('selected');\n          });\n      },\n\n      isSelected: function (path) {\n        var elem = this.editor.select('.instance[data-path=\"' + path + '\"]');\n        if (elem) {\n          if (elem.select('.bg')\n            .hasClass('selected')) {\n            return true;\n          }\n        }\n\n        return false;\n      },\n\n      setDropTarget: function (elem) {\n        this.dropTarget = elem;\n      },\n\n      getDropTarget: function () {\n        return this.dropTarget;\n      },\n\n      setModel: function (model) {\n        this.model = model;\n        if (this.editor) {\n          uiUtils.updateSVGDefs(model);\n\n          this.editor.clear();\n        }\n      },\n\n      getHoveredNode: function (x, y, bannedPath) {\n        var m = this.editor.transform()\n          .localMatrix;\n        return this.editor\n          .selectAll('.node')\n          .items\n          .filter(function (node) {\n            if (bannedPath) {\n              return node.attr('data-path') !== bannedPath &&\n                uiUtils.isPointInsideElem(node, x, y, m);\n            } else {\n              return uiUtils.isPointInsideElem(node, x, y, m);\n            }\n          })\n          .sort(function (a, b) {\n            return a.getBBox()\n              .width - b.getBBox()\n              .width;\n          })[0];\n      },\n\n      getHoveredChan: function (x, y) {\n        var chans = this.editor\n          .selectAll('.chan')\n          .items;\n        for (var i = 0; i < chans.length; i++) {\n          if (Snap.path.isPointInsideBBox(chans[i].getBBox(), x, y)) {\n            return chans[i];\n          }\n        }\n        return null;\n      },\n\n      getHoveredPort: function (x, y) {\n        var ports = this.editor\n          .selectAll('.port')\n          .items;\n        for (var i = 0; i < ports.length; i++) {\n          if (uiUtils.isPointInsideElem(ports[i], x, y, this.editor.transform()\n              .localMatrix)) {\n            return ports[i];\n          }\n        }\n        return null;\n      },\n\n      hasErrors: function () {\n        return this.editor.selectAll('.invalid-icon')\n          .length > 0;\n      },\n\n      order: function () {\n        this.editor.selectAll('.binding')\n          .forEach(function (binding) {\n            binding.node.parentNode.appendChild(binding.node);\n          });\n      }\n    };\n\n    /**\n     *\n     */\n    Snap.plugin(function (Snap, Element) {\n      var dragStart = function (x, y, evt) {\n        if (!this.parent()\n          .hasClass('instance')) {\n          var instances = jQuery(ui.editor.node)\n            .find('> .instance');\n          this.node.parentNode.insertBefore(this.node, instances[instances.length - 1].nextSibling);\n        }\n\n        this.data('dragStartX', x);\n        this.data('dragStartY', y);\n\n        ui.draggedInstancePath = this.attr('data-path');\n\n        var handlers = this.data('dragStart');\n        if (handlers) {\n          handlers.forEach(function (handler) {\n            handler.apply(this, [x, y, evt]);\n          }.bind(this));\n        }\n\n        if (this.hasClass('comp') || this.hasClass('node')) {\n          var bbox = uiUtils.getAbsoluteBBox(this);\n          this.data('ot', 't' + bbox.x + ',' + bbox.y);\n        } else {\n          this.data('ot', this.transform()\n            .local);\n        }\n\n        this.data('hasMoved', false);\n      };\n\n      var dragMove = function (dx, dy, x, y, evt) {\n        var dragStartX = this.data('dragStartX'),\n          dragStartY = this.data('dragStartY');\n        if (typeof dragStartX !== 'undefined' && typeof dragStartY !== 'undefined') {\n          if ((typeof dx === 'object') && (dx.type === 'touchmove')) {\n            evt = dx;\n            x = evt.changedTouches[0].clientX;\n            y = evt.changedTouches[0].clientY;\n            dx = x - dragStartX;\n            dy = y - dragStartY;\n          }\n\n          this.transform(this.data('ot') + (this.data('ot') ? 'T' : 't') + [dx, dy]);\n\n          if (this.data('hasMoved')) {\n            var handlers = this.data('dragMove');\n            if (handlers) {\n              handlers.forEach(function (handler) {\n                handler.apply(this, [dx, dy, x, y, evt]);\n              }.bind(this));\n            }\n          } else {\n            this.data('hasMoved', true);\n            var firstDragMoveHandlers = this.data('firstDragMove');\n            if (firstDragMoveHandlers) {\n              firstDragMoveHandlers.forEach(function (handler) {\n                handler.apply(this, [dx, dy, x, y, evt]);\n              }.bind(this));\n            }\n          }\n        }\n      };\n\n      var dragEnd = function () {\n        var args = arguments;\n        if (this.data('hasMoved')) {\n          // update position\n          var instance = ui.model.findByPath(this.attr('data-path'));\n          if (instance) {\n            // update model with new position on drag end\n            var pos = instance.findMetaDataByID(KWE_POSITION);\n            if (!pos) {\n              pos = kFactory.createValue();\n              pos.name = KWE_POSITION;\n              instance.addMetaData(pos);\n            }\n            var matrix = this.transform()\n              .localMatrix;\n            pos.value = JSON.stringify({\n              x: matrix.e,\n              y: matrix.f\n            });\n          }\n\n          // trigger handlers\n          var handlers = this.data('dragEnd');\n          if (handlers) {\n            handlers.forEach(function (handler) {\n              handler.apply(this, args);\n            }.bind(this));\n          }\n\n          this.data('hasMoved', false);\n        }\n        this.removeData('dragStartX');\n        this.removeData('dragStartY');\n        this.removeData('ot');\n        ui.draggedInstancePath = null;\n      };\n\n      Element.prototype.draggable = function () {\n        return this.drag(function (dx, dy, x, y, evt) {\n          if (evt.which === 1) {\n            dragMove.apply(this, arguments);\n          }\n        }, function (x, y, evt) {\n          if (evt.which === 1) {\n            dragStart.apply(this, arguments);\n          }\n        }, function (evt) {\n          if (evt.which === 1) {\n            dragEnd.apply(this, arguments);\n          }\n        });\n      };\n\n      Element.prototype.dragStart = function (handler) {\n        var handlers = this.data('dragStart') || [];\n        handlers.push(handler);\n        return this.data('dragStart', handlers);\n      };\n\n      Element.prototype.dragEnd = function (handler) {\n        var handlers = this.data('dragEnd') || [];\n        handlers.push(handler);\n        return this.data('dragEnd', handlers);\n      };\n\n      Element.prototype.dragMove = function (handler) {\n        var handlers = this.data('dragMove') || [];\n        handlers.push(handler);\n        return this.data('dragMove', handlers);\n      };\n\n      Element.prototype.startPtDrag = function (handler) {\n        return this.data('startPtDrag', handler);\n      };\n\n      Element.prototype.endPtDrag = function (handler) {\n        return this.data('endPtDrag', handler);\n      };\n\n      Element.prototype.firstDragMove = function (handler) {\n        var handlers = this.data('firstDragMove') || [];\n        handlers.push(handler);\n        return this.data('firstDragMove', handlers);\n      };\n\n      Element.prototype.selectable = function (instance) {\n        var selectable = function (evt) {\n          if (evt.which === 1) {\n            evt.cancelBubble = true;\n\n            if (!evt.ctrlKey && !evt.shiftKey) {\n              ui.editor.selectAll('.selected')\n                .forEach(function (elem) {\n                  elem.removeClass('selected');\n                  var path = elem.parent().attr('data-path');\n                  if (path && path.length > 0) {\n                    var instance = ui.model.findByPath(path);\n                    kModelHelper.setSelected(instance, false);\n                  }\n                });\n            }\n            if (evt.ctrlKey || evt.shiftKey) {\n              this.select('.bg')\n                .toggleClass('selected');\n              if (this.select('.bg')\n                .hasClass('selected')) {\n                kModelHelper.setSelected(instance, true);\n              } else {\n                kModelHelper.setSelected(instance, false);\n              }\n\n            } else {\n              this.select('.bg')\n                .addClass('selected');\n              kModelHelper.setSelected(instance, true);\n            }\n          }\n        };\n\n        return this\n          .mousedown(selectable)\n          .touchstart(selectable);\n      };\n\n      Element.prototype.relocate = function (instance) {\n        var meta = instance.findMetaDataByID(KWE_POSITION);\n        var pos = {\n          x: 100,\n          y: 100\n        };\n        if (meta) {\n          try {\n            pos = JSON.parse(meta.value);\n          } catch (ignore) {\n            pos = {\n              x: 100,\n              y: 100\n            };\n          }\n        } else {\n          meta = kFactory.createValue();\n          meta.name = KWE_POSITION;\n          meta.value = JSON.stringify(pos);\n          instance.addMetaData(meta);\n        }\n        return this.transform('t' + pos.x + ',' + pos.y);\n      };\n    });\n\n    return ui;\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .constant('GROUP_RADIUS', 55)\n  .constant('GROUP_PLUG_RADIUS', 10)\n  .constant('NODE_WIDTH', 210)\n  .constant('NODE_HEIGHT', 50)\n  .constant('COMP_HEIGHT', 40)\n  .constant('CHANNEL_RADIUS', 12)\n  .constant('INVALID_RADIUS', 5);\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateNode', function (uiUtils, util, kModelHelper, NODE_WIDTH, NODE_HEIGHT) {\n    return function (ui, instance) {\n      ui.removeUIElem(instance.path());\n      uiUtils.updateSVGDefs(ui.model);\n\n      var treeHeight = kModelHelper.getNodeTreeHeight(instance);\n      var computedWidth = NODE_WIDTH + (20 * treeHeight);\n      if (instance.host) {\n        computedWidth = NODE_WIDTH + (20 * (kModelHelper.getNodeTreeHeight(instance.host) - 1));\n      }\n      var computedHeight = uiUtils.getNodeUIHeight(instance);\n\n      var bg = ui.editor\n        .rect(0, 0, computedWidth, computedHeight, 8)\n        .attr({\n          fill: 'white',\n          fillOpacity: 0.1,\n          stroke: 'white',\n          strokeWidth: 2,\n          class: kModelHelper.isSelected(instance) ? 'bg selected' : 'bg'\n        });\n\n      var nameText = ui.editor\n        .text(computedWidth / 2, NODE_HEIGHT / 2 - 2, instance.name)\n        .attr({\n          fill: util.isTruish(instance.started) ? '#fff' : '#000',\n          textAnchor: 'middle',\n          'class': 'name',\n          'clip-path': 'url(#node-clip-' + treeHeight + ')'\n        });\n\n      var tdefText = ui.editor\n        .text(computedWidth / 2, (NODE_HEIGHT / 2) + 12, instance.typeDefinition.name)\n        .attr({\n          fill: 'white',\n          textAnchor: 'middle',\n          'clip-path': 'url(#node-clip-' + treeHeight + ')'\n        });\n\n      var node = ui.editor\n        .group()\n        .attr({\n          'class': 'instance node',\n          'data-path': instance.path()\n        })\n        .append(bg)\n        .append(nameText)\n        .append(tdefText)\n        .selectable(instance)\n        .draggable()\n        .dragStart(function () {\n          var container = document.getElementById('editor-container');\n          this.data('offset', {\n            left: container.offsetLeft,\n            top: container.offsetTop\n          });\n        })\n        .firstDragMove(function () {\n          var args = arguments;\n          if (instance.host) {\n            // remove instance from host\n            instance.host.removeHosts(instance);\n          }\n\n          // trigger bindings firstDragMove while dragging start\n          var redrawBindings = function (comp) {\n            var redrawBinding = function (binding) {\n              var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n              if (elem) {\n                elem.data('firstDragMove').forEach(function (handler) {\n                  handler.apply(elem, args);\n                });\n              }\n            }.bind(this);\n\n            comp.provided.array.forEach(function (port) {\n              port.bindings.array.forEach(redrawBinding);\n            });\n\n            comp.required.array.forEach(function (port) {\n              port.bindings.array.forEach(redrawBinding);\n            });\n          }.bind(this);\n          instance.components.array.forEach(redrawBindings);\n\n          // recursive redraw\n          instance.hosts.array.forEach(function redrawChild(child) {\n            child.components.array.forEach(redrawBindings);\n            child.hosts.array.forEach(redrawChild);\n          });\n        })\n        .dragMove(function (dx, dy, clientX, clientY) {\n          var args = arguments;\n\n          // ui-error feedback\n          clearTimeout(this.data('dragTimeout'));\n          var nodeElem = this.data('hoveredNode');\n          if (nodeElem) {\n            nodeElem.select('.bg').removeClass('hovered error');\n          }\n\n          var timeout = setTimeout(function () {\n            var offset = this.data('offset') || {\n              left: 0,\n              right: 0\n            };\n            var nodeElem = ui.getHoveredNode(clientX - offset.left, clientY - offset.top, instance.path());\n            if (nodeElem) {\n              this.data('hoveredNode', nodeElem);\n              nodeElem.select('.bg').addClass('hovered');\n            } else {\n              this.data('hoveredNode', null);\n            }\n          }.bind(this), 100);\n          this.data('dragTimeout', timeout);\n\n          // redraw group-wire while dragging\n          var redrawWire = function (group, node) {\n            var wire = ui.editor.select('.group-wire[data-from=\"' + group.path() + '\"][data-to=\"' + node.path() + '\"]');\n            if (wire) {\n              wire.data('endPtDrag').apply(wire, args);\n            }\n          };\n          instance.groups.array.forEach(function (group) {\n            redrawWire(group, instance);\n          });\n\n          // redraw bindings while dragging\n          var redrawBindings = function (comp) {\n            var redrawBinding = function (binding) {\n              var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n              if (elem) {\n                elem.data('endPtDrag').apply(elem, args);\n              }\n            }.bind(this);\n\n            comp.provided.array.forEach(function (port) {\n              port.bindings.array.forEach(redrawBinding);\n            });\n\n            comp.required.array.forEach(function (port) {\n              port.bindings.array.forEach(redrawBinding);\n            });\n          }.bind(this);\n          instance.components.array.forEach(redrawBindings);\n\n          // recursive redraw\n          instance.hosts.array.forEach(function redrawChild(child) {\n            child.components.array.forEach(redrawBindings);\n            child.groups.array.forEach(function (group) {\n              redrawWire(group, child);\n            });\n            child.hosts.array.forEach(redrawChild);\n          });\n        })\n        .dragEnd(function () {\n          var args = arguments;\n\n          var hoveredNode = this.data('hoveredNode');\n          if (hoveredNode) {\n            // remove green ui-feedback\n            hoveredNode.select('.bg').removeClass('hovered error');\n\n            // put it in the hovered node\n            node.remove();\n            ui.model.findByPath(hoveredNode.attr('data-path')).addHosts(instance);\n          }\n\n          function updateWire(group, node) {\n            var wire = ui.editor.select('.group-wire[data-from=\"' + group.path() + '\"][data-to=\"' + node.path() + '\"]');\n            if (wire) {\n              wire.data('dragEnd').forEach(function (handler) {\n                handler.apply(wire, args);\n              });\n            }\n          }\n          instance.groups.array.forEach(function (group) {\n            this.removeData(group.path());\n            updateWire(group, instance);\n          }.bind(this));\n\n          clearTimeout(this.data('dragTimeout'));\n\n          // update bindings coords when dragging done\n          function updateBindings(comp) {\n            function updateBindingCoords(binding) {\n              var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n              if (elem) {\n                elem.data('dragEnd').forEach(function (handler) {\n                  handler.apply(elem, args);\n                });\n              }\n            }\n\n            comp.provided.array.forEach(function (port) {\n              port.bindings.array.forEach(updateBindingCoords);\n            });\n\n            comp.required.array.forEach(function (port) {\n              port.bindings.array.forEach(updateBindingCoords);\n            });\n          }\n          instance.components.array.forEach(updateBindings);\n          instance.hosts.array.forEach(function redrawChild(child) {\n            child.components.array.forEach(updateBindings);\n            child.groups.array.forEach(function (group) {\n              updateWire(group, child);\n            });\n            child.hosts.array.forEach(redrawChild);\n          });\n\n          this.removeData('dragTimeout');\n          this.removeData('hoveredNode');\n          this.removeData('offset');\n        });\n\n      if (instance.host) {\n        var host = ui.editor.select('.node[data-path=\"' + instance.host.path() + '\"]');\n        var children = host.selectAll('.node[data-path=\"' + instance.host.path() + '\"] > .instance').items;\n        var dx = (host.select('.bg').asPX('width') - computedWidth) / 2,\n          dy = NODE_HEIGHT;\n        children.forEach(function (child) {\n          dy += child.select('.bg').asPX('height') + 10;\n        });\n        host.append(node);\n        node.transform('t' + dx + ',' + dy);\n      } else {\n        node.relocate(instance);\n      }\n\n      ui.updateValidity(instance);\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateGroupWire', function (uiUtils, util, GROUP_RADIUS) {\n    return function (ui, group, node) {\n      var grpElem, nodeElem, wireElem, wireBg, pt, data = {};\n\n      function computeData() {\n        grpElem = ui.editor.select('.group[data-path=\"' + group.path() + '\"]');\n        nodeElem = ui.editor.select('.node[data-path=\"' + node.path() + '\"]');\n        wireElem = ui.editor.select('.group-wire[data-from=\"' + group.path() + '\"][data-to=\"' + node.path() + '\"]');\n\n        var grpMatrix = grpElem.transform().localMatrix,\n          toBox = uiUtils.getAbsoluteBBox(nodeElem);\n\n        data = {\n          from: {\n            x: 0,\n            y: 0\n          },\n          to: {\n            x: toBox.x - grpMatrix.e,\n            y: toBox.y - grpMatrix.f\n          },\n          width: nodeElem.select('.bg').asPX('width'),\n          height: nodeElem.select('.bg').asPX('height')\n        };\n      }\n      computeData();\n      var toAnchor = uiUtils.computeWireNodeAnchor(data.from, data.to, data.width, data.height);\n      if (wireElem) {\n        // update data\n        wireElem\n          .data('data', data);\n        // update bg location\n        wireBg = wireElem\n          .select('path')\n          .attr({\n            d: 'M' + data.from.x + ',' + data.from.y + ' ' + toAnchor.x + ',' + toAnchor.y\n          });\n        pt = wireBg.getPointAtLength(GROUP_RADIUS + 2);\n        wireBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' ' + toAnchor.x + ',' + toAnchor.y });\n        // update node plug location\n        wireElem\n          .select('circle')\n          .attr({\n            cx: toAnchor.x,\n            cy: toAnchor.y\n          });\n      } else {\n        wireBg = ui.editor\n          .path('M' + data.from.x + ',' + data.from.y + ' ' + toAnchor.x + ',' + toAnchor.y)\n          .attr({\n            fill: 'none',\n            stroke: '#5aa564',\n            strokeWidth: 4,\n            strokeLineCap: 'round',\n            strokeLineJoin: 'round',\n            'class': 'bg'\n          })\n          .mouseover(function () {\n            this.attr({\n              strokeWidth: 5\n            });\n          })\n          .mouseout(function () {\n            this.attr({\n              strokeWidth: 4\n            });\n          });\n\n        var nodePlug = ui.editor\n          .circle(toAnchor.x, toAnchor.y, 4)\n          .attr({\n            fill: 'white'\n          });\n\n        grpElem\n          .group()\n          .attr({\n            'class': 'group-wire',\n            'data-from': group.path(),\n            'data-to': node.path()\n          })\n          .data('data', data)\n          .append(wireBg)\n          .append(nodePlug)\n          .selectable()\n          .startPtDrag(function (dx, dy) {\n            var data = this.data('data');\n            var newTo = {\n              x: data.to.x - dx,\n              y: data.to.y - dy\n            };\n            var anchor = uiUtils.computeWireNodeAnchor(data.from, newTo, data.width, data.height);\n            wireBg.attr({\n              d: 'M' + data.from.x + ',' + data.from.y + ' ' + anchor.x + ',' + anchor.y\n            });\n            pt = wireBg.getPointAtLength(GROUP_RADIUS + 2);\n            wireBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' ' + anchor.x + ',' + anchor.y });\n            nodePlug.attr({\n              cx: anchor.x,\n              cy: anchor.y\n            });\n          })\n          .endPtDrag(function (dx, dy) {\n            var data = this.data('data');\n            var nTo = {\n              x: data.to.x + dx,\n              y: data.to.y + dy\n            };\n            var anchor = uiUtils.computeWireNodeAnchor(data.from, nTo, data.width, data.height);\n            wireBg.attr({\n              d: 'M' + data.from.x + ',' + data.from.y + ' ' + anchor.x + ',' + anchor.y\n            });\n            pt = wireBg.getPointAtLength(GROUP_RADIUS + 2);\n            wireBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' ' + anchor.x + ',' + anchor.y });\n            nodePlug.attr({\n              cx: anchor.x,\n              cy: anchor.y\n            });\n          })\n          .dragEnd(function () {\n            computeData();\n            this.data('data', data);\n          });\n\n        pt = wireBg.getPointAtLength(GROUP_RADIUS + 2);\n        wireBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' ' + toAnchor.x + ',' + toAnchor.y });\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateGroup', function (kModelHelper, uiUtils, util, GROUP_RADIUS, GROUP_PLUG_RADIUS) {\n    return function (ui, instance) {\n      ui.removeUIElem(instance.path());\n      uiUtils.updateSVGDefs(ui.model);\n\n      var bg = ui.editor\n        .circle(0, 0, GROUP_RADIUS)\n        .attr({\n          fill: 'green',\n          stroke: '#000',\n          strokeWidth: 3,\n          'class': kModelHelper.isSelected(instance) ? 'bg selected' : 'bg',\n          opacity: 0.75\n        });\n\n      var plug = ui.editor\n        .circle(0, (GROUP_RADIUS / 2) + GROUP_PLUG_RADIUS, GROUP_PLUG_RADIUS)\n        .attr({\n          fill: '#f1c30f',\n          'class': 'group-plug'\n        })\n        .mouseover(function () {\n          this.attr({\n            r: GROUP_PLUG_RADIUS + 1\n          });\n        })\n        .mouseout(function () {\n          this.attr({\n            r: GROUP_PLUG_RADIUS\n          });\n        })\n        .drag(\n          function (dx, dy, cx, cy) {\n            var plugPos = this.data('plugPos');\n            this.data('wire').attr({\n              d: 'M' + plugPos.x + ',' + plugPos.y + ' ' + (plugPos.x + dx) + ',' + (plugPos.y + dy)\n            });\n\n            clearTimeout(this.data('wireTimeout'));\n            var nodeElem = this.data('hoveredNode');\n            if (nodeElem) {\n              nodeElem.select('.bg').removeClass('hovered error');\n            }\n\n            var timeout = setTimeout(function () {\n              var pt = uiUtils.getPointInEditor(cx, cy);\n              var nodeElem = ui.getHoveredNode(pt.x, pt.y);\n              if (nodeElem) {\n                this.data('hoveredNode', nodeElem);\n                var nodeBg = nodeElem.select('.bg');\n                nodeBg.addClass('hovered');\n\n                var node = ui.model.findByPath(nodeElem.attr('data-path'));\n                if (instance.findSubNodesByID(node.name)) {\n                  nodeBg.addClass('error');\n                }\n              } else {\n                this.data('hoveredNode', null);\n              }\n            }.bind(this), 100);\n            this.data('wireTimeout', timeout);\n          },\n          function () {\n            var grpM = group.transform().localMatrix; // eslint-disable-line\n            var plugPos = {\n              x: grpM.e,\n              y: grpM.f + (GROUP_RADIUS / 2) + GROUP_PLUG_RADIUS\n            };\n            this.data('plugPos', plugPos);\n            var wire = ui.editor\n              .path('M' + plugPos.x + ',' + plugPos.y + ' ' + plugPos.x + ',' + plugPos.y)\n              .attr({\n                fill: 'none',\n                stroke: '#5aa564',\n                strokeWidth: 5,\n                strokeLineCap: 'round',\n                strokeLineJoin: 'round',\n                opacity: 0.7\n              });\n            this.data('wire', wire);\n          },\n          function () {\n            var nodeElem = this.data('hoveredNode');\n            if (nodeElem) {\n              if (!nodeElem.select('.bg').hasClass('error')) {\n                // node elem found\n                var nodeInstance = ui.model.findByPath(nodeElem.attr('data-path'));\n                if (instance.findSubNodesByID(nodeInstance.name)) {\n                  // this node is already connected to the group\n                } else {\n                  // this node is not connected to the group\n                  instance.addSubNodes(nodeInstance);\n                }\n              }\n\n              // remove ui feedback\n              nodeElem.select('.bg').removeClass('hovered error');\n            }\n\n            this.data('wire').remove();\n            clearTimeout(this.data('wireTimeout'));\n\n            this.removeData('wire');\n            this.removeData('hoveredNode');\n            this.removeData('plugPos');\n            this.removeData('wireTimeout');\n          }\n        );\n\n      var nameText = ui.editor\n        .text(0, -5, instance.name)\n        .attr({\n          fill: util.isTruish(instance.started) ? '#fff' : '#000',\n          textAnchor: 'middle',\n          'class': 'name',\n          'clip-path': 'url(#group-clip)'\n        });\n\n      var tdefText = ui.editor\n        .text(0, 10, instance.typeDefinition.name)\n        .attr({\n          fill: 'white',\n          textAnchor: 'middle',\n          'clip-path': 'url(#group-clip)'\n        });\n\n      var group = ui.editor\n        .group()\n        .attr({\n          'class': 'instance group',\n          'data-path': instance.path()\n        })\n        .append(bg)\n        .append(nameText)\n        .append(tdefText)\n        .append(plug)\n        .selectable(instance)\n        .draggable()\n        .dragMove(function () {\n          var args = arguments;\n          instance.subNodes.array.forEach(function (subNode) {\n            var wire = ui.editor.select('.group-wire[data-from=\"' + instance.path() + '\"][data-to=\"' + subNode.path() + '\"]');\n            if (wire) {\n              wire.data('startPtDrag').apply(wire, args);\n            }\n          });\n        })\n        .dragEnd(function () {\n          var args = arguments;\n          instance.subNodes.array.forEach(function (subNode) {\n            var wire = ui.editor.select('.group-wire[data-from=\"' + instance.path() + '\"][data-to=\"' + subNode.path() + '\"]');\n            if (wire) {\n              wire.data('dragEnd').forEach(function (handler) {\n                handler.apply(wire, args);\n              });\n            }\n          });\n        })\n        .relocate(instance);\n\n      ui.updateValidity(instance);\n\n      plug.touchstart(function (evt) {\n        evt.cancelBubble = true;\n      });\n      plug.mousedown(function (evt) {\n        evt.cancelBubble = true;\n      });\n\n      return group;\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateComponent', function ($uibModal, uiUtils, util, kFactory, kModelHelper, Notification, COMP_HEIGHT, NODE_HEIGHT) {\n    return function (ui, instance) {\n      var output, input;\n      ui.removeUIElem(instance.path());\n      uiUtils.updateSVGDefs(ui.model);\n\n      var host = ui.editor.select('.instance[data-path=\"' + instance.eContainer().path() + '\"]');\n      var computedWidth = host.select('.bg').asPX('width') - 20,\n        computedHeight = uiUtils.getCompUIHeight(instance);\n      var hostHeight = kModelHelper.getNodeTreeHeight(instance.eContainer());\n      var bg = ui.editor\n        .rect(0, 0, computedWidth, computedHeight, 3)\n        .attr({\n          fill: 'black',\n          fillOpacity: util.isTruish(instance.started) ? 1 : 0.65,\n          stroke: 'white',\n          strokeWidth: 1.5,\n          'class': kModelHelper.isSelected(instance) ? 'bg selected' : 'bg'\n        });\n\n      var nameText = ui.editor\n        .text(computedWidth / 2, computedHeight / 2, instance.name)\n        .attr({\n          fill: 'white',\n          textAnchor: 'middle',\n          'class': 'name',\n          'clip-path': 'url(#comp-clip-' + hostHeight + ')'\n        });\n\n      var tdefText = ui.editor\n        .text(computedWidth / 2, (computedHeight / 2) + 12, instance.typeDefinition.name)\n        .attr({\n          fill: 'white',\n          textAnchor: 'middle',\n          'clip-path': 'url(#comp-clip-' + hostHeight + ')'\n        });\n\n      var comp = ui.editor\n        .group()\n        .attr({\n          'class': 'instance comp',\n          'data-path': instance.path()\n        })\n        .append(bg)\n        .append(nameText)\n        .append(tdefText);\n\n      var PORT_X_PADDING = 3,\n        providedDy = 0,\n        requiredDy = 0;\n      instance.typeDefinition.provided.array.forEach(function (portType) {\n        var portPlug = ui.editor\n          .rect(-8, 5, 10, COMP_HEIGHT - 10, 2)\n          .attr({\n            fill: '#bc7645',\n            stroke: '#ECCA40',\n            strokeWidth: 2\n          })\n          .mouseover(function () {\n            this.attr({\n              strokeWidth: 3\n            });\n          })\n          .mouseout(function () {\n            this.attr({\n              strokeWidth: 2\n            });\n          })\n          .mousedown(function (evt) {\n            evt.cancelBubble = true;\n          })\n          .touchstart(function (evt) {\n            evt.cancelBubble = true;\n          })\n          .drag(\n            function (dx, dy, cx, cy) {\n              var portPos = this.data('portPos');\n              var middle = { x: 0, y: 0 };\n              if (portPos.x > (portPos.x + dx)) {\n                middle.x = (portPos.x + dx) + (portPos.x - (portPos.x + dx)) / 2;\n              } else {\n                middle.x = portPos.x + ((portPos.x + dx) - portPos.x) / 2;\n              }\n\n              middle.y = ((portPos.y >= (portPos.y + dy)) ? portPos.y : (portPos.y + dy)) + 20;\n              this.data('binding').attr({\n                d: 'M' + portPos.x + ',' + portPos.y + ' Q' + middle.x + ',' + middle.y + ' ' + (portPos.x + dx) + ',' + (portPos.y + dy)\n              });\n\n              clearTimeout(this.data('bindingTimeout'));\n              var portElem = this.data('hoveredPort');\n              if (portElem) {\n                portElem.select('text').removeClass('hovered error');\n              }\n              var chanElem = this.data('hoveredChan');\n              if (chanElem) {\n                chanElem.select('.bg').removeClass('hovered error');\n              }\n\n              var timeout = setTimeout(function () {\n                var pt = uiUtils.getPointInEditor(cx, cy);\n                var portElem = ui.getHoveredPort(pt.x, pt.y);\n                if (portElem) {\n                  this.data('hoveredChan', null);\n                  this.data('hoveredPort', portElem);\n                  var portText = portElem.select('text');\n                  portText.addClass('hovered');\n\n                  if (portElem.hasClass('provided')) {\n                    portText.addClass('error');\n                  }\n\n                } else {\n                  this.data('hoveredPort', null);\n                  var chanElem = ui.getHoveredChan(portPos.x + dx, portPos.y + dy);\n                  if (chanElem) {\n                    this.data('hoveredChan', chanElem);\n                    var chanBg = chanElem.select('.bg');\n                    chanBg.addClass('hovered');\n\n                    var chan = ui.model.findByPath(chanElem.attr('data-path'));\n                    if (kModelHelper.isAlreadyBound(instance.findProvidedByID(portType.name), chan) ||\n                      !kModelHelper.isCompatible(chan.typeDefinition, instance.eContainer())) {\n                      chanBg.addClass('error');\n                    }\n                  } else {\n                    this.data('hoveredChan', null);\n                  }\n                }\n              }.bind(this), 100);\n              this.data('bindingTimeout', timeout);\n            },\n            function () {\n              var portM = input.transform().localMatrix,\n                compBox = uiUtils.getAbsoluteBBox(comp);\n              var portPos = {\n                x: portM.e + compBox.x,\n                y: portM.f + compBox.y + ((COMP_HEIGHT - 6) / 2) + 3\n              };\n              this.data('portPos', portPos);\n              var binding = ui.editor\n                .path('M' + portPos.x + ',' + portPos.y + ' ' + portPos.x + ',' + portPos.y)\n                .attr({\n                  fill: 'none',\n                  stroke: '#ECCA40',\n                  strokeWidth: 5,\n                  strokeLineCap: 'round',\n                  strokeLineJoin: 'round',\n                  opacity: 0.7\n                });\n              this.data('binding', binding);\n            },\n            function () {\n              clearTimeout(this.data('bindingTimeout'));\n\n              var port = instance.findProvidedByID(portType.name);\n              if (!port) {\n                port = kFactory.createPort();\n                port.name = portType.name;\n                port.portTypeRef = portType;\n                instance.addProvided(port);\n              }\n\n              var hoveredChan = this.data('hoveredChan');\n              if (hoveredChan) {\n                var chan = ui.model.findByPath(hoveredChan.attr('data-path'));\n                if (!hoveredChan.select('.bg').hasClass('error')) {\n                  if (chan) {\n                    var binding = kFactory.createMBinding();\n                    binding.hub = chan;\n                    binding.port = port;\n                    ui.model.addMBindings(binding);\n                  }\n                } else {\n                  if (chan && !kModelHelper.isCompatible(chan.typeDefinition, instance.eContainer())) {\n                    Notification.error({\n                      title: 'Binding error',\n                      message: '<strong>' + chan.typeDefinition.name + '</strong> cannot run on platform <strong>' + kModelHelper.getPlatforms(instance.eContainer().typeDefinition).join('') + '</strong>',\n                      delay: 10000\n                    });\n                  }\n                }\n\n                // remove ui feedback\n                hoveredChan.select('.bg').removeClass('hovered error');\n              } else {\n                var hoveredPort = this.data('hoveredPort');\n                if (hoveredPort) {\n                  if (!hoveredPort.select('text').hasClass('error')) {\n                    var otherPortName = hoveredPort.attr('data-name');\n                    var otherPortComp = ui.model.findByPath(hoveredPort.parent().attr('data-path'));\n                    var otherPort = otherPortComp.findRequiredByID(otherPortName);\n                    if (!otherPort) {\n                      otherPort = kFactory.createPort();\n                      otherPort.name = otherPortName;\n                      otherPort.portTypeRef = otherPortComp.typeDefinition.findRequiredByID(otherPortName);\n                      otherPortComp.addRequired(otherPort);\n                    }\n\n                    $uibModal\n                      .open({\n                        templateUrl: 'app/main/editor/select-chan.modal.html',\n                        controller: 'SelectChanModalCtrl',\n                        resolve: {\n                          startPort: port,\n                          endPort: otherPort\n                        }\n                      })\n                      .result.then(function (chanInstance) {\n                        if (chanInstance) {\n                          var binding = kFactory.createMBinding();\n                          binding.hub = chanInstance;\n                          binding.port = port;\n                          ui.model.addMBindings(binding);\n\n                          var binding2 = kFactory.createMBinding();\n                          binding2.hub = chanInstance;\n                          binding2.port = otherPort;\n                          ui.model.addMBindings(binding2);\n                        }\n                      });\n                  }\n                  hoveredPort.select('text').removeClass('hovered error');\n                }\n              }\n\n              this.data('binding').remove();\n\n              this.removeData('binding');\n              this.removeData('bindingTimeout');\n              this.removeData('hoveredPort');\n              this.removeData('hoveredChan');\n              this.removeData('portPos');\n            });\n\n        var text = ui.editor\n          .text(6, COMP_HEIGHT - 4, portType.name.substr(0, 6))\n          .attr({\n            fill: 'white',\n            title: portType.name\n          })\n          .append(Snap.parse('<title>' + portType.name + '</title>'));\n\n        input = ui.editor\n          .group()\n          .attr({\n            'class': 'port provided',\n            'data-name': portType.name\n          })\n          .append(portPlug)\n          .append(text)\n          .transform('t' + PORT_X_PADDING + ',' + providedDy);\n\n        comp.append(input);\n\n        providedDy += COMP_HEIGHT;\n      });\n\n      instance.typeDefinition.required.array.forEach(function (portType) {\n        var portPlug = ui.editor\n          .rect(-3, 5, 10, COMP_HEIGHT - 10, 2)\n          .attr({\n            fill: '#bc7645',\n            stroke: '#C60808',\n            strokeWidth: 2\n          })\n          .mouseover(function () {\n            this.attr({ strokeWidth: 3 });\n          })\n          .mouseout(function () {\n            this.attr({ strokeWidth: 2 });\n          })\n          .mousedown(function (evt) {\n            evt.cancelBubble = true;\n          })\n          .touchstart(function (evt) {\n            evt.cancelBubble = true;\n          })\n          .drag(\n            function (dx, dy, cx, cy) {\n              var portPos = this.data('portPos');\n              var middle = {\n                x: 0,\n                y: 0\n              };\n              if (portPos.x > (portPos.x + dx)) {\n                middle.x = (portPos.x + dx) + (portPos.x - (portPos.x + dx)) / 2;\n              } else {\n                middle.x = portPos.x + ((portPos.x + dx) - portPos.x) / 2;\n              }\n\n              middle.y = ((portPos.y >= (portPos.y + dy)) ? portPos.y : (portPos.y + dy)) + 20;\n              this.data('binding').attr({\n                d: 'M' + portPos.x + ',' + portPos.y + ' Q' + middle.x + ',' + middle.y + ' ' + (portPos.x + dx) + ',' + (portPos.y + dy)\n              });\n\n              clearTimeout(this.data('bindingTimeout'));\n              var portElem = this.data('hoveredPort');\n              if (portElem) {\n                portElem.select('text').removeClass('hovered error');\n              }\n              var chanElem = this.data('hoveredChan');\n              if (chanElem) {\n                chanElem.select('.bg').removeClass('hovered error');\n              }\n\n              var timeout = setTimeout(function () {\n                var pt = uiUtils.getPointInEditor(cx, cy);\n                var portElem = ui.getHoveredPort(pt.x, pt.y);\n                if (portElem) {\n                  this.data('hoveredChan', null);\n                  this.data('hoveredPort', portElem);\n                  if (portElem.hasClass('required')) {\n                    portElem.select('text').addClass('hovered error');\n                  } else {\n                    portElem.select('text').addClass('hovered');\n                  }\n                } else {\n                  this.data('hoveredPort', null);\n                  var chanElem = ui.getHoveredChan(portPos.x + dx, portPos.y + dy);\n                  if (chanElem) {\n                    this.data('hoveredChan', chanElem);\n                    var chanBg = chanElem.select('.bg');\n                    chanBg.addClass('hovered');\n\n                    var chan = ui.model.findByPath(chanElem.attr('data-path'));\n                    if (kModelHelper.isAlreadyBound(instance.findRequiredByID(portType.name), chan) ||\n                      !kModelHelper.isCompatible(chan.typeDefinition, instance.eContainer())) {\n                      chanBg.addClass('error');\n                    }\n                  } else {\n                    this.data('hoveredChan', null);\n                  }\n                }\n              }.bind(this), 100);\n              this.data('bindingTimeout', timeout);\n            },\n            function () {\n              var portM = output.transform().localMatrix,\n                compBox = uiUtils.getAbsoluteBBox(comp);\n              var portPos = {\n                x: portM.e + compBox.x,\n                y: portM.f + compBox.y + ((COMP_HEIGHT - 6) / 2) + 3\n              };\n              this.data('portPos', portPos);\n              var binding = ui.editor\n                .path('M' + portPos.x + ',' + portPos.y + ' ' + portPos.x + ',' + portPos.y)\n                .attr({\n                  fill: 'none',\n                  stroke: '#C60808',\n                  strokeWidth: 5,\n                  strokeLineCap: 'round',\n                  strokeLineJoin: 'round',\n                  opacity: 0.7\n                });\n              this.data('binding', binding);\n            },\n            function () {\n              clearTimeout(this.data('bindingTimeout'));\n\n              var port = instance.findRequiredByID(portType.name);\n              if (!port) {\n                port = kFactory.createPort();\n                port.name = portType.name;\n                port.portTypeRef = portType;\n                instance.addRequired(port);\n              }\n\n              var hoveredChan = this.data('hoveredChan');\n              if (hoveredChan) {\n                var chan = ui.model.findByPath(hoveredChan.attr('data-path'));\n                if (!hoveredChan.select('.bg').hasClass('error')) {\n                  if (chan) {\n                    var binding = kFactory.createMBinding();\n                    binding.hub = chan;\n                    binding.port = port;\n                    ui.model.addMBindings(binding);\n                  }\n                } else {\n                  if (chan && !kModelHelper.isCompatible(chan.typeDefinition, instance.eContainer())) {\n                    Notification.error({\n                      title: 'Binding error',\n                      message: '<strong>' + chan.typeDefinition.name + '</strong> cannot run on platform <strong>' + kModelHelper.getPlatforms(instance.eContainer().typeDefinition).join('') + '</strong>',\n                      delay: 10000\n                    });\n                  }\n                }\n\n                // remove ui feedback\n                hoveredChan.select('.bg').removeClass('hovered error');\n              } else {\n                var hoveredPort = this.data('hoveredPort');\n                if (hoveredPort) {\n                  if (!hoveredPort.select('text').hasClass('error')) {\n                    var otherPortName = hoveredPort.attr('data-name');\n                    var otherPortComp = ui.model.findByPath(hoveredPort.parent().attr('data-path'));\n                    var otherPort = otherPortComp.findProvidedByID(otherPortName);\n                    if (!otherPort) {\n                      otherPort = kFactory.createPort();\n                      otherPort.name = otherPortName;\n                      otherPort.portTypeRef = otherPortComp.typeDefinition.findProvidedByID(otherPortName);\n                      otherPortComp.addProvided(otherPort);\n                    }\n\n                    $uibModal\n                      .open({\n                        templateUrl: 'app/main/editor/select-chan.modal.html',\n                        controller: 'SelectChanModalCtrl',\n                        resolve: {\n                          startPort: port,\n                          endPort: otherPort\n                        }\n                      })\n                      .result.then(function (chanInstance) {\n                        if (chanInstance) {\n                          var binding = kFactory.createMBinding();\n                          binding.hub = chanInstance;\n                          binding.port = port;\n                          ui.model.addMBindings(binding);\n\n                          var binding2 = kFactory.createMBinding();\n                          binding2.hub = chanInstance;\n                          binding2.port = otherPort;\n                          ui.model.addMBindings(binding2);\n                        }\n                      });\n                  }\n                  hoveredPort.select('text').removeClass('hovered error');\n                }\n              }\n\n              this.data('binding').remove();\n\n              this.removeData('binding');\n              this.removeData('bindingTimeout');\n              this.removeData('hoveredChan');\n              this.removeData('hoveredPort');\n              this.removeData('portPos');\n            });\n\n        var text = ui.editor\n          .text(-6, COMP_HEIGHT - 4, portType.name.substr(0, 6))\n          .attr({\n            fill: 'white',\n            textAnchor: 'end',\n            title: portType.name\n          })\n          .append(Snap.parse('<title>' + portType.name + '</title>'));\n\n        output = ui.editor\n          .group()\n          .attr({\n            'class': 'port required',\n            'data-name': portType.name\n          })\n          .append(portPlug)\n          .append(text)\n          .transform('t' + (computedWidth - PORT_X_PADDING) + ',' + requiredDy);\n\n        comp.append(output);\n\n        requiredDy += COMP_HEIGHT;\n      });\n\n      comp.selectable(instance)\n        .draggable()\n        .dragStart(function () {\n          var container = document.getElementById('editor-container');\n          this.data('offset', {\n            left: container.offsetLeft,\n            top: container.offsetTop\n          });\n        })\n        .firstDragMove(function () {\n          var args = arguments;\n\n          this.data('parentNode', instance.eContainer());\n          instance.eContainer().removeComponents(instance);\n\n          // redraw bindings after component when dragging start\n          var redrawBindings = function (port) {\n            port.bindings.array.forEach(function (binding) {\n              var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n              if (elem) {\n                elem.data('firstDragMove').forEach(function (handler) {\n                  handler.apply(elem, args);\n                });\n              }\n            });\n          };\n          instance.provided.array.forEach(redrawBindings);\n          instance.required.array.forEach(redrawBindings);\n        })\n        .dragMove(function (dx, dy, clientX, clientY) {\n          var args = arguments;\n\n          // ui-error feedback\n          clearTimeout(this.data('dragTimeout'));\n          var nodeElem = this.data('hoveredNode');\n          if (nodeElem) {\n            nodeElem.select('.bg').removeClass('hovered error');\n          }\n\n          var timeout = setTimeout(function () {\n            var offset = this.data('offset');\n            var nodeElem = ui.getHoveredNode(clientX - offset.left, clientY - offset.top, instance.path());\n            if (nodeElem) {\n              this.data('hoveredNode', nodeElem);\n              nodeElem.select('.bg').addClass('hovered');\n            } else {\n              this.data('hoveredNode', null);\n            }\n          }.bind(this), 100);\n          this.data('dragTimeout', timeout);\n\n          // redraw bindings when dragging\n          var redrawBindings = function (port) {\n            port.bindings.array.forEach(function (binding) {\n              var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n              if (elem) {\n                elem.data('endPtDrag').apply(elem, args);\n              }\n            });\n          };\n          instance.provided.array.forEach(redrawBindings);\n          instance.required.array.forEach(redrawBindings);\n        })\n        .dragEnd(function () {\n          var hoveredNode = this.data('hoveredNode');\n          if (hoveredNode) {\n            // remove ui-feedback classes\n            hoveredNode.select('.bg').removeClass('hovered error');\n\n            comp.remove();\n            ui.model.findByPath(hoveredNode.attr('data-path')).addComponents(instance);\n          } else {\n            // if dropped in \"nothing\" then put it back into its old host node\n            comp.remove();\n            this.data('parentNode').addComponents(instance);\n          }\n\n          clearTimeout(this.data('dragTimeout'));\n\n          this.removeData('parentNode');\n          this.removeData('offset');\n          this.removeData('hoveredNode');\n          this.removeData('dragTimeout');\n        });\n\n      var children = host.selectAll('.instance[data-path=\"' + instance.eContainer().path() + '\"] > .instance').items;\n      var dx = (host.select('.bg').asPX('width') - computedWidth) / 2,\n        dy = NODE_HEIGHT;\n      children.forEach(function (child) {\n        dy += child.select('.bg').asPX('height') + 10;\n      });\n      comp.transform('t' + dx + ',' + dy);\n      host.append(comp);\n\n      ui.updateValidity(instance);\n\n      return comp;\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateChannel', function (kModelHelper, uiUtils, util, CHANNEL_RADIUS) {\n    return function (ui, instance) {\n      ui.removeUIElem(instance.path());\n      uiUtils.updateSVGDefs(ui.model);\n\n      var bg = ui.editor\n        .circle(0, 0, CHANNEL_RADIUS)\n        .attr({\n          fill: '#DB661D',\n          stroke: util.isTruish(instance.started) ? '#fff' : '#000',\n          strokeWidth: 2,\n          class: kModelHelper.isSelected(instance) ? 'bg selected' : 'bg',\n          opacity: 0.75,\n          title: instance.name + ': ' + instance.typeDefinition.name\n        });\n\n      // var nameText = ui.editor\n      //     .text(0, -5, instance.name)\n      //     .attr({\n      //         fill: util.isTruish(instance.started) ? '#fff' : '#000',\n      //         textAnchor: 'middle',\n      //         'class': 'name',\n      //         'clip-path': 'url(#chan-clip)'\n      //     });\n      //\n      // var tdefText = ui.editor\n      //     .text(0, 10, instance.typeDefinition.name)\n      //     .attr({\n      //         fill: 'white',\n      //         textAnchor: 'middle',\n      //         'clip-path': 'url(#chan-clip)'\n      //     });\n\n      var channel = ui.editor\n        .group()\n        .attr({\n          'class': 'instance chan',\n          'data-path': instance.path()\n        })\n        .append(bg)\n        // .append(nameText)\n        // .append(tdefText)\n        .selectable(instance)\n        .draggable()\n        .dragMove(function () {\n          var args = arguments;\n          instance.bindings.array.forEach(function (binding) {\n            //factory.createBinding(binding);\n            var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n            elem.data('startPtDrag').apply(elem, args);\n          });\n        })\n        .dragEnd(function () {\n          var args = arguments;\n\n          // update bindings coords when done\n          instance.bindings.array.forEach(function (binding) {\n            var elem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n            if (elem) {\n              elem.data('dragEnd').forEach(function (handler) {\n                handler.apply(elem, args);\n              });\n            }\n          });\n        })\n        .relocate(instance);\n\n      bg\n        .mousemove(function (e, cx, cy) {\n          clearTimeout(this.data('showName'));\n          var timeout = setTimeout(function () {\n            var pt = uiUtils.getPointInEditor(cx, cy + 5),\n              textAnchor, x;\n            var width = ui.editor.getBBox().width;\n            if (pt.x > (width / 2)) {\n              x = -(CHANNEL_RADIUS * 2);\n              textAnchor = 'end';\n            } else {\n              x = CHANNEL_RADIUS * 2;\n              textAnchor = 'start';\n            }\n            var elem = channel.select('.name');\n            if (elem) {\n              elem.attr({ x: x, textAnchor: textAnchor });\n            } else {\n              channel.append(ui.editor\n                .text(x, 0, instance.name + ': ' + instance.typeDefinition.name)\n                .attr({\n                  fill: util.isTruish(instance.started) ? '#fff' : '#000',\n                  textAnchor: textAnchor,\n                  'class': 'name'\n                }));\n            }\n          }, 300);\n          this.data('showName', timeout);\n        })\n        .mouseout(function () {\n          clearTimeout(this.data('showName'));\n          var elem = channel.select('.name');\n          if (elem) {\n            elem.remove();\n          }\n        });\n\n      ui.updateValidity(instance);\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('uiCreateBinding', function (uiUtils, CHANNEL_RADIUS) {\n    return function (ui, binding) {\n      if (binding.hub && binding.port) {\n        var portElem = ui.editor.select('.comp[data-path=\"' + binding.port.eContainer().path() + '\"] .port[data-name=\"' + binding.port.name + '\"]'),\n          chanElem = ui.editor.select('.chan[data-path=\"' + binding.hub.path() + '\"]'),\n          bindingElem = ui.editor.select('.binding[data-path=\"' + binding.path() + '\"]');\n\n        if (portElem && chanElem) {\n          var coords = uiUtils.computeBindingCoords(portElem, chanElem);\n          if (bindingElem) {\n            bindingElem.data('coords', coords);\n            var path0 = bindingElem\n              .select('.bg')\n              .attr({\n                d: 'M' + coords.chan.x + ',' + coords.chan.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y\n              });\n            var pt0 = path0.getPointAtLength(CHANNEL_RADIUS + 1);\n            path0.attr({ d: 'M' + pt0.x + ',' + pt0.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y });\n          } else {\n            var bindingBg = ui.editor\n              .path('M' + coords.chan.x + ',' + coords.chan.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y)\n              .attr({\n                fill: 'none',\n                stroke: (binding.port.getRefInParent() === 'provided') ? '#ECCA40' : '#C60808',\n                strokeWidth: 5,\n                strokeLineCap: 'round',\n                strokeLineJoin: 'round',\n                opacity: 0.7,\n                'class': 'bg'\n              })\n              .mouseover(function () {\n                this.attr({\n                  opacity: 0.85,\n                  strokeWidth: 6\n                });\n              })\n              .mouseout(function () {\n                this.attr({\n                  opacity: 0.7,\n                  strokeWidth: 5\n                });\n              });\n\n            var pt1 = bindingBg.getPointAtLength(CHANNEL_RADIUS + 1);\n            bindingBg.attr({ d: 'M' + pt1.x + ',' + pt1.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y });\n\n            ui.editor\n              .group()\n              .attr({\n                'class': 'binding',\n                'data-path': binding.path()\n              })\n              .data('coords', coords)\n              .append(bindingBg)\n              .selectable()\n              .firstDragMove(function () {\n                this.appendTo(ui.editor);\n              })\n              .startPtDrag(function (dx, dy) {\n                var coords = this.data('coords');\n                var chanDx = coords.chan.x + dx,\n                  chanDy = coords.chan.y + dy;\n\n                if (coords.port.x > chanDx) {\n                  coords.middle.x = chanDx + (coords.port.x - chanDx) / 2;\n                } else {\n                  coords.middle.x = coords.port.x + (chanDx - coords.port.x) / 2;\n                }\n\n                coords.middle.y = ((coords.port.y >= chanDy) ? coords.port.y : chanDy) + 20;\n\n                bindingBg.attr({\n                  d: 'M' + chanDx + ',' + chanDy + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y\n                });\n                var pt = bindingBg.getPointAtLength(CHANNEL_RADIUS + 1);\n                bindingBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + coords.port.x + ',' + coords.port.y });\n              })\n              .endPtDrag(function (dx, dy) {\n                var coords = this.data('coords');\n                var portDx = coords.port.x + dx,\n                  portDy = coords.port.y + dy;\n\n                if (portDx > coords.chan.x) {\n                  coords.middle.x = coords.chan.x + (portDx - coords.chan.x) / 2;\n                } else {\n                  coords.middle.x = portDx + (coords.chan.x - portDx) / 2;\n                }\n\n                coords.middle.y = ((portDy >= coords.chan.y) ? portDy : coords.chan.y) + 20;\n\n                bindingBg.attr({\n                  d: 'M' + coords.chan.x + ',' + coords.chan.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + portDx + ',' + portDy\n                });\n                var pt = bindingBg.getPointAtLength(CHANNEL_RADIUS + 1);\n                bindingBg.attr({ d: 'M' + pt.x + ',' + pt.y + ' Q' + coords.middle.x + ',' + coords.middle.y + ' ' + portDx + ',' + portDy });\n              })\n              .dragEnd(function () {\n                var portElem = ui.editor.select(\n                    '.comp[data-path=\"' + binding.port.eContainer().path() + '\"] ' +\n                    '.port[data-name=\"' + binding.port.name + '\"]'),\n                  chanElem = ui.editor.select('.chan[data-path=\"' + binding.hub.path() + '\"]');\n                this.data('coords', uiUtils.computeBindingCoords(portElem, chanElem));\n              });\n          }\n        }\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .directive('stringToNumber', function () {\n    return {\n      require: 'ngModel',\n      link: function (scope, element, attrs, ngModel) {\n        ngModel.$parsers.push(function (value) {\n          return value;\n        });\n        ngModel.$formatters.push(function (value) {\n          return parseFloat(value);\n        });\n      }\n    };\n  });\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .factory('kRegistry', KevoreeRegistryService);\n\n  KevoreeRegistryService.$inject = ['$q', 'storage', 'kFactory', 'KEVOREE_REGISTRY_URL'];\n\n  function KevoreeRegistryService($q, storage, kFactory, KEVOREE_REGISTRY_URL) {\n    var cachedUrl = null;\n    var loader = kFactory.createJSONLoader();\n\n    // INIT REGISTRY URL\n    var storedUrl = storage.get('registry');\n    if (storedUrl) {\n      try {\n        setUrl(new URL(storedUrl));\n      } catch (ignore) {\n        Notification.error({\n          title: 'Kevoree Registry',\n          message: 'Stored URL in local storage is malformed. You should update it',\n          delay: 8000\n        });\n      }\n    } else {\n      setUrl(new URL(KEVOREE_REGISTRY_URL));\n    }\n\n    return {\n      getUrl: getUrl,\n      setUrl: setUrl,\n      transformTdef: transformTdef,\n      namespace: {\n        all: allNamespaces\n      },\n      tdef: {\n        getLatestsByNamespace: getLatestTdefsByNamespace,\n        getAllByNamespaceAndName: getAllTdefsByNamespaceAndName,\n      },\n      du: {\n        getReleases: getDuReleases,\n        getLatests: getDuLatests,\n      }\n    };\n\n    function setUrl(url) {\n      var port;\n      if (url.port && url.port.length > 0) {\n        port = parseInt(url.port);\n      } else {\n        if (url.protocol === 'http:') {\n          port = 80;\n        } else {\n          port = 443;\n        }\n      }\n      TinyConf.set('registry.host', url.hostname);\n      TinyConf.set('registry.port', port);\n      TinyConf.set('registry.ssl', url.protocol === 'https:');\n      cachedUrl = url;\n      storage.set('registry', url.toString());\n    }\n\n    function getUrl() {\n      return cachedUrl;\n    }\n\n    function allNamespaces() {\n      return $q.when(KevoreeRegistryClient.namespace.all());\n    }\n\n    function getLatestTdefsByNamespace(namespace) {\n      return $q.when(KevoreeRegistryClient.tdef.getLatestsByNamespace(namespace))\n        .then(function (tdefs) {\n          tdefs.sort(function (a, b) {\n            if (a.name < b.name) {\n              return -1;\n            }\n            if (a.name > b.name) {\n              return 1;\n            }\n            return 0;\n          });\n          return tdefs.map(transformTdef);\n        });\n    }\n\n    function getAllTdefsByNamespaceAndName(namespace, name) {\n      return $q.when(KevoreeRegistryClient.tdef.getAllByNamespaceAndName(namespace, name))\n        .then(function (tdefs) {\n          return tdefs.map(transformTdef);\n        });\n    }\n\n    function getDuReleases(namespace, name, version) {\n      return $q.when(KevoreeRegistryClient.du.getReleases(namespace, name, version))\n        .then(function (dus) {\n          return dus.map(transformDu);\n        });\n    }\n\n    function getDuLatests(namespace, name, version) {\n      return $q.when(KevoreeRegistryClient.du.getLatests(namespace, name, version))\n        .then(function (dus) {\n          return dus.map(transformDu);\n        });\n    }\n\n    function transformTdef(tdef) {\n      try {\n        tdef.model = loader.loadModelFromString(tdef.model).get(0);\n        tdef.type = inferType(tdef.model);\n        tdef.description = getDescription(tdef.model);\n      } catch (err) {\n        tdef.error = 'Unable to parse model';\n        tdef.type = inferTypeFromJSON(tdef.model);\n        tdef.description = getDescriptionFromJSON(tdef.model);\n      }\n      return tdef;\n    }\n\n    function transformDu(du) {\n      try {\n        var model = loader.loadModelFromString(du.model).get(0);\n        // TODO hacky way to get directly to the deployUnits\n        // because legacy-wise we upload a full model for DeployUnits on\n        // the registry but that is *not* useful => strip it down here\n        du.model = model.packages.array[0].deployUnits.array[0];\n      } catch (err) {\n        du.error = 'Unable to parse model';\n      }\n      return du;\n    }\n\n    function inferType(model) {\n      if (model.metaClassName() === 'org.kevoree.NodeType') {\n        return 'node';\n      } else if (model.metaClassName() === 'org.kevoree.ComponentType') {\n        return 'component';\n      } else if (model.metaClassName() === 'org.kevoree.ChannelType') {\n        return 'channel';\n      } else if (model.metaClassName() === 'org.kevoree.GroupType') {\n        return 'group';\n      }\n    }\n\n    function getDescription(model) {\n      var meta = model.findMetaDataByID('description');\n      if (meta) {\n        return meta.value;\n      } else {\n        return null;\n      }\n    }\n\n    function inferTypeFromJSON(model) {\n      if (model.class.startsWith('org.kevoree.NodeType')) {\n        return 'node';\n      } else if (model.class.startsWith('org.kevoree.ComponentType')) {\n        return 'component';\n      } else if (model.class.startsWith('org.kevoree.ChannelType')) {\n        return 'channel';\n      } else if (model.class.startsWith('org.kevoree.GroupType')) {\n        return 'group';\n      }\n    }\n\n    function getDescriptionFromJSON(model) {\n      var desc = model.metaData.find(function (meta) {\n        return meta.name === 'description';\n      });\n      return desc ? desc.value : null;\n    }\n  }\n})();\n","'use strict';\n\nangular.module('editorApp')\n  .directive('loadingOverlay', function (kEditor) {\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function (scope, elem) {\n        var id = 'id_' + Math.floor((Math.random()*10000)+1);\n        var overlay = jQuery('<div>', { id: id, class: 'overlay' }).append(\n            jQuery('<p>', { class: 'center-message' }).html('Loading model...'));\n\n        function preSetModelHandler() {\n          elem.append(overlay);\n        }\n\n        function postSetModelHandler() {\n          overlay.remove();\n        }\n\n        var unregister = kEditor.addPreSetModelHandler(preSetModelHandler);\n        var unregister2 = kEditor.addPostSetModelHandler(postSetModelHandler);\n        scope.$on('$destroy', function () {\n          unregister();\n          unregister2();\n        });\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('kScript', function () {\n    var noop = function noop() {};\n    var logger = {\n      info: function (tag, msg) {\n        console.log('KevScript', msg); // eslint-disable-line\n      },\n      debug: function (tag, msg) {\n        console.debug('KevScript', msg); // eslint-disable-line\n      },\n      error: function (tag, msg) {\n        console.error('KevScript', msg); // eslint-disable-line\n      },\n      warn: function (tag, msg) {\n        console.warn('KevScript', msg); // eslint-disable-line\n      },\n      toString: function () {\n        return 'KevScript';\n      },\n      setLevel: noop,\n      setTag: noop\n    };\n\n    return new KevoreeKevscript(logger, {\n      resolver: KevoreeKevscript.Resolvers.tagResolverFactory(logger,\n        KevoreeKevscript.Resolvers.modelResolverFactory(logger,\n          KevoreeKevscript.Resolvers.registryResolverFactory(logger)))\n    });\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('kFactory', function () {\n    return new KevoreeLibrary.factory.DefaultKevoreeFactory();\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .directive('instanceName', function (kEditor) {\n    return {\n      restrict: 'A',\n      require: 'ngModel',\n      scope: {\n        instance: '&instance',\n        instanceType: '&instanceType'\n      },\n      link: function (scope, elem, attrs, ctrl) {\n        ctrl.$parsers.push(function checkUnicity(value) {\n          var model = kEditor.getModel();\n          var elem;\n\n          switch (scope.instanceType()) {\n            case 'node':\n              elem = model.findNodesByID(value);\n              break;\n            case 'group':\n              elem = model.findGroupsByID(value);\n              break;\n            case 'channel':\n              elem = model.findHubsByID(value);\n              break;\n            case 'component':\n              elem = scope.instance().eContainer().findComponentsByID(value);\n              break;\n          }\n\n          if (elem) {\n            // something has already this name\n            if (elem.path() === scope.instance().path()) {\n              // it is the same old value, everything is fine\n              ctrl.$setValidity('notUniqueName', true);\n            } else {\n              // it matches another instance in the model => wrong\n              ctrl.$setValidity('notUniqueName', false);\n            }\n          } else {\n            // name is ok\n            ctrl.$setValidity('notUniqueName', true);\n          }\n          return value;\n        });\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .factory('kInstance', function (kFactory, kModelHelper) {\n    return {\n      /**\n       * Init instance dictionaries with default values and stuff\n       * @param instance\n       */\n      initDictionaries: function (instance) {\n        // create dictionary values if none set\n        instance.dictionary = instance.dictionary || kFactory.createDictionary().withGenerated_KMF_ID('0.0');\n        if (instance.typeDefinition.dictionaryType) {\n          instance.typeDefinition.dictionaryType.attributes\n            .array.forEach(function (attr) {\n              var val;\n              if (!kModelHelper.isTruish(attr.fragmentDependant)) {\n                // attribute is not fragment dependant\n                val = instance.dictionary.findValuesByID(attr.name);\n                if (!val) {\n                  val = kFactory.createValue();\n                  val.name = attr.name;\n                  val.value = attr.defaultValue;\n                  instance.dictionary.addValues(val);\n                }\n              } else {\n                // attribute is fragment dependant\n                // create fragment dictionaries if needed\n                switch (kModelHelper.getTypeDefinitionType(instance.typeDefinition)) {\n                  case 'channel':\n                    instance.bindings.array.forEach(function (binding) {\n                      if (binding.port) {\n                        if (!instance.findFragmentDictionaryByID(binding.port.eContainer().eContainer().name)) {\n                          var fragDic = kFactory.createFragmentDictionary();\n                          fragDic.name = binding.port.eContainer().eContainer().name;\n                          instance.addFragmentDictionary(fragDic);\n                        }\n                      }\n                    });\n                    break;\n\n                  case 'group':\n                    instance.subNodes.array.forEach(function (node) {\n                      if (!instance.findFragmentDictionaryByID(node.name)) {\n                        var fragDic = kFactory.createFragmentDictionary();\n                        fragDic.name = node.name;\n                        instance.addFragmentDictionary(fragDic);\n                      }\n                    });\n                    break;\n                }\n                // add default value to fragment dictionaries that does not already have them\n                instance.fragmentDictionary.array.forEach(function (fragDic) {\n                  val = fragDic.findValuesByID(attr.name);\n                  if (!val) {\n                    val = kFactory.createValue();\n                    val.name = attr.name;\n                    val.value = attr.defaultValue;\n                    fragDic.addValues(val);\n                  }\n                });\n              }\n            });\n        }\n      },\n\n      /**\n       * Init instance fragment dictionaries (normal dictionary will not be init)\n       * @param instance\n       */\n      initFragmentDictionaries: function (instance) {\n        if (instance.typeDefinition.dictionaryType) {\n          instance.typeDefinition.dictionaryType.attributes\n            .array.forEach(function (attr) {\n              var val;\n              if (kModelHelper.isTruish(attr.fragmentDependant)) {\n                // attribute is fragment dependant\n                // create fragment dictionaries if needed\n                switch (kModelHelper.getTypeDefinitionType(instance.typeDefinition)) {\n                  case 'channel':\n                    instance.bindings.array.forEach(function (binding) {\n                      if (binding.port) {\n                        if (!instance.findFragmentDictionaryByID(binding.port.eContainer().eContainer().name)) {\n                          var fragDic = kFactory.createFragmentDictionary();\n                          fragDic.name = binding.port.eContainer().eContainer().name;\n                          instance.addFragmentDictionary(fragDic);\n                        }\n                      }\n                    });\n                    break;\n\n                  case 'group':\n                    instance.subNodes.array.forEach(function (node) {\n                      if (!instance.findFragmentDictionaryByID(node.name)) {\n                        var fragDic = kFactory.createFragmentDictionary();\n                        fragDic.name = node.name;\n                        instance.addFragmentDictionary(fragDic);\n                      }\n                    });\n                    break;\n                }\n                // add default value to fragment dictionaries that does not already have them\n                instance.fragmentDictionary.array.forEach(function (fragDic) {\n                  val = fragDic.findValuesByID(attr.name);\n                  if (!val) {\n                    val = kFactory.createValue();\n                    val.name = attr.name;\n                    val.value = attr.defaultValue;\n                    fragDic.addValues(val);\n                  }\n                });\n              }\n            });\n        }\n      }\n    };\n  });\n","'use strict';\n\nangular.module('editorApp').factory('kEditor', function ($timeout, kFactory, kModelHelper, kInstance, ui, Notification, KWE_POSITION, KWE_FOLDED, KWE_SELECTED, KWE_TAG, CHANNEL_RADIUS, GROUP_RADIUS) {\n  function modelReactor(editor) {\n    /**\n     * Updates UI according to model changes\n     * @param trace\n     */\n    return function (trace) {\n      var fragDic,\n        highestNode;\n      editor.invokeModelUpdateListeners();\n\n      function processRefreshRecursively(node) {\n        node.components.array.forEach(function (comp) {\n          comp.provided.array.forEach(function (port) {\n            port.bindings.array.forEach(function (binding) {\n              if (ui.editor) {\n                ui.createBinding(binding);\n              }\n            });\n          });\n          comp.required.array.forEach(function (port) {\n            port.bindings.array.forEach(function (binding) {\n              if (ui.editor) {\n                ui.createBinding(binding);\n              }\n            });\n          });\n        });\n        node.groups.array.forEach(function (group) {\n          if (ui.editor) {\n            ui.createGroupWire(group, node);\n          }\n        });\n        node.hosts.array.forEach(processRefreshRecursively);\n      }\n\n      if (trace.elementAttributeName === 'typeDefinitions' || trace.elementAttributeName === 'packages') {\n        editor.invokeModelUpdateListeners('tdefs');\n      }\n\n      try {\n        if (trace.etype === KevoreeLibrary.modeling.api.util.ActionType.object.REMOVE) {\n          //console.log('REMOVE', trace);\n          if (trace.previousPath === '/') {\n            if (trace.elementAttributeName === 'hubs' || trace.elementAttributeName === 'nodes' || trace.elementAttributeName === 'groups') {\n              if (ui.editor) {\n                ui.deleteInstance(trace.source, trace.previous_value); // jshint ignore:line\n              }\n              editor.invokeModelUpdateListeners('selected');\n            } else if (trace.elementAttributeName === 'mBindings') {\n              if (ui.editor) {\n                ui.deleteBinding(trace.previous_value); // jshint ignore:line\n              }\n            }\n          } else {\n            if (trace.elementAttributeName === 'hosts' || trace.elementAttributeName === 'components') {\n              if (ui.editor) {\n                ui.deleteInstance(trace.source, trace.previous_value); // jshint ignore:line\n              }\n              editor.invokeModelUpdateListeners('selected');\n\n            } else if (trace.elementAttributeName === 'groups') {\n              // means detaching a node from a group\n              if (ui.editor) {\n                ui.deleteGroupWire(trace.previous_value, trace.previousPath); // jshint ignore:line\n              }\n              fragDic = trace.value.findFragmentDictionaryByID(trace.source.name);\n              if (fragDic) {\n                fragDic.delete();\n              }\n            } else if (trace.elementAttributeName === 'bindings') {\n              if (trace.source.getRefInParent() === 'hubs') {\n                trace.source.fragmentDictionary.array.forEach(function (dic) {\n                  var hasBinding = false;\n\n                  // check if there is a binding for this dictionnary\n                  for (var i = 0; i < trace.source.bindings.size(); i++) {\n                    var binding = trace.source.bindings.get(i);\n                    if (binding.port) {\n                      if (binding.port.eContainer().eContainer().name === dic.name) {\n                        hasBinding = true;\n                        break;\n                      }\n                    }\n                  }\n\n                  if (!hasBinding) {\n                    // no binding found for this dictionary => delete it\n                    dic.delete();\n                  }\n                });\n              }\n            }\n          }\n\n        } else if (trace.etype === KevoreeLibrary.modeling.api.util.ActionType.object.REMOVE_ALL) {\n          //console.log('REMOVE_ALL', trace);\n          if (trace.previousPath === '/') {\n            switch (trace.elementAttributeName) {\n              case 'hubs':\n                if (ui.editor) {\n                  ui.deleteChannels();\n                }\n                break;\n\n              case 'nodes':\n                if (ui.editor) {\n                  ui.deleteNodes();\n                }\n                break;\n\n              case 'groups':\n                if (ui.editor) {\n                  ui.deleteGroups();\n                }\n                break;\n\n              case 'mBindings':\n                if (ui.editor) {\n                  ui.deleteBindings();\n                }\n                break;\n            }\n          } else {\n            switch (trace.elementAttributeName) {\n              case 'groups':\n                trace.value.array.forEach(function (group) {\n                  if (ui.editor) {\n                    ui.deleteGroupWire(group.path(), trace.previousPath);\n                  }\n                  var fragDic = group.findFragmentDictionaryByID(trace.source.name);\n                  if (fragDic) {\n                    fragDic.delete();\n                  }\n                });\n                break;\n\n              case 'bindings':\n                trace.value.array.forEach(function (binding) {\n                  if (ui.editor) {\n                    ui.deleteBinding(binding.path());\n                  }\n                  if (!binding.hub || !binding.port) {\n                    binding.delete();\n                  }\n                });\n                //uiFactory.deleteBindings(trace.previousPath);\n                // TODO check if there is at least one binding to this node, otherwise\n                // we can remove all fragmentDictionaries between those bindings' channels and nodes\n                break;\n            }\n          }\n\n        } else if (trace.etype === KevoreeLibrary.modeling.api.util.ActionType.object.ADD) {\n          //console.log('ADD', trace);\n          if (trace.previousPath === '/') {\n            switch (trace.elementAttributeName) {\n              case 'hubs':\n                //console.log('ADD hubs', trace);\n                if (ui.editor) {\n                  ui.createChannel(trace.value);\n                }\n                break;\n\n              case 'nodes':\n              case 'hosts':\n                //console.log('ADD nodes|hosts', trace);\n                if (ui.editor) {\n                  ui.createNode(trace.value);\n                  highestNode = kModelHelper.getHighestNode(trace.value);\n                  if (highestNode) {\n                    ui.refreshNode(highestNode.path());\n                  }\n                }\n                break;\n\n              case 'groups':\n                //console.log('ADD groups', trace);\n                if (ui.editor) {\n                  ui.createGroup(trace.value);\n                }\n                break;\n\n              case 'mBindings':\n                //console.log('ADD mBinding', trace);\n                if (ui.editor) {\n                  ui.createBinding(trace.value);\n                }\n                break;\n            }\n          } else {\n            switch (trace.elementAttributeName) {\n              case 'groups':\n                //console.log('ADD .groups', trace);\n                if (ui.editor) {\n                  ui.createGroupWire(trace.value, trace.source);\n                }\n                break;\n\n              case 'components':\n                //console.log('ADD .components', trace);\n                if (ui.editor) {\n                  ui.createComponent(trace.value);\n                }\n\n                highestNode = kModelHelper.getHighestNode(trace.value);\n                if (ui.editor) {\n                  ui.refreshNode(highestNode.path());\n                }\n                processRefreshRecursively(highestNode);\n                break;\n\n              case 'hosts':\n                //console.log('ADD .hosts', trace.source.path(), trace.value.path());\n                if (ui.editor) {\n                  ui.createNode(trace.value);\n                }\n\n                // recursively recreate children UIs\n                trace.value.components.array.forEach(function (comp) {\n                  if (ui.editor) {\n                    ui.createComponent(comp);\n                  }\n                });\n                trace.value.hosts.array.sort(function (a, b) {\n                  // TODO optimize this to loop only once to create node tree heights\n                  return kModelHelper.getNodeTreeHeight(b) - kModelHelper.getNodeTreeHeight(a);\n                }).forEach(function updateChildNode(childNode) {\n                  if (ui.editor) {\n                    ui.createNode(childNode);\n                  }\n                  childNode.components.array.forEach(function (comp) {\n                    if (ui.editor) {\n                      ui.createComponent(comp);\n                    }\n                  });\n                  childNode.hosts.array.forEach(updateChildNode);\n                });\n\n                highestNode = kModelHelper.getHighestNode(trace.source);\n                if (ui.editor) {\n                  ui.refreshNode(highestNode.path());\n                }\n                processRefreshRecursively(highestNode);\n                break;\n\n              case 'subNodes':\n                //console.log('ADD .subNodes', trace);\n                kInstance.initFragmentDictionaries(trace.source);\n                editor.invokeModelUpdateListeners('selected');\n                break;\n\n              case 'bindings':\n                editor.invokeModelUpdateListeners('selected');\n                break;\n\n              case 'metaData':\n                if (trace.value.name === KWE_FOLDED && trace.source.getRefInParent() === 'nodes') {\n                  if (ui.editor) {\n                    ui.toggleFold(trace.source, kModelHelper.isTruish(trace.value.value));\n                  }\n                }\n                break;\n            }\n          }\n\n        } else if (trace.etype === KevoreeLibrary.modeling.api.util.ActionType.object.SET) {\n          switch (trace.elementAttributeName) {\n            case 'name':\n              //console.log('SET name', trace);\n              if (trace.source.getRefInParent() === 'nodes') {\n                // update groups fragmentDictionaries\n                trace.source.groups.array.forEach(function (group) {\n                  fragDic = group.findFragmentDictionaryByID(trace.previous_value); // jshint ignore:line\n                  if (fragDic) {\n                    fragDic.name = trace.source.name;\n                  }\n                });\n                // update bindings fragmentDictionaries\n                trace.source.components.array.forEach(function (comp) {\n                  function processPort(port) {\n                    port.bindings.array.forEach(function (binding) {\n                      if (binding.hub) {\n                        fragDic = binding.hub.findFragmentDictionaryByID(trace.previous_value); // jshint ignore:line\n                        if (fragDic) {\n                          fragDic.name = trace.source.name;\n                        }\n                      }\n                    });\n                  }\n\n                  comp.provided.array.forEach(processPort);\n                  comp.required.array.forEach(processPort);\n                });\n              }\n              if (ui.editor) {\n                ui.updateInstance(trace.previousPath, trace.source);\n              }\n              break;\n\n            case 'value':\n              // console.log('SET value', trace);\n              if (trace.source.getRefInParent() === 'metaData' && trace.source.name === KWE_POSITION) {\n                if (ui.editor) {\n                  ui.updatePosition(trace.source.eContainer());\n                }\n                if (trace.source.eContainer().getRefInParent() === 'nodes') {\n                  processRefreshRecursively(trace.source.eContainer());\n                } else if (trace.source.eContainer().getRefInParent() === 'groups') {\n                  trace.source.eContainer().subNodes.array.forEach(function (node) {\n                    if (ui.editor) {\n                      ui.createGroupWire(trace.source.eContainer(), node);\n                    }\n                  });\n                } else if (trace.source.eContainer().getRefInParent() === 'hubs') {\n                  trace.source.eContainer().bindings.array.forEach(function (binding) {\n                    if (ui.editor) {\n                      ui.createBinding(binding);\n                    }\n                  });\n                }\n              } else if (trace.source.getRefInParent() === 'metaData' && trace.source.name === KWE_FOLDED) {\n                // fold/unfold\n                if (trace.source.eContainer().getRefInParent() === 'nodes') {\n                  if (ui.editor) {\n                    ui.toggleFold(trace.source.eContainer(), kModelHelper.isTruish(trace.source.value));\n                  }\n                }\n              } else if (trace.source.eContainer().getRefInParent() === 'dictionary') {\n                if (ui.editor) {\n                  ui.updateValidity(trace.source.eContainer().eContainer());\n                }\n              } else if (trace.source.getRefInParent() === 'metaData' && trace.source.name === KWE_SELECTED) {\n                editor.invokeModelUpdateListeners('selected');\n              }\n              break;\n\n            case 'started':\n              //console.log('SET started', trace);\n              if (ui.editor) {\n                ui.updateInstance(trace.previousPath, trace.source);\n              }\n              break;\n\n            case 'typeDefinition':\n              if (trace.value !== null) {\n                switch (trace.source.getRefInParent()) {\n                  case 'components':\n                    //console.log('SET typeDef', trace);\n                    if (ui.editor) {\n                      ui.updateCompTypeDefinition(trace.source, trace.previous_value); // jshint ignore:line\n                    }\n                    break;\n\n                  default:\n                    //console.log('SET typeDef unhandled', trace);\n                    break;\n                }\n              }\n              break;\n\n            default:\n              //console.log('SET ignored', trace);\n              break;\n          }\n        }\n      } catch (err) {\n        Notification.error({\n          title: 'Error',\n          message: 'Unable to update model'\n        });\n        console.error(err.stack); // eslint-disable-line\n      }\n    };\n  }\n\n  function KevoreeEditor() {\n    this.model = kFactory.createContainerRoot().withGenerated_KMF_ID(0);\n    kFactory.root(this.model);\n    this.preSetModelHandler = [];\n    this.postSetModelHandler = [];\n    this.modelUpdateListenersEnabled = true;\n    this.modelUpdateListeners = [];\n    this.newModelListeners = [];\n    this.modelListener = {\n      elementChanged: modelReactor(this)\n    };\n    ui.setModel(this.model);\n  }\n\n  KevoreeEditor.prototype = {\n    /**\n     *\n     * @returns {*}\n     */\n    getModel: function () {\n      return this.model;\n    },\n\n    /**\n     *\n     * @param model\n     */\n    setModel: function (model, callback) {\n      this.preSetModelHandler.forEach(function (handler) {\n        handler();\n      });\n      setTimeout(function () {\n        var error;\n        try {\n          KevoreeValidator(model); // jshint ignore:line\n          this.model = model;\n          kFactory.root(this.model);\n\n          this.model.addModelTreeListener(this.modelListener);\n\n          ui.setModel(model);\n\n          this.invokeNewModelListeners();\n        } catch (err) {\n          error = err;\n        } finally {\n          if (error) {\n            console.error('[editor.factory.setModel()] Error setting model'); // eslint-disable-line\n            console.error(error.stack); // eslint-disable-line\n          }\n          this.postSetModelHandler.forEach(function (handler) {\n            handler();\n          });\n          if (callback) {\n            $timeout(angular.noop, 100).then(function () {\n              callback(error);\n            });\n          }\n        }\n      }.bind(this), 20);\n    },\n\n    /**\n     *\n     * @param model\n     */\n    merge: function (model) {\n      this.model.removeModelTreeListener(this.modelListener);\n      var compare = kFactory.createModelCompare();\n      compare.merge(this.model, model).applyOn(this.model);\n      kFactory.root(this.model);\n      this.model.addModelTreeListener(this.modelListener);\n      ui.setModel(this.model);\n      this.drawModel();\n    },\n\n    addPreSetModelHandler: function (handler) {\n      var index = this.preSetModelHandler.push(handler) - 1;\n      return function () {\n        this.preSetModelHandler.splice(index, 1);\n      }.bind(this);\n    },\n\n    addPostSetModelHandler: function (handler) {\n      var index = this.postSetModelHandler.push(handler) - 1;\n      return function () {\n        this.postSetModelHandler.splice(index, 1);\n      }.bind(this);\n    },\n\n    /**\n     * Add a listener that will be invoked each time a new model is set\n     * @param {string} id\n     * @param {Function} listener\n     * @returns {Function} unregister listener\n     */\n    addNewModelListener: function (id, listener) {\n      if (!this.newModelListeners[id]) {\n        this.newModelListeners[id] = [];\n      }\n      this.newModelListeners[id].push(listener);\n\n      return function () {\n        if (this.newModelListeners[id]) {\n          this.newModelListeners[id].splice(this.newModelListeners[id].indexOf(listener), 1);\n        }\n      }.bind(this);\n    },\n\n    /**\n     * Add listener that will be invoked on each update of the model\n     * @param {string} id\n     * @param {Function} listener\n     * @param {boolean} strict optional flag that will prevent this\n     *                  listener to be called unless the invoke method\n     *                  is called using this precise id as event name\n     * @returns {Function} unregister listener\n     */\n    addModelUpdateListener: function (id, listener, strict) {\n      if (!this.modelUpdateListeners[id]) {\n        this.modelUpdateListeners[id] = [];\n      }\n      var item = {\n        strict: strict,\n        listener: listener\n      };\n      this.modelUpdateListeners[id].push(item);\n\n      return function () {\n        if (this.modelUpdateListeners[id]) {\n          this.modelUpdateListeners[id].splice(this.modelUpdateListeners[id].indexOf(item), 1);\n        }\n      }.bind(this);\n    },\n\n    /**\n     * @param [string] optional event\n     */\n    invokeModelUpdateListeners: function (event) {\n      if (this.modelUpdateListenersEnabled) {\n        Object.keys(this.modelUpdateListeners).forEach(function (id) {\n          this.modelUpdateListeners[id].forEach(function (item) {\n            if (item.strict) {\n              if (id === event) {\n                item.listener();\n              }\n            } else {\n              item.listener();\n            }\n          });\n        }.bind(this));\n      }\n    },\n\n    invokeNewModelListeners: function () {\n      Object.keys(this.newModelListeners).forEach(function (id) {\n        this.newModelListeners[id].forEach(function (listener) {\n          listener();\n        });\n      }.bind(this));\n    },\n\n    disableModelUpdateListeners: function () {\n      this.modelUpdateListenersEnabled = false;\n    },\n\n    enableModelUpdateListeners: function () {\n      this.modelUpdateListenersEnabled = true;\n    },\n\n    removeAllListeners: function () {\n      var id;\n      for (id in this.modelUpdateListeners) {\n        delete this.modelUpdateListeners[id];\n      }\n      for (id in this.newModelListeners) {\n        delete this.newModelListeners[id];\n      }\n    },\n\n    removeModelUpdateListeners: function (id) {\n      delete this.modelUpdateListeners[id];\n    },\n\n    removeNewModelListeners: function (id) {\n      delete this.newModelListeners[id];\n    },\n\n    /**\n     * Try to find a better position for each instances in order to prevent\n     * UI overlapping in editor\n     */\n    fixOverlapping: function () {\n      function relocate(instance, pos) {\n        var meta = instance.findMetaDataByID(KWE_POSITION);\n        if (!meta) {\n          meta = kFactory.createValue();\n          meta.name = KWE_POSITION;\n          meta.value = JSON.stringify(pos);\n          instance.addMetaData(meta);\n        } else {\n          meta.value = JSON.stringify(pos);\n        }\n      }\n\n      var groupX = GROUP_RADIUS + 20;\n      this.model.groups.array.forEach(function (group) {\n        relocate(group, {\n          x: groupX,\n          y: GROUP_RADIUS + 20\n        });\n        groupX += GROUP_RADIUS * 2 + 20;\n      });\n\n      var chanX = CHANNEL_RADIUS + 20;\n      this.model.hubs.array.forEach(function (hub) {\n        relocate(hub, {\n          x: chanX,\n          y: 180\n        });\n        chanX += CHANNEL_RADIUS * 2 + 20;\n      });\n\n      var nodeX = 25;\n      this.model.nodes.array.forEach(function (node) {\n        if (!node.host) {\n          // root node (= no parent)\n          var height = kModelHelper.getNodeTreeHeight(node);\n          relocate(node, {\n            x: nodeX,\n            y: 220\n          });\n          nodeX += 230 + (height * 20);\n        }\n      });\n    },\n\n    /**\n     * Create svg UIs based on current model\n     */\n    drawModel: function () {\n      if (ui.editor) {\n        this.model.hubs.array.forEach(function (instance) {\n          ui.createChannel(instance);\n        });\n\n        this.model.nodes.array.sort(function (a, b) {\n          // TODO optimize this to loop only once to create node tree heights\n          return kModelHelper.getNodeTreeHeight(b) - kModelHelper.getNodeTreeHeight(a);\n        }).forEach(function (instance) {\n          ui.createNode(instance);\n          instance.components.array.forEach(function (instance) {\n            ui.createComponent(instance);\n          });\n        });\n\n        this.model.groups.array.forEach(function (instance) {\n          ui.createGroup(instance);\n          instance.subNodes.array.forEach(function (node) {\n            ui.createGroupWire(instance, node);\n          });\n        });\n\n        this.model.mBindings.array.forEach(function (binding) {\n          ui.createBinding(binding);\n        });\n\n        ui.order();\n        this.model.select('**/metaData[name=' + KWE_FOLDED + ']').array.forEach(function (meta) {\n          ui.toggleFold(meta.eContainer(), kModelHelper.isFolded(meta.eContainer()));\n        });\n      }\n    },\n\n    /**\n     * @returns {boolean} true if model has errors\n     */\n    modelHasErrors: function () {\n      // TODO\n      return false;\n    }\n  };\n\n  return new KevoreeEditor();\n});\n","'use strict';\n\nangular.module('editorApp')\n  .directive('kdic', function () {\n    return {\n      restrict: 'E',\n      scope: {\n        name: '=',\n        attrs: '=',\n        dictionary: '=',\n        fragment: '='\n      },\n      templateUrl: 'app/components/kevoree/dictionary.html',\n      controller: function ($scope) {\n        $scope.isTruish = function (val) {\n          return (val === 'true' || val === true || val > 0);\n        };\n\n        $scope.isReadOnly = function () {\n          if ($scope.dictionary && $scope.dictionary.eContainer()) {\n            var val = $scope.dictionary.eContainer().findMetaDataByID('access_mode');\n            return (val && val.value === 'read-only');\n          }\n          return false;\n        };\n      }\n    };\n  });\n","(function () {\n  'use strict';\n\n  angular.module('editorApp')\n    .component('dusList', {\n      templateUrl: 'app/components/deploy-unit/list/dus-list.html',\n      bindings: { dus: '<' },\n      controller: DusListController,\n    });\n\n  DusListController.$inject = ['kRegistry'];\n\n  function DusListController(kRegistry) {\n    var ctrl = this;\n\n    ctrl.baseUrl = kRegistry.getUrl();\n    ctrl.platform = platform;\n\n    function platform(du) {\n      if (du.platform) {\n        if (du.platform === 'js') {\n          return 'javascript';\n        } else {\n          return du.platform;\n        }\n      } else {\n        if (du.findFiltersByID) {\n          var platform = du.findFiltersByID('platform').value;\n          if (platform === 'js') {\n            return 'javascript';\n          } else {\n            return platform;\n          }\n        }\n      }\n    }\n  }\n})();\n","angular.module('editorApp')\n  .run(function () {\n    CodeMirror.defineMode('kevscript', function () {\n      var STATES = {\n        start: [\n          { regex: /\\/\\/.*/, token: 'comment' },\n          {\n            regex: /add/,\n            token: 'statement',\n            push: 'addStmt',\n            process: function (state) {\n              state.stmt = 'add';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /set/,\n            token: 'statement',\n            push: 'setStmt',\n            process: function (state) {\n              state.stmt = 'set';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /attach/,\n            token: 'statement',\n            push: 'attachStmt',\n            process: function (state) {\n              state.stmt = 'attach';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /detach/,\n            token: 'statement',\n            push: 'detachStmt',\n            process: function (state) {\n              state.stmt = 'detach';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /move/,\n            token: 'statement',\n            push: 'moveStmt',\n            process: function (state) {\n              state.stmt = 'move';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /start/,\n            token: 'statement',\n            push: 'startStmt',\n            process: function (state) {\n              state.stmt = 'start';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /stop/,\n            token: 'statement',\n            push: 'stopStmt',\n            process: function (state) {\n              state.stmt = 'stop';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /pause/,\n            token: 'statement',\n            push: 'pauseStmt',\n            process: function (state) {\n              state.stmt = 'pause';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /remove/,\n            token: 'statement',\n            push: 'removeStmt',\n            process: function (state) {\n              state.stmt = 'remove';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /bind/,\n            token: 'statement',\n            push: 'bindStmt',\n            process: function (state) {\n              state.stmt = 'bind';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /unbind/,\n            token: 'statement',\n            push: 'unbindStmt',\n            process: function (state) {\n              state.stmt = 'unbind';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /repo/,\n            token: 'statement',\n            push: 'repoStmt',\n            process: function (state) {\n              state.stmt = 'repo';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /include/,\n            token: 'statement',\n            push: 'includeStmt',\n            process: function (state) {\n              state.stmt = 'include';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /network/,\n            token: 'statement',\n            push: 'networkStmt',\n            process: function (state) {\n              state.stmt = 'network';\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /[a-z]+/\n          }\n        ],\n        addStmt: [\n          {\n            regex: /,/,\n            token: 'delimiter'\n          },\n          {\n            regex: /:/,\n            token: 'delimiter',\n            next: 'typedef'\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n        ],\n        setStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /=/,\n            token: 'delimiter',\n            next: 'value'\n          }\n        ],\n        repoStmt: [\n          {\n            regex: /\"(?:[^\\\\]|\\\\.)*?(?:\"|$)/,\n            token: 'string',\n            pop: true\n          },\n          {\n            regex: /'(?:[^\\\\]|\\\\.)*?(?:'|$)/,\n            token: 'string',\n            pop: true\n          }\n        ],\n        includeStmt: [\n          {\n            regex: /([a-zA-Z0-9_-]+)(:)([a-zA-Z0-9.:%@_-]+$)/,\n            token: ['version', 'delimiter', 'network'],\n            pop: true\n          },\n        ],\n        networkStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'network'\n          }\n        ],\n        attachStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelistInstancepath',\n          }\n        ],\n        detachStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelistInstancepath'\n          }\n        ],\n        moveStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelistInstancepath'\n          }\n        ],\n        removeStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelist'\n          }\n        ],\n        startStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelist'\n          }\n        ],\n        stopStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelist'\n          }\n        ],\n        pauseStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'namelist'\n          }\n        ],\n        bindStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'instancepathInstancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          }\n        ],\n        unbindStmt: [\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'instancepathInstancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          }\n        ],\n        typedef: [\n          {\n            regex: /([A-Z][a-zA-Z0-9]*)([/])/,\n            token: ['typedef', 'delimiter'],\n            next: 'tdefversion',\n            process: function (state, matches) {\n              state.typedef = matches[1];\n            }\n          },\n          {\n            regex: /[A-Z][a-zA-Z0-9]*/,\n            token: 'typedef',\n            pop: true\n          },\n          {\n            regex: /[a-z0-9]+/,\n            token: 'namespace',\n            process: function (state, matches) {\n              state.namespace = matches[0];\n            }\n          },\n          {\n            regex: /\\./,\n            token: 'delimiter'\n          },\n        ],\n        tdefversion: [\n          {\n            regex: /(LATEST)([/])/,\n            token: ['constant', 'delimiter'],\n            next: 'duversion'\n          },\n          {\n            regex: /([0-9]+)([/])/,\n            token: ['version', 'delimiter'],\n            next: 'duversion'\n          },\n          {\n            regex: /(%)([a-zA-Z0-9_-]+)(%)([/])/,\n            token: ['ctxvarbracket', 'ctxvar', 'ctxvarbracket', 'delimiter'],\n            next: 'duversion'\n          },\n          {\n            regex: /(%%)([a-zA-Z0-9_-]+)(%%)([/])/,\n            token: ['ctxvarbracket', 'ctxvar', 'ctxvarbracket', 'delimiter'],\n            next: 'duversion'\n          },\n          {\n            regex: /LATEST/,\n            token: 'constant',\n            pop: true\n          },\n          {\n            regex: /[0-9]+/,\n            token: 'version',\n            pop: true\n          },\n          {\n            regex: /(%)([a-zA-Z0-9_-]+)(%)/,\n            token: ['ctxvarbracket', 'ctxvar', 'ctxvarbracket'],\n            pop: true\n          },\n          {\n            regex: /(%%)([a-zA-Z0-9_-]+)(%%)/,\n            token: ['ctxvarbracket', 'ctxvar', 'ctxvarbracket'],\n            pop: true\n          },\n          {\n            regex: /[A-Z]+/\n          }\n        ],\n        duversion: [\n          {\n            regex: /LATEST|RELEASE/,\n            token: 'constant',\n            pop: true\n          },\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            next: 'genctxvar'\n          },\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            next: 'ctxvar'\n          },\n          {\n            regex: /{/,\n            token: 'bracket',\n            next: 'versionDecl'\n          },\n          {\n            regex: /[A-Z]+/\n          }\n        ],\n        versionDecl: [\n          {\n            regex: /}/,\n            token: 'bracket',\n            pop: true\n          },\n          {\n            regex: /[a-zA-Z0-9_-]+/,\n            token: 'platform'\n          },\n          {\n            regex: /LATEST|RELEASE/,\n            token: 'constant',\n            pop: true\n          },\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            next: 'genctxvar'\n          },\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            next: 'ctxvar'\n          },\n          {\n            regex: /'[^']*'/,\n            token: 'string',\n          },\n          {\n            regex: /\"[^\"]*\"/,\n            token: 'string',\n          },\n        ],\n        version: [\n          {\n            regex: /[/]/,\n            token: 'delimiter'\n          },\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            push: 'genctxvar',\n            pop: true\n          },\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            push: 'ctxvar',\n            pop: true\n          },\n          {\n            regex: /[0-9]+/,\n            token: 'version',\n            pop: true\n          },\n          {\n            regex: /LATEST|RELEASE/,\n            token: 'constant',\n            pop: true\n          },\n        ],\n        value: [\n          {\n            regex: /'/,\n            token: 'string',\n            next: 'singlequote'\n          },\n          {\n            regex: /\"/,\n            token: 'string',\n            next: 'doublequote'\n          },\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            next: 'genctxvar'\n          },\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            next: 'ctxvar'\n          }\n        ],\n        ctxvar: [\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            pop: true\n          },\n          {\n            regex: /[a-zA-Z0-9_-]+/,\n            token: 'ctxvar'\n          }\n        ],\n        genctxvar: [\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            pop: true\n          },\n          {\n            regex: /[a-zA-Z0-9_-]+/,\n            token: 'ctxvar'\n          }\n        ],\n        singlequote: [\n          {\n            regex: /\\\\./,\n            token: 'escaped'\n          },\n          {\n            regex: /'/,\n            token: 'string',\n            pop: true\n          },\n          {\n            regex: /[^\\\\']*/,\n            token: 'string'\n          }\n        ],\n        doublequote: [\n          {\n            regex: /\\\\./,\n            token: 'escaped'\n          },\n          {\n            regex: /\"/,\n            token: 'string',\n            pop: true\n          },\n          {\n            regex: /[^\\\\\"]*/,\n            token: 'string'\n          }\n        ],\n        namelist: [\n          {\n            regex: /,/,\n            token: 'delimiter'\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-]*[ \\t\\n]*,)/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n        ],\n        namelistInstancepath: [\n          {\n            regex: /,/,\n            token: 'delimiter'\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-]*[ \\t\\n]*,)/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            next: 'instancepathInstancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n        ],\n        instancepathInstancepath: [\n          {\n            regex: /[ \\t\\n]+/,\n            next: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n          {\n            regex: /(?=[^ \\t\\n])/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          }\n        ],\n        instancepath: [\n          {\n            regex: /([*])([./])/,\n            token: ['wildcard', 'delimiter']\n          },\n          {\n            regex: /(%%)(?=[^ ]*%%[./])/,\n            token: 'ctxvarbracket',\n            push: 'genctxvar'\n          },\n          {\n            regex: /(%)(?=[^ ]*%[./])/,\n            token: 'ctxvarbracket',\n            push: 'ctxvar'\n          },\n          {\n            regex: /([a-zA-Z0-9_-]+)([./])/,\n            token: ['identifier', 'delimiter'],\n            process: function (state, matches) {\n              state.instancePath.push(matches[1]);\n            }\n          },\n          {\n            regex: /%%/,\n            token: 'ctxvarbracket',\n            next: 'genctxvar'\n          },\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            next: 'ctxvar'\n          },\n          {\n            regex: /[*]/,\n            token: 'wildcard',\n            pop: true\n          },\n          {\n            regex: /[a-zA-Z0-9_-]+/,\n            token: 'identifier',\n            process: function (state, matches) {\n              state.instancePath.push(matches[0]);\n            },\n            pop: true\n          },\n        ],\n        network: [\n          {\n            regex: /[ \\t\\n]+/,\n            next: 'networkVal'\n          },\n          {\n            regex: /(?=[a-zA-Z0-9%*_-])/,\n            push: 'instancepath',\n            process: function (state) {\n              state.instancePath = [];\n            }\n          },\n        ],\n        networkVal: [\n          {\n            regex: /%/,\n            token: 'ctxvarbracket',\n            next: 'ctxvar'\n          },\n          {\n            regex: /[a-zA-Z0-9.:%@_-]+/,\n            token: 'network',\n            pop: true\n          },\n        ],\n        meta: {\n          lineComment: '//'\n        }\n      };\n\n      return {\n        startState: function () {\n          return {\n            state: 'start',\n            stack: [],\n          };\n        },\n        token: function (stream, state) {\n          if (state.pending) {\n            var pend = state.pending.shift();\n            if (state.pending.length === 0) {\n              state.pending = null;\n            }\n            stream.pos += pend.text.length;\n            return pend.token;\n          }\n\n          var rules = STATES[state.state];\n          if (rules) {\n            for (var i = 0; i < rules.length; i++) {\n              var rule = rules[i];\n              if (rule) {\n                var matches = stream.match(rule.regex);\n                if (matches) {\n                  if (rule.next) {\n                    state.state = rule.next;\n                  } else if (rule.pop && state.stack.length > 0) {\n                    var item = state.stack.pop();\n                    state.state = item.state;\n                    if (typeof item.onPop === 'function') {\n                      item.onPop(state);\n                    }\n                  } else if (rule.push) {\n                    // push current state on the stack\n                    state.stack.push({\n                      state: state.state,\n                      onPop: rule.onPop\n                    });\n                    // replace current state with given state to 'push'\n                    state.state = rule.push;\n                  }\n\n                  if (typeof rule.process === 'function') {\n                    rule.process(state, matches);\n                  }\n\n                  if (rule.token) {\n                    if (matches.length > 2) {\n                      state.pending = [];\n                      for (var j = 2; j < matches.length; j++) {\n                        if (matches[j]) {\n                          state.pending.push({\n                            text: matches[j],\n                            token: rule.token[j - 1]\n                          });\n                        }\n                      }\n                      stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n                      return rule.token[0];\n                    }\n                    if (typeof rule.token.join === 'function') {\n                      // rule.token is an array\n                      return rule.token.join(' ');\n                    } else {\n                      // rule.token is a string\n                      return rule.token;\n                    }\n                  }\n                  // no style given\n                  return null;\n                }\n              }\n            }\n          }\n\n          // unable to match any rule, advance stream and return no style\n          stream.next();\n          return null;\n        },\n        copyState: function (state) {\n          var s = {\n            stmt: state.stmt,\n            state: state.state,\n            stack: state.stack.slice(),\n          };\n          if (state.pending) {\n            s.pending = state.pending.slice();\n          }\n          if (state.instancePath) {\n            s.instancePath = state.instancePath.slice();\n          }\n          if (state.namespace) {\n            s.namespace = state.namespace;\n          }\n          if (state.typedef) {\n            s.typedef = state.typedef;\n          }\n          return s;\n        }\n      };\n    });\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .run(function (kScript, kEditor) {\n    var tokens = ['repoToken', 'includeToken', 'addToken', 'removeToken', 'moveToken',\n      'setToken', 'attachToken', 'detachToken', 'networkToken', 'bindToken',\n      'unbindToken', 'namespaceToken', 'startToken', 'stopToken',\n      'pauseToken', 'comment'];\n\n    function findLine(pos, lines) {\n      var line = -1;\n      for (var i = 0; i < lines.length; i++) {\n        if ((pos[0] >= lines[i].start) && (pos[1] <= lines[i].end)) {\n          line = lines[i].line;\n          break;\n        }\n      }\n      return line;\n    }\n\n    function relativeToLine(ch, lines) {\n      var val = 0;\n      for (var i = 0; i < lines.length; i++) {\n        var tmp = val + (lines[i].end - lines[i].start) + 1; // + 1 is for \\n\n        if (tmp > ch) {\n          return ch - val;\n        } else {\n          val = tmp;\n        }\n      }\n      return ch - val;\n    }\n\n    CodeMirror.registerHelper('lint', 'kevscript', function (ctxVars) {\n      return function (text, updateLinting, options, cm) {\n        CodeMirror.signal(cm, 'lintStart');\n        var start = 0;\n        var lines = text.split('\\n').map(function (line, i) {\n          var obj = {\n            start: start,\n            end: start + line.length,\n            line: i\n          };\n          start += line.length + 1;\n          return obj;\n        });\n\n        kScript.parse(text, kEditor.getModel(), ctxVars, function (err, model, warnings) {\n          var error;\n          var lintErrors = [];\n          if (err) {\n            if (err.nt) {\n              var message = 'Unable to match \\'' + err.nt + '\\'';\n              if (err.nt === 'ws') {\n                message = 'Unable to match \\'whitespace\\'';\n              } else if (err.nt === 'kevScript') {\n                message = 'A line must start with a statement (add, attach, set, etc.)';\n              } else if (tokens.indexOf(err.nt) >= 0) {\n                message = 'Expected statement or comment (do you mean \\'' + (err.nt.split('Token').shift()) + '\\'?)';\n              }\n              lintErrors.push({\n                severity: 'error',\n                message: message,\n                from: CodeMirror.Pos(err.line - 1, (err.col === 0) ? 0 : err.col - 1),\n                to: CodeMirror.Pos(err.line - 1, (err.col === 0) ? 1 : err.col)\n              });\n            } else {\n              if (err.pos) {\n                var line = findLine(err.pos, lines);\n                lintErrors.push({\n                  severity: 'error',\n                  message: err.message,\n                  from: CodeMirror.Pos(line, relativeToLine(err.pos[0], lines)),\n                  to: CodeMirror.Pos(line, relativeToLine(err.pos[1], lines))\n                });\n              } else {\n                error = err;\n              }\n            }\n          } else {\n            options.lintedModel = model;\n          }\n\n          warnings.forEach(function (warning) {\n            var line = findLine(warning.pos, lines);\n            lintErrors.push({\n              severity: 'warning',\n              message: warning.message,\n              from: CodeMirror.Pos(line, relativeToLine(warning.pos[0], lines)),\n              to: CodeMirror.Pos(line, relativeToLine(warning.pos[1], lines))\n            });\n          });\n\n          CodeMirror.signal(cm, 'lintDone', error, lintErrors, model);\n          updateLinting(cm, lintErrors);\n        });\n      };\n    });\n  });\n","'use strict';\n\nangular.module('editorApp')\n  .run(function (kModelHelper) {\n    CodeMirror.registerHelper('hint', 'kevscript', function (cm, callback) {\n      var HINT_TPL = document.querySelector('#kevscript-hint-popup')\n        .innerHTML;\n\n      var cursor = cm.getCursor();\n      var token = cm.getTokenAt(cursor);\n      var cur = token.string;\n      var start = token.start;\n      var end = token.end;\n      var list = [];\n      var tmp;\n\n      // console.log({\n      // \tstate: token.state.state,\n      // \tstmt: token.state.stmt,\n      // \tstring: token.string,\n      // \ttype: token.type,\n      // \tinstancePath: token.state.instancePath\n      // });\n\n      function model() {\n        return cm.options.lint.lintedModel;\n      }\n\n      function rootInstances() {\n        return model()\n          .nodes.array\n          .concat(model()\n            .groups.array)\n          .concat(model()\n            .hubs.array);\n      }\n\n      function findRootInstance(name) {\n        return rootInstances()\n          .find(function (i) {\n            return i.name === name;\n          });\n      }\n\n      function getType(model) {\n        if (model.class.startsWith('org.kevoree.ComponentType')) {\n          return 'component';\n        } else if (model.class.startsWith('org.kevoree.ChannelType')) {\n          return 'channel';\n        } else if (model.class.startsWith('org.kevoree.GroupType')) {\n          return 'group';\n        } else if (model.class.startsWith('org.kevoree.NodeType')) {\n          return 'node';\n        }\n        return 'tdef';\n      }\n\n      function getPlatforms(tdef) {\n        var platforms = [];\n        tdef.deployUnits.forEach(function (du) {\n          if (platforms.indexOf(du.platform) === -1) {\n            platforms.push(du.platform);\n          }\n        });\n        return platforms;\n      }\n\n      function spaceHelper() {\n        cm.doc.replaceSelection(' ');\n      }\n\n      if (token.type === 'typedef' || token.state.state === 'typedef') {\n        if (token.type === 'namespace') {\n          tmp = cur;\n          cur = tmp.trim();\n          start += tmp.length - cur.length;\n\n          // show namespace list\n          return KevoreeRegistryClient.ns.all()\n            .then(function (namespaces) {\n              callback({\n                list: namespaces\n                  .filter(function (ns) {\n                    return cur.trim()\n                      .length === 0 || ns.name.startsWith(cur);\n                  })\n                  .sort(function (ns0, ns1) {\n                    return ns0.name.localeCompare(ns1.name);\n                  })\n                  .map(function (ns) {\n                    return {\n                      type: 'namespace',\n                      typeText: 'n',\n                      text: ns.name,\n                      bufferText: ns.name + '.'\n                    };\n                  })\n                  .map(function (data) {\n                    return {\n                      text: data.bufferText,\n                      className: 'cm-kevs-hint-elem',\n                      render: function (elem) {\n                        elem = jQuery(elem);\n                        var renderedTpl = Mustache.render(HINT_TPL, data);\n                        var child = jQuery(renderedTpl);\n                        elem.append(child);\n                      }\n                    };\n                  }),\n                from: CodeMirror.Pos(cursor.line, start),\n                to: CodeMirror.Pos(cursor.line, end)\n              });\n            });\n        } else {\n          start = (cur === '.') ? token.end : token.start;\n          var ns = (cur === '.') ? token.state.namespace : 'kevoree';\n          return KevoreeRegistryClient.tdef.getAllByNamespace(ns)\n            .then(function (tdefs) {\n              callback({\n                list: tdefs\n                  .filter(function (tdef) {\n                    if (cur === '.' || cur.trim().length === 0) {\n                      return true;\n                    } else {\n                      return tdef.name.startsWith(cur);\n                    }\n                  })\n                  .sort(function (tdef0, tdef1) {\n                    return tdef0.name.localeCompare(tdef1.name);\n                  })\n                  .map(function (tdef) {\n                    var model = JSON.parse(tdef.model);\n                    var type = getType(model);\n                    var platforms = getPlatforms(tdef);\n                    return {\n                      type: type,\n                      typeText: type.substr(0, 1),\n                      text: tdef.name + '/' + tdef.version,\n                      bufferText: tdef.name,\n                      desc: 'platforms=' + platforms.join(','),\n                      from: CodeMirror.Pos(cursor.line, start)\n                    };\n                  })\n                  .map(function (data) {\n                    return {\n                      text: data.bufferText,\n                      className: 'cm-kevs-hint-elem',\n                      render: function (elem) {\n                        elem = jQuery(elem);\n                        var renderedTpl = Mustache.render(HINT_TPL, data);\n                        var child = jQuery(renderedTpl);\n                        elem.append(child);\n                      },\n                      from: data.from,\n                      to: data.to\n                    };\n                  }),\n                from: CodeMirror.Pos(cursor.line, token.end),\n                to: CodeMirror.Pos(cursor.line, token.end)\n              });\n            });\n        }\n      }\n\n      switch (token.state.state) {\n        case 'start':\n          if (token.type === 'identifier') {\n            if (token.state.stmt === 'attach' || token.state.stmt === 'detach') {\n              // show groups\n              list = model().groups.array\n                .map(function (group) {\n                  return {\n                    type: 'group',\n                    text: group.name,\n                    desc: group.typeDefinition.name + '/' + group.typeDefinition.version\n                  };\n                })\n                .filter(function (item) {\n                  return cur.length === 0 || item.text.startsWith(cur);\n                });\n            } else if (token.state.stmt === 'bind' || token.state.stmt === 'unbind') {\n              // show channels\n              list = model().hubs.array\n                .map(function (chan) {\n                  return {\n                    type: 'channel',\n                    text: chan.name,\n                    desc: chan.typeDefinition.name + '/' + chan.typeDefinition.version\n                  };\n                })\n                .filter(function (item) {\n                  return cur.length === 0 || item.text.startsWith(cur);\n                });\n            }\n          } else {\n            tmp = cur;\n            cur = tmp.trim();\n            start += tmp.length - cur.length;\n            list = [\n                { text: 'add', desc: 'create an instance' },\n                { text: 'remove', desc: 'remove an instance' },\n                { text: 'set', desc: 'change a param value' },\n                { text: 'bind', desc: 'connect a port to a chan' },\n                { text: 'unbind', desc: 'disconnect a port from a chan' },\n                { text: 'attach', desc: 'connect a node to a group' },\n                { text: 'detach', desc: 'disconnect a node from a group' },\n                { text: 'network', desc: 'define a node network value' },\n                { text: 'start', desc: 'start an instance' },\n                { text: 'stop', desc: 'stop an instance' },\n                { text: 'move', desc: 'move an instance to another node' },\n            ]\n              .map(function (stmt) {\n                stmt.type = 'stmt';\n                stmt.bufferText = stmt.text + ' ';\n                return stmt;\n              })\n              .filter(function (item) {\n                return cur.length === 0 || item.text.startsWith(cur);\n              })\n              .sort(function (item0, item1) {\n                return item0.text.localeCompare(item1.text);\n              });\n          }\n          break;\n\n        case 'addStmt':\n        case 'bindStmt':\n        case 'unbindStmt':\n          if (cur === 'add' || cur === 'set' || cur === 'bind' || cur === 'unbind') {\n            spaceHelper();\n          } else {\n            tmp = cur;\n            cur = tmp.trim();\n            start += tmp.length - cur.length;\n            // hint with node instances\n            list = model()\n              .nodes.array.map(function (node) {\n                return {\n                  type: 'node',\n                  text: node.name,\n                  desc: node.typeDefinition.name + '/' + node.typeDefinition.version,\n                  bufferText: node.name + '.'\n                };\n              });\n\n            if (cur.length > 0) {\n              // there is already some text in the buffer => filter using it\n              list = list.filter(function (item) {\n                return item.text.startsWith(cur);\n              });\n            }\n          }\n          break;\n\n        case 'setStmt':\n          if (cur === 'set') {\n            spaceHelper();\n          } else {\n            if (token.state.instancePath.length === 3) {\n              // show nodes for fragment\n              list = model().nodes.array\n                .map(function (node) {\n                  return {\n                    type: 'node',\n                    text: node.name,\n                    bufferText: node.name + ' = \\'\\'',\n                    desc: node.typeDefinition.name + '/' + node.typeDefinition.version\n                  };\n                })\n                .filter(function (item) {\n                  return item.text.startsWith(cur);\n                });\n            } else if (token.state.instancePath.length === 2) {\n              tmp = findRootInstance(token.state.instancePath[0]);\n              if (tmp) {\n                // show attributes\n                list = tmp.typeDefinition.dictionaryType.attributes.array\n                  .map(function (attr) {\n                    return {\n                      type: 'attr',\n                      text: attr.name + (attr.fragmentDependant ? '/<node>' : ''),\n                      bufferText: attr.fragmentDependant ? attr.name + '/' : attr.name,\n                      desc: (attr.optional ? 'optional ' : '') + '\"' + attr.datatype.toString().toLowerCase() + '\"'\n                    };\n                  });\n                // show also components if it's a node\n                if (tmp.metaClassName() === 'org.kevoree.ContainerNode') {\n                  list = list\n                    .concat(tmp.components.array\n                      .map(function (comp) {\n                        return {\n                          type: 'component',\n                          text: comp.name,\n                          bufferText: comp.name + '.',\n                          desc: comp.typeDefinition.name + '/' + comp.typeDefinition.version\n                        };\n                      })\n                    );\n                }\n\n                list = list.filter(function (item) {\n                  return item.text.startsWith(cur);\n                });\n              }\n            } else {\n              tmp = cur;\n              cur = tmp.trim();\n              start += tmp.length - cur.length;\n              list = rootInstances()\n                .map(function (instance) {\n                  return {\n                    type: kModelHelper.getTypeDefinitionType(instance.typeDefinition),\n                    text: instance.name,\n                    desc: instance.typeDefinition.name + '/' + instance.typeDefinition.version,\n                    bufferText: instance.name + '.'\n                  };\n                });\n\n              if (cur.length > 0) {\n                list = list.filter(function (elem) {\n                  return elem.text.startsWith(cur);\n                });\n              }\n            }\n          }\n          break;\n\n        case 'attachStmt':\n        case 'detachStmt':\n          if (cur === 'attach' || cur === 'detach') {\n            spaceHelper();\n          } else {\n            tmp = cur;\n            cur = tmp.trim();\n            start += tmp.length - cur.length;\n            list = model()\n              .nodes.array.map(function (node) {\n                return {\n                  type: 'node',\n                  text: node.name,\n                  desc: node.typeDefinition.name + '/' + node.typeDefinition.version\n                };\n              });\n\n            if (cur.length > 0) {\n              list = list.filter(function (elem) {\n                return elem.text.startsWith(cur);\n              });\n            }\n          }\n          break;\n\n        case 'network':\n          if (cur === 'network') {\n            spaceHelper();\n          } else {\n            tmp = cur;\n            cur = tmp.trim();\n            start += tmp.length - cur.length;\n            list = model()\n              .nodes.array.map(function (node) {\n                return {\n                  type: 'node',\n                  text: node.name,\n                  desc: node.typeDefinition.name + '/' + node.typeDefinition.version,\n                  bufferText: node.name + '.'\n                };\n              });\n\n            if (cur.length > 0) {\n              list = list.filter(function (elem) {\n                return elem.text.startsWith(cur);\n              });\n            }\n          }\n          break;\n\n        case 'networkStmt':\n          cur = '';\n          start += 1;\n          list = model().nodes.array.map(function (node) {\n            return {\n              type: 'node',\n              text: node.name,\n              bufferText: node.name + '.',\n              desc: node.typeDefinition.name + '/' + node.typeDefinition.version\n            };\n          });\n          break;\n\n        case 'tdefversion':\n          if (cur === '/') {\n            cur = '';\n            start = token.end;\n            end += 1;\n          }\n          list = [{\n            type: 'version',\n            text: 'LATEST',\n            desc: 'the latest available version',\n          }].concat(model()\n            .select('packages[' + (token.state.namespace || 'kevoree') + ']/typeDefinitions[name=' + token.state.typedef + ']')\n            .array\n            .map(function (tdef) {\n              return {\n                type: 'version',\n                text: tdef.version,\n                desc: tdef.eContainer()\n                  .name + '.' + tdef.name\n              };\n            }));\n\n          if (cur.length > 0) {\n            list = list.filter(function (item) {\n              return item.text.startsWith(cur);\n            });\n          }\n          break;\n\n        case 'duversion':\n          if (cur === '/') {\n            cur = '';\n            start = token.end;\n            end += 1;\n          }\n          list = [\n            {\n              type: 'version',\n              text: 'LATEST',\n              desc: 'the latest available deploy unit',\n            },\n            {\n              type: 'version',\n              text: 'RELEASE',\n              desc: 'the latest available deploy unit (stable)',\n            }\n          ];\n\n          if (cur.length > 0) {\n            list = list.filter(function (item) {\n              return item.text.startsWith(cur);\n            });\n          }\n          break;\n\n        case 'instancepath':\n        case 'instancepathInstancepath':\n        case 'namelistInstancepath':\n          if (token.state.stmt === 'set') {\n            // we need to show components + attributes\n            var rootInstance = findRootInstance(token.state.instancePath[0]);\n            if (rootInstance) {\n              if (token.state.instancePath.length === 1) {\n                list = rootInstance.typeDefinition.dictionaryType.attributes.array\n                  .map(function (attr) {\n                    return {\n                      type: 'attr',\n                      text: attr.name + (attr.fragmentDependant ? '/<node>' : ''),\n                      bufferText: attr.name + (attr.fragmentDependant ? '/' : ' = \\'\\''),\n                      desc: (attr.optional ? 'optional ' : '') + '\"' + attr.datatype.toString()\n                        .toLowerCase() + '\"',\n                      from: CodeMirror.Pos(cursor.line, token.end)\n                    };\n                  });\n                if (rootInstance.components) {\n                  // rootInstance is a node: add components\n                  list = list.concat(rootInstance.components.array\n                    .map(function (comp) {\n                      return {\n                        type: 'component',\n                        text: comp.name,\n                        bufferText: comp.name + '.',\n                        desc: comp.typeDefinition.name + '/' + comp.typeDefinition.version,\n                        from: CodeMirror.Pos(cursor.line, token.end)\n                      };\n                    }));\n                }\n              } else if (token.state.instancePath.length === 2) {\n                if (token.type === 'delimiter' && token.string === '/') {\n                  cur = '';\n                  start += 1;\n                  // fragment attribute part: show node list\n                  if (rootInstance.subNodes) {\n                    // this is a group: we are fine\n                    list = rootInstance.subNodes.array.map(function (node) {\n                      return {\n                        type: 'node',\n                        text: node.name,\n                        bufferText: node.name + ' = \\'\\'',\n                        desc: node.typeDefinition.name + '/' + node.typeDefinition.version\n                      };\n                    });\n                  }\n                }\n                if (rootInstance.components) {\n                  // looking for attrs in comp\n                  tmp = rootInstance.findComponentsByID(token.state.instancePath[1]);\n                  if (tmp) {\n                    list = tmp.typeDefinition.dictionaryType.attributes.array\n                      .map(function (attr) {\n                        return {\n                          type: 'attr',\n                          text: attr.name,\n                          bufferText: attr.name + ' = \\'\\'',\n                          desc: (attr.optional ? 'optional ' : '') + '\"' + attr.datatype.toString()\n                            .toLowerCase() + '\"',\n                          from: CodeMirror.Pos(cursor.line, token.end)\n                        };\n                      });\n                  }\n                }\n              }\n            }\n          } else if (token.state.stmt === 'bind' || token.state.stmt === 'unbind') {\n            if (token.state.instancePath.length === 0) {\n              // show channels\n              list = model()\n                .hubs.array.map(function (chan) {\n                  return {\n                    type: 'channel',\n                    text: chan.name,\n                    desc: chan.typeDefinition.name + '/' + chan.typeDefinition.version,\n                    from: CodeMirror.Pos(cursor.line, token.end)\n                  };\n                });\n            } else if (token.state.instancePath.length === 1) {\n              if (token.type === 'delimiter' && token.string === '.') {\n                // now show components\n                tmp = model()\n                  .findNodesByID(token.state.instancePath[0]);\n                if (tmp) {\n                  list = tmp.components.array.map(function (comp) {\n                    return {\n                      type: 'component',\n                      text: comp.name,\n                      desc: comp.typeDefinition.name + '/' + comp.typeDefinition.version,\n                      bufferText: comp.name + '.',\n                      from: CodeMirror.Pos(cursor.line, token.end)\n                    };\n                  });\n                }\n              } else {\n                list = model()\n                  .nodes.array.map(function (node) {\n                    return {\n                      type: 'node',\n                      text: node.name,\n                      desc: node.typeDefinition.name + '/' + node.typeDefinition.version,\n                      bufferText: node.name + '.'\n                    };\n                  });\n\n                if (cur.length > 0) {\n                  list = list.filter(function (item) {\n                    return item.text.startsWith(cur);\n                  });\n                }\n              }\n            } else if (token.state.instancePath.length === 2) {\n              if (token.type === 'delimiter' && token.string === '.') {\n                // now show components\n                tmp = model()\n                  .findNodesByID(token.state.instancePath[0]);\n                if (tmp) {\n                  var comp = tmp.findComponentsByID(token.state.instancePath[1]);\n                  if (comp) {\n                    list = comp.typeDefinition.provided.array\n                      .map(function (port) {\n                        return {\n                          type: 'input',\n                          text: port.name,\n                          from: CodeMirror.Pos(cursor.line, token.end)\n                        };\n                      })\n                      .concat(comp.typeDefinition.required.array\n                        .map(function (port) {\n                          return {\n                            type: 'output',\n                            text: port.name,\n                            from: CodeMirror.Pos(cursor.line, token.end)\n                          };\n                        }));\n                  }\n                }\n              }\n            }\n          } else if (token.state.stmt === 'attach' || token.state.stmt === 'detach') {\n            if (token.state.instancePath.length === 0 && token.type !== 'wildcard') {\n              // show groups\n              list = model()\n                .groups.array\n                .map(function (grp) {\n                  return {\n                    type: 'group',\n                    text: grp.name,\n                    desc: grp.typeDefinition.name + '/' + grp.typeDefinition.version,\n                    from: CodeMirror.Pos(cursor.line, token.end)\n                  };\n                });\n            } else if (token.state.instancePath.length === 1) {\n              if (token.type === 'delimiter' && token.string === '.') {\n                // now show components\n                tmp = model()\n                  .findNodesByID(token.state.instancePath[0]);\n                if (tmp) {\n                  list = tmp.components.array.map(function (comp) {\n                    return {\n                      type: 'component',\n                      text: comp.name,\n                      desc: comp.typeDefinition.name + '/' + comp.typeDefinition.version,\n                      bufferText: comp.name + '.',\n                      from: CodeMirror.Pos(cursor.line, token.end)\n                    };\n                  });\n                }\n              } else {\n                if (cur === ' ') {\n                  cur = '';\n                  start += 1;\n                }\n                list = model()\n                  .nodes.array.map(function (node) {\n                    return {\n                      type: 'node',\n                      text: node.name,\n                      desc: node.typeDefinition.name + '/' + node.typeDefinition.version\n                    };\n                  });\n\n                if (cur.length > 0) {\n                  list = list.filter(function (item) {\n                    return item.text.startsWith(cur);\n                  });\n                }\n              }\n            }\n          }\n          break;\n\n        default:\n          list = [];\n          break;\n      }\n\n      return callback({\n        list: list\n          .map(function (data) {\n            data.bufferText = data.bufferText || data.text;\n            data.typeText = function () {\n              return data.type.substr(0, 1);\n            };\n            return data;\n          })\n          .map(function (data) {\n            return {\n              text: data.bufferText,\n              className: 'cm-kevs-hint-elem',\n              render: function (elem) {\n                elem = jQuery(elem);\n                var renderedTpl = Mustache.render(HINT_TPL, data);\n                var child = jQuery(renderedTpl);\n                elem.append(child);\n              },\n              from: data.from,\n              to: data.to\n            };\n          }),\n        from: CodeMirror.Pos(cursor.line, start),\n        to: CodeMirror.Pos(cursor.line, end)\n      });\n    });\n  });\n","// DO NOT EDIT THIS FILE, EDIT THE GULP TASK NGCONSTANT SETTINGS INSTEAD WHICH GENERATES THIS FILE\nangular\n\t.module('editorApp')\n\t\t.constant('VERSION', \"5.14.0\")\n\t\t.constant('APP_NAME', \"Kevoree Web Editor\")\n\t\t.constant('KWE_POSITION', \"kwe_position\")\n\t\t.constant('KWE_FOLDED', \"kwe_folded\")\n\t\t.constant('KWE_TAG', \"kwe_tag\")\n\t\t.constant('KWE_SELECTED', \"kwe_selected\")\n\t\t.constant('KEVOREE_REGISTRY_URL', \"https://registry.kevoree.org\")\n;\n","angular.module('editorApp')\n\t.config(function ($stateProvider, $urlRouterProvider, hotkeysProvider, hljsServiceProvider, NotificationProvider) {\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n\t\t\t.state('app', {\n  abstract: true,\n  url: '?host&port&path',\n  views: {\n    'navbar@': {\n      templateUrl: 'app/navbar/navbar.html',\n      controller: 'NavBarCtrl',\n      controllerAs: 'vm'\n    }\n  }\n});\n\n  hotkeysProvider.template = '<div class=\"editor-shortcuts\" ng-include src=\"\\'app/components/util/hotkeys.html\\'\" data-ng-if=\"helpVisible\"></div>';\n\n  hljsServiceProvider.setOptions({\n    tabReplace: '  '\n  });\n\n  NotificationProvider.setOptions({\n    startTop: 90,\n    replaceMessage: true,\n    delay: 5000\n  });\n\n  TinyConf.set('cache', {\n    root: 'kevs-cache-',\n    ttl: 1000 * 60 * 60 * 24 // 24 hours\n  });\n});\n"],"sourceRoot":"/source/"}